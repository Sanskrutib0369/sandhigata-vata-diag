(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(r){if(r.ep)return;r.ep=!0;const f=o(r);fetch(r.href,f)}})();function Ph(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var su={exports:{}},jo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function u0(){if(Jp)return jo;Jp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(s,r,f){var d=null;if(f!==void 0&&(d=""+f),r.key!==void 0&&(d=""+r.key),"key"in r){f={};for(var h in r)h!=="key"&&(f[h]=r[h])}else f=r;return r=f.ref,{$$typeof:i,type:s,key:d,ref:r!==void 0?r:null,props:f}}return jo.Fragment=t,jo.jsx=o,jo.jsxs=o,jo}var Kp;function c0(){return Kp||(Kp=1,su.exports=u0()),su.exports}var E=c0(),au={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function f0(){if(Xp)return re;Xp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),_=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,U={};function B(R,k,Z){this.props=R,this.context=k,this.refs=U,this.updater=Z||b}B.prototype.isReactComponent={},B.prototype.setState=function(R,k){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,k,"setState")},B.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function Y(){}Y.prototype=B.prototype;function F(R,k,Z){this.props=R,this.context=k,this.refs=U,this.updater=Z||b}var J=F.prototype=new Y;J.constructor=F,G(J,B.prototype),J.isPureReactComponent=!0;var z=Array.isArray;function ie(){}var K={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function $(R,k,Z){var j=Z.ref;return{$$typeof:i,type:R,key:k,ref:j!==void 0?j:null,props:Z}}function O(R,k){return $(R.type,k,R.props)}function le(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function ve(R){var k={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Z){return k[Z]})}var De=/\/+/g;function Re(R,k){return typeof R=="object"&&R!==null&&R.key!=null?ve(""+R.key):k.toString(36)}function Qe(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(ie,ie):(R.status="pending",R.then(function(k){R.status==="pending"&&(R.status="fulfilled",R.value=k)},function(k){R.status==="pending"&&(R.status="rejected",R.reason=k)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function P(R,k,Z,j,ue){var de=typeof R;(de==="undefined"||de==="boolean")&&(R=null);var Ae=!1;if(R===null)Ae=!0;else switch(de){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(R.$$typeof){case i:case t:Ae=!0;break;case v:return Ae=R._init,P(Ae(R._payload),k,Z,j,ue)}}if(Ae)return ue=ue(R),Ae=j===""?"."+Re(R,0):j,z(ue)?(Z="",Ae!=null&&(Z=Ae.replace(De,"$&/")+"/"),P(ue,k,Z,"",function(lo){return lo})):ue!=null&&(le(ue)&&(ue=O(ue,Z+(ue.key==null||R&&R.key===ue.key?"":(""+ue.key).replace(De,"$&/")+"/")+Ae)),k.push(ue)),1;Ae=0;var at=j===""?".":j+":";if(z(R))for(var qe=0;qe<R.length;qe++)j=R[qe],de=at+Re(j,qe),Ae+=P(j,k,Z,de,ue);else if(qe=x(R),typeof qe=="function")for(R=qe.call(R),qe=0;!(j=R.next()).done;)j=j.value,de=at+Re(j,qe++),Ae+=P(j,k,Z,de,ue);else if(de==="object"){if(typeof R.then=="function")return P(Qe(R),k,Z,j,ue);throw k=String(R),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function X(R,k,Z){if(R==null)return R;var j=[],ue=0;return P(R,j,"","",function(de){return k.call(Z,de,ue++)}),j}function te(R){if(R._status===-1){var k=R._result;k=k(),k.then(function(Z){(R._status===0||R._status===-1)&&(R._status=1,R._result=Z)},function(Z){(R._status===0||R._status===-1)&&(R._status=2,R._result=Z)}),R._status===-1&&(R._status=0,R._result=k)}if(R._status===1)return R._result.default;throw R._result}var Te=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},we={map:X,forEach:function(R,k,Z){X(R,function(){k.apply(this,arguments)},Z)},count:function(R){var k=0;return X(R,function(){k++}),k},toArray:function(R){return X(R,function(k){return k})||[]},only:function(R){if(!le(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return re.Activity=S,re.Children=we,re.Component=B,re.Fragment=o,re.Profiler=r,re.PureComponent=F,re.StrictMode=s,re.Suspense=y,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,re.__COMPILER_RUNTIME={__proto__:null,c:function(R){return K.H.useMemoCache(R)}},re.cache=function(R){return function(){return R.apply(null,arguments)}},re.cacheSignal=function(){return null},re.cloneElement=function(R,k,Z){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var j=G({},R.props),ue=R.key;if(k!=null)for(de in k.key!==void 0&&(ue=""+k.key),k)!se.call(k,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&k.ref===void 0||(j[de]=k[de]);var de=arguments.length-2;if(de===1)j.children=Z;else if(1<de){for(var Ae=Array(de),at=0;at<de;at++)Ae[at]=arguments[at+2];j.children=Ae}return $(R.type,ue,j)},re.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:f,_context:R},R},re.createElement=function(R,k,Z){var j,ue={},de=null;if(k!=null)for(j in k.key!==void 0&&(de=""+k.key),k)se.call(k,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(ue[j]=k[j]);var Ae=arguments.length-2;if(Ae===1)ue.children=Z;else if(1<Ae){for(var at=Array(Ae),qe=0;qe<Ae;qe++)at[qe]=arguments[qe+2];ue.children=at}if(R&&R.defaultProps)for(j in Ae=R.defaultProps,Ae)ue[j]===void 0&&(ue[j]=Ae[j]);return $(R,de,ue)},re.createRef=function(){return{current:null}},re.forwardRef=function(R){return{$$typeof:h,render:R}},re.isValidElement=le,re.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:te}},re.memo=function(R,k){return{$$typeof:g,type:R,compare:k===void 0?null:k}},re.startTransition=function(R){var k=K.T,Z={};K.T=Z;try{var j=R(),ue=K.S;ue!==null&&ue(Z,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(ie,Te)}catch(de){Te(de)}finally{k!==null&&Z.types!==null&&(k.types=Z.types),K.T=k}},re.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},re.use=function(R){return K.H.use(R)},re.useActionState=function(R,k,Z){return K.H.useActionState(R,k,Z)},re.useCallback=function(R,k){return K.H.useCallback(R,k)},re.useContext=function(R){return K.H.useContext(R)},re.useDebugValue=function(){},re.useDeferredValue=function(R,k){return K.H.useDeferredValue(R,k)},re.useEffect=function(R,k){return K.H.useEffect(R,k)},re.useEffectEvent=function(R){return K.H.useEffectEvent(R)},re.useId=function(){return K.H.useId()},re.useImperativeHandle=function(R,k,Z){return K.H.useImperativeHandle(R,k,Z)},re.useInsertionEffect=function(R,k){return K.H.useInsertionEffect(R,k)},re.useLayoutEffect=function(R,k){return K.H.useLayoutEffect(R,k)},re.useMemo=function(R,k){return K.H.useMemo(R,k)},re.useOptimistic=function(R,k){return K.H.useOptimistic(R,k)},re.useReducer=function(R,k,Z){return K.H.useReducer(R,k,Z)},re.useRef=function(R){return K.H.useRef(R)},re.useState=function(R){return K.H.useState(R)},re.useSyncExternalStore=function(R,k,Z){return K.H.useSyncExternalStore(R,k,Z)},re.useTransition=function(){return K.H.useTransition()},re.version="19.2.4",re}var Qp;function Du(){return Qp||(Qp=1,au.exports=f0()),au.exports}var Je=Du();const d0=Ph(Je);var ru={exports:{}},el={},uu={exports:{}},cu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function p0(){return Zp||(Zp=1,(function(i){function t(P,X){var te=P.length;P.push(X);e:for(;0<te;){var Te=te-1>>>1,we=P[Te];if(0<r(we,X))P[Te]=X,P[te]=we,te=Te;else break e}}function o(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var X=P[0],te=P.pop();if(te!==X){P[0]=te;e:for(var Te=0,we=P.length,R=we>>>1;Te<R;){var k=2*(Te+1)-1,Z=P[k],j=k+1,ue=P[j];if(0>r(Z,te))j<we&&0>r(ue,Z)?(P[Te]=ue,P[j]=te,Te=j):(P[Te]=Z,P[k]=te,Te=k);else if(j<we&&0>r(ue,te))P[Te]=ue,P[j]=te,Te=j;else break e}}return X}function r(P,X){var te=P.sortIndex-X.sortIndex;return te!==0?te:P.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var y=[],g=[],v=1,S=null,_=3,x=!1,b=!1,G=!1,U=!1,B=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function J(P){for(var X=o(g);X!==null;){if(X.callback===null)s(g);else if(X.startTime<=P)s(g),X.sortIndex=X.expirationTime,t(y,X);else break;X=o(g)}}function z(P){if(G=!1,J(P),!b)if(o(y)!==null)b=!0,ie||(ie=!0,ve());else{var X=o(g);X!==null&&Qe(z,X.startTime-P)}}var ie=!1,K=-1,se=5,$=-1;function O(){return U?!0:!(i.unstable_now()-$<se)}function le(){if(U=!1,ie){var P=i.unstable_now();$=P;var X=!0;try{e:{b=!1,G&&(G=!1,Y(K),K=-1),x=!0;var te=_;try{t:{for(J(P),S=o(y);S!==null&&!(S.expirationTime>P&&O());){var Te=S.callback;if(typeof Te=="function"){S.callback=null,_=S.priorityLevel;var we=Te(S.expirationTime<=P);if(P=i.unstable_now(),typeof we=="function"){S.callback=we,J(P),X=!0;break t}S===o(y)&&s(y),J(P)}else s(y);S=o(y)}if(S!==null)X=!0;else{var R=o(g);R!==null&&Qe(z,R.startTime-P),X=!1}}break e}finally{S=null,_=te,x=!1}X=void 0}}finally{X?ve():ie=!1}}}var ve;if(typeof F=="function")ve=function(){F(le)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Re=De.port2;De.port1.onmessage=le,ve=function(){Re.postMessage(null)}}else ve=function(){B(le,0)};function Qe(P,X){K=B(function(){P(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(P){P.callback=null},i.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<P?Math.floor(1e3/P):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(P){switch(_){case 1:case 2:case 3:var X=3;break;default:X=_}var te=_;_=X;try{return P()}finally{_=te}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(P,X){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var te=_;_=P;try{return X()}finally{_=te}},i.unstable_scheduleCallback=function(P,X,te){var Te=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Te+te:Te):te=Te,P){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=te+we,P={id:v++,callback:X,priorityLevel:P,startTime:te,expirationTime:we,sortIndex:-1},te>Te?(P.sortIndex=te,t(g,P),o(y)===null&&P===o(g)&&(G?(Y(K),K=-1):G=!0,Qe(z,te-Te))):(P.sortIndex=we,t(y,P),b||x||(b=!0,ie||(ie=!0,ve()))),P},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(P){var X=_;return function(){var te=_;_=X;try{return P.apply(this,arguments)}finally{_=te}}}})(cu)),cu}var $p;function m0(){return $p||($p=1,uu.exports=p0()),uu.exports}var fu={exports:{}},lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function h0(){if(Wp)return lt;Wp=1;var i=Du();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,g,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:y,containerInfo:g,implementation:v}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,lt.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return f(y,g,null,v)},lt.flushSync=function(y){var g=d.T,v=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=g,s.p=v,s.d.f()}},lt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},lt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},lt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,S=h(v,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:_,fetchPriority:x}):v==="script"&&s.d.X(y,{crossOrigin:S,integrity:_,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},lt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},lt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,S=h(v,g.crossOrigin);s.d.L(y,v,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},lt.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=h(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},lt.requestFormReset=function(y){s.d.r(y)},lt.unstable_batchedUpdates=function(y,g){return y(g)},lt.useFormState=function(y,g,v){return d.H.useFormState(y,g,v)},lt.useFormStatus=function(){return d.H.useHostTransitionStatus()},lt.version="19.2.4",lt}var jp;function g0(){if(jp)return fu.exports;jp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),fu.exports=h0(),fu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function y0(){if(em)return el;em=1;var i=m0(),t=Du(),o=g0();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(s(188))}function g(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(s(188));return n!==e?null:e}for(var l=e,a=n;;){var p=l.return;if(p===null)break;var m=p.alternate;if(m===null){if(a=p.return,a!==null){l=a;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===l)return y(p),e;if(m===a)return y(p),n;m=m.sibling}throw Error(s(188))}if(l.return!==a.return)l=p,a=m;else{for(var T=!1,C=p.child;C;){if(C===l){T=!0,l=p,a=m;break}if(C===a){T=!0,a=p,l=m;break}C=C.sibling}if(!T){for(C=m.child;C;){if(C===l){T=!0,l=m,a=p;break}if(C===a){T=!0,a=m,l=p;break}C=C.sibling}if(!T)throw Error(s(189))}}if(l.alternate!==a)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),F=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function ve(e){return e===null||typeof e!="object"?null:(e=le&&e[le]||e["@@iterator"],typeof e=="function"?e:null)}var De=Symbol.for("react.client.reference");function Re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===De?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case B:return"Profiler";case U:return"StrictMode";case z:return"Suspense";case ie:return"SuspenseList";case $:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case F:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case J:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return n=e.displayName||null,n!==null?n:Re(e.type)||"Memo";case se:n=e._payload,e=e._init;try{return Re(e(n))}catch{}}return null}var Qe=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Te=[],we=-1;function R(e){return{current:e}}function k(e){0>we||(e.current=Te[we],Te[we]=null,we--)}function Z(e,n){we++,Te[we]=e.current,e.current=n}var j=R(null),ue=R(null),de=R(null),Ae=R(null);function at(e,n){switch(Z(de,n),Z(ue,e),Z(j,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?hp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=hp(n),e=gp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(j),Z(j,e)}function qe(){k(j),k(ue),k(de)}function lo(e){e.memoizedState!==null&&Z(Ae,e);var n=j.current,l=gp(n,e.type);n!==l&&(Z(ue,e),Z(j,l))}function ll(e){ue.current===e&&(k(j),k(ue)),Ae.current===e&&(k(Ae),Qo._currentValue=te)}var Bs,Fu;function Jn(e){if(Bs===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Bs=n&&n[1]||"",Fu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bs+e+Fu}var Os=!1;function Fs(e,n){if(!e||Os)return"";Os=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(L){var w=L}Reflect.construct(e,[],q)}else{try{q.call()}catch(L){w=L}e.call(q.prototype)}}else{try{throw Error()}catch(L){w=L}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(L){if(L&&w&&typeof L.stack=="string")return[L.stack,w.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=a.DetermineComponentFrameRoot(),T=m[0],C=m[1];if(T&&C){var A=T.split(`
`),D=C.split(`
`);for(p=a=0;a<A.length&&!A[a].includes("DetermineComponentFrameRoot");)a++;for(;p<D.length&&!D[p].includes("DetermineComponentFrameRoot");)p++;if(a===A.length||p===D.length)for(a=A.length-1,p=D.length-1;1<=a&&0<=p&&A[a]!==D[p];)p--;for(;1<=a&&0<=p;a--,p--)if(A[a]!==D[p]){if(a!==1||p!==1)do if(a--,p--,0>p||A[a]!==D[p]){var H=`
`+A[a].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=a&&0<=p);break}}}finally{Os=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Jn(l):""}function zg(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return Fs(e.type,!1);case 11:return Fs(e.type.render,!1);case 1:return Fs(e.type,!0);case 31:return Jn("Activity");default:return""}}function Yu(e){try{var n="",l=null;do n+=zg(e,l),l=e,e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Ys=Object.prototype.hasOwnProperty,Js=i.unstable_scheduleCallback,Ks=i.unstable_cancelCallback,kg=i.unstable_shouldYield,Bg=i.unstable_requestPaint,vt=i.unstable_now,Og=i.unstable_getCurrentPriorityLevel,Ju=i.unstable_ImmediatePriority,Ku=i.unstable_UserBlockingPriority,sl=i.unstable_NormalPriority,Fg=i.unstable_LowPriority,Xu=i.unstable_IdlePriority,Yg=i.log,Jg=i.unstable_setDisableYieldValue,so=null,Tt=null;function Tn(e){if(typeof Yg=="function"&&Jg(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(so,e)}catch{}}var St=Math.clz32?Math.clz32:Qg,Kg=Math.log,Xg=Math.LN2;function Qg(e){return e>>>=0,e===0?32:31-(Kg(e)/Xg|0)|0}var al=256,rl=262144,ul=4194304;function Kn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function cl(e,n,l){var a=e.pendingLanes;if(a===0)return 0;var p=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var C=a&134217727;return C!==0?(a=C&~m,a!==0?p=Kn(a):(T&=C,T!==0?p=Kn(T):l||(l=C&~e,l!==0&&(p=Kn(l))))):(C=a&~m,C!==0?p=Kn(C):T!==0?p=Kn(T):l||(l=a&~e,l!==0&&(p=Kn(l)))),p===0?0:n!==0&&n!==p&&(n&m)===0&&(m=p&-p,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:p}function ao(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Zg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qu(){var e=ul;return ul<<=1,(ul&62914560)===0&&(ul=4194304),e}function Xs(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function ro(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $g(e,n,l,a,p,m){var T=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var C=e.entanglements,A=e.expirationTimes,D=e.hiddenUpdates;for(l=T&~l;0<l;){var H=31-St(l),q=1<<H;C[H]=0,A[H]=-1;var w=D[H];if(w!==null)for(D[H]=null,H=0;H<w.length;H++){var L=w[H];L!==null&&(L.lane&=-536870913)}l&=~q}a!==0&&Zu(e,a,0),m!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~n))}function Zu(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var a=31-St(n);e.entangledLanes|=n,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function $u(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var a=31-St(l),p=1<<a;p&n|e[a]&n&&(e[a]|=n),l&=~p}}function Wu(e,n){var l=n&-n;return l=(l&42)!==0?1:Qs(l),(l&(e.suspendedLanes|n))!==0?0:l}function Qs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ju(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:qp(e.type))}function ec(e,n){var l=X.p;try{return X.p=e,n()}finally{X.p=l}}var Sn=Math.random().toString(36).slice(2),je="__reactFiber$"+Sn,ft="__reactProps$"+Sn,pi="__reactContainer$"+Sn,$s="__reactEvents$"+Sn,Wg="__reactListeners$"+Sn,jg="__reactHandles$"+Sn,tc="__reactResources$"+Sn,uo="__reactMarker$"+Sn;function Ws(e){delete e[je],delete e[ft],delete e[$s],delete e[Wg],delete e[jg]}function mi(e){var n=e[je];if(n)return n;for(var l=e.parentNode;l;){if(n=l[pi]||l[je]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Cp(e);e!==null;){if(l=e[je])return l;e=Cp(e)}return n}e=l,l=e.parentNode}return null}function hi(e){if(e=e[je]||e[pi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function co(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function gi(e){var n=e[tc];return n||(n=e[tc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ze(e){e[uo]=!0}var nc=new Set,ic={};function Xn(e,n){yi(e,n),yi(e+"Capture",n)}function yi(e,n){for(ic[e]=n,e=0;e<n.length;e++)nc.add(n[e])}var ey=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oc={},lc={};function ty(e){return Ys.call(lc,e)?!0:Ys.call(oc,e)?!1:ey.test(e)?lc[e]=!0:(oc[e]=!0,!1)}function fl(e,n,l){if(ty(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var a=n.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function dl(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function $t(e,n,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+a)}}function Mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ny(e,n,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,m=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function js(e){if(!e._valueTracker){var n=sc(e)?"checked":"value";e._valueTracker=ny(e,n,""+e[n])}}function ac(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),a="";return e&&(a=sc(e)?e.checked?"true":"false":e.value),e=a,e!==l?(n.setValue(e),!0):!1}function pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var iy=/[\n"\\]/g;function bt(e){return e.replace(iy,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(e,n,l,a,p,m,T,C){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Mt(n)):e.value!==""+Mt(n)&&(e.value=""+Mt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?ta(e,T,Mt(n)):l!=null?ta(e,T,Mt(l)):a!=null&&e.removeAttribute("value"),p==null&&m!=null&&(e.defaultChecked=!!m),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Mt(C):e.removeAttribute("name")}function rc(e,n,l,a,p,m,T,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){js(e);return}l=l!=null?""+Mt(l):"",n=n!=null?""+Mt(n):l,C||n===e.value||(e.value=n),e.defaultValue=n}a=a??p,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=C?e.checked:!!a,e.defaultChecked=!!a,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),js(e)}function ta(e,n,l){n==="number"&&pl(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function vi(e,n,l,a){if(e=e.options,n){n={};for(var p=0;p<l.length;p++)n["$"+l[p]]=!0;for(l=0;l<e.length;l++)p=n.hasOwnProperty("$"+e[l].value),e[l].selected!==p&&(e[l].selected=p),p&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Mt(l),n=null,p=0;p<e.length;p++){if(e[p].value===l){e[p].selected=!0,a&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function uc(e,n,l){if(n!=null&&(n=""+Mt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+Mt(l):""}function cc(e,n,l,a){if(n==null){if(a!=null){if(l!=null)throw Error(s(92));if(Qe(a)){if(1<a.length)throw Error(s(93));a=a[0]}l=a}l==null&&(l=""),n=l}l=Mt(n),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),js(e)}function Ti(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var oy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fc(e,n,l){var a=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":a?e.setProperty(n,l):typeof l!="number"||l===0||oy.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function dc(e,n,l){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||n!=null&&n.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var p in n)a=n[p],n.hasOwnProperty(p)&&l[p]!==a&&fc(e,p,a)}else for(var m in n)n.hasOwnProperty(m)&&fc(e,m,n[m])}function na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ly=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ml(e){return sy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wt(){}var ia=null;function oa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Si=null,_i=null;function pc(e){var n=hi(e);if(n&&(e=n.stateNode)){var l=e[ft]||null;e:switch(e=n.stateNode,n.type){case"input":if(ea(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+bt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var a=l[n];if(a!==e&&a.form===e.form){var p=a[ft]||null;if(!p)throw Error(s(90));ea(a,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<l.length;n++)a=l[n],a.form===e.form&&ac(a)}break e;case"textarea":uc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&vi(e,!!l.multiple,n,!1)}}}var la=!1;function mc(e,n,l){if(la)return e(n,l);la=!0;try{var a=e(n);return a}finally{if(la=!1,(Si!==null||_i!==null)&&(ts(),Si&&(n=Si,e=_i,_i=Si=null,pc(n),e)))for(n=0;n<e.length;n++)pc(e[n])}}function fo(e,n){var l=e.stateNode;if(l===null)return null;var a=l[ft]||null;if(a===null)return null;l=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,n,typeof l));return l}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=!1;if(jt)try{var po={};Object.defineProperty(po,"passive",{get:function(){sa=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{sa=!1}var _n=null,aa=null,hl=null;function hc(){if(hl)return hl;var e,n=aa,l=n.length,a,p="value"in _n?_n.value:_n.textContent,m=p.length;for(e=0;e<l&&n[e]===p[e];e++);var T=l-e;for(a=1;a<=T&&n[l-a]===p[m-a];a++);return hl=p.slice(e,1<a?1-a:void 0)}function gl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function yl(){return!0}function gc(){return!1}function dt(e){function n(l,a,p,m,T){this._reactName=l,this._targetInst=p,this.type=a,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(l=e[C],this[C]=l?l(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?yl:gc,this.isPropagationStopped=gc,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),n}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=dt(Qn),mo=S({},Qn,{view:0,detail:0}),ay=dt(mo),ra,ua,ho,Tl=S({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ho&&(ho&&e.type==="mousemove"?(ra=e.screenX-ho.screenX,ua=e.screenY-ho.screenY):ua=ra=0,ho=e),ra)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),yc=dt(Tl),ry=S({},Tl,{dataTransfer:0}),uy=dt(ry),cy=S({},mo,{relatedTarget:0}),ca=dt(cy),fy=S({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),dy=dt(fy),py=S({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),my=dt(py),hy=S({},Qn,{data:0}),vc=dt(hy),gy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ty(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vy[e])?!!n[e]:!1}function fa(){return Ty}var Sy=S({},mo,{key:function(e){if(e.key){var n=gy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(e){return e.type==="keypress"?gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_y=dt(Sy),Ey=S({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tc=dt(Ey),Cy=S({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),Ay=dt(Cy),xy=S({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ny=dt(xy),Ry=S({},Tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),My=dt(Ry),by=S({},Qn,{newState:0,oldState:0}),Iy=dt(by),Dy=[9,13,27,32],da=jt&&"CompositionEvent"in window,go=null;jt&&"documentMode"in document&&(go=document.documentMode);var wy=jt&&"TextEvent"in window&&!go,Sc=jt&&(!da||go&&8<go&&11>=go),_c=" ",Ec=!1;function Cc(e,n){switch(e){case"keyup":return Dy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ac(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ei=!1;function Uy(e,n){switch(e){case"compositionend":return Ac(n);case"keypress":return n.which!==32?null:(Ec=!0,_c);case"textInput":return e=n.data,e===_c&&Ec?null:e;default:return null}}function Ly(e,n){if(Ei)return e==="compositionend"||!da&&Cc(e,n)?(e=hc(),hl=aa=_n=null,Ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Sc&&n.locale!=="ko"?null:n.data;default:return null}}var Gy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Gy[e.type]:n==="textarea"}function Nc(e,n,l,a){Si?_i?_i.push(a):_i=[a]:Si=a,n=rs(n,"onChange"),0<n.length&&(l=new vl("onChange","change",null,l,a),e.push({event:l,listeners:n}))}var yo=null,vo=null;function Hy(e){up(e,0)}function Sl(e){var n=co(e);if(ac(n))return e}function Rc(e,n){if(e==="change")return n}var Mc=!1;if(jt){var pa;if(jt){var ma="oninput"in document;if(!ma){var bc=document.createElement("div");bc.setAttribute("oninput","return;"),ma=typeof bc.oninput=="function"}pa=ma}else pa=!1;Mc=pa&&(!document.documentMode||9<document.documentMode)}function Ic(){yo&&(yo.detachEvent("onpropertychange",Dc),vo=yo=null)}function Dc(e){if(e.propertyName==="value"&&Sl(vo)){var n=[];Nc(n,vo,e,oa(e)),mc(Hy,n)}}function Py(e,n,l){e==="focusin"?(Ic(),yo=n,vo=l,yo.attachEvent("onpropertychange",Dc)):e==="focusout"&&Ic()}function Vy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sl(vo)}function qy(e,n){if(e==="click")return Sl(n)}function zy(e,n){if(e==="input"||e==="change")return Sl(n)}function ky(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _t=typeof Object.is=="function"?Object.is:ky;function To(e,n){if(_t(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),a=Object.keys(n);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var p=l[a];if(!Ys.call(n,p)||!_t(e[p],n[p]))return!1}return!0}function wc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uc(e,n){var l=wc(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=n&&a>=n)return{node:l,offset:n-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=wc(l)}}function Lc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Lc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Gc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pl(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=pl(e.document)}return n}function ha(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var By=jt&&"documentMode"in document&&11>=document.documentMode,Ci=null,ga=null,So=null,ya=!1;function Hc(e,n,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ya||Ci==null||Ci!==pl(a)||(a=Ci,"selectionStart"in a&&ha(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),So&&To(So,a)||(So=a,a=rs(ga,"onSelect"),0<a.length&&(n=new vl("onSelect","select",null,n,l),e.push({event:n,listeners:a}),n.target=Ci)))}function Zn(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Ai={animationend:Zn("Animation","AnimationEnd"),animationiteration:Zn("Animation","AnimationIteration"),animationstart:Zn("Animation","AnimationStart"),transitionrun:Zn("Transition","TransitionRun"),transitionstart:Zn("Transition","TransitionStart"),transitioncancel:Zn("Transition","TransitionCancel"),transitionend:Zn("Transition","TransitionEnd")},va={},Pc={};jt&&(Pc=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function $n(e){if(va[e])return va[e];if(!Ai[e])return e;var n=Ai[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Pc)return va[e]=n[l];return e}var Vc=$n("animationend"),qc=$n("animationiteration"),zc=$n("animationstart"),Oy=$n("transitionrun"),Fy=$n("transitionstart"),Yy=$n("transitioncancel"),kc=$n("transitionend"),Bc=new Map,Ta="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ta.push("scrollEnd");function kt(e,n){Bc.set(e,n),Xn(n,[e])}var _l=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],xi=0,Sa=0;function El(){for(var e=xi,n=Sa=xi=0;n<e;){var l=It[n];It[n++]=null;var a=It[n];It[n++]=null;var p=It[n];It[n++]=null;var m=It[n];if(It[n++]=null,a!==null&&p!==null){var T=a.pending;T===null?p.next=p:(p.next=T.next,T.next=p),a.pending=p}m!==0&&Oc(l,p,m)}}function Cl(e,n,l,a){It[xi++]=e,It[xi++]=n,It[xi++]=l,It[xi++]=a,Sa|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function _a(e,n,l,a){return Cl(e,n,l,a),Al(e)}function Wn(e,n){return Cl(e,null,null,n),Al(e)}function Oc(e,n,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var p=!1,m=e.return;m!==null;)m.childLanes|=l,a=m.alternate,a!==null&&(a.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(p=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,p&&n!==null&&(p=31-St(l),e=m.hiddenUpdates,a=e[p],a===null?e[p]=[n]:a.push(n),n.lane=l|536870912),m):null}function Al(e){if(50<Bo)throw Bo=0,Ir=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ni={};function Jy(e,n,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,n,l,a){return new Jy(e,n,l,a)}function Ea(e){return e=e.prototype,!(!e||!e.isReactComponent)}function en(e,n){var l=e.alternate;return l===null?(l=Et(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Fc(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function xl(e,n,l,a,p,m){var T=0;if(a=e,typeof e=="function")Ea(e)&&(T=1);else if(typeof e=="string")T=$v(e,l,j.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $:return e=Et(31,l,n,p),e.elementType=$,e.lanes=m,e;case G:return jn(l.children,p,m,n);case U:T=8,p|=24;break;case B:return e=Et(12,l,n,p|2),e.elementType=B,e.lanes=m,e;case z:return e=Et(13,l,n,p),e.elementType=z,e.lanes=m,e;case ie:return e=Et(19,l,n,p),e.elementType=ie,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:T=10;break e;case Y:T=9;break e;case J:T=11;break e;case K:T=14;break e;case se:T=16,a=null;break e}T=29,l=Error(s(130,e===null?"null":typeof e,"")),a=null}return n=Et(T,l,n,p),n.elementType=e,n.type=a,n.lanes=m,n}function jn(e,n,l,a){return e=Et(7,e,a,n),e.lanes=l,e}function Ca(e,n,l){return e=Et(6,e,null,n),e.lanes=l,e}function Yc(e){var n=Et(18,null,null,0);return n.stateNode=e,n}function Aa(e,n,l){return n=Et(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Jc=new WeakMap;function Dt(e,n){if(typeof e=="object"&&e!==null){var l=Jc.get(e);return l!==void 0?l:(n={value:e,source:n,stack:Yu(n)},Jc.set(e,n),n)}return{value:e,source:n,stack:Yu(n)}}var Ri=[],Mi=0,Nl=null,_o=0,wt=[],Ut=0,En=null,Kt=1,Xt="";function tn(e,n){Ri[Mi++]=_o,Ri[Mi++]=Nl,Nl=e,_o=n}function Kc(e,n,l){wt[Ut++]=Kt,wt[Ut++]=Xt,wt[Ut++]=En,En=e;var a=Kt;e=Xt;var p=32-St(a)-1;a&=~(1<<p),l+=1;var m=32-St(n)+p;if(30<m){var T=p-p%5;m=(a&(1<<T)-1).toString(32),a>>=T,p-=T,Kt=1<<32-St(n)+p|l<<p|a,Xt=m+e}else Kt=1<<m|l<<p|a,Xt=e}function xa(e){e.return!==null&&(tn(e,1),Kc(e,1,0))}function Na(e){for(;e===Nl;)Nl=Ri[--Mi],Ri[Mi]=null,_o=Ri[--Mi],Ri[Mi]=null;for(;e===En;)En=wt[--Ut],wt[Ut]=null,Xt=wt[--Ut],wt[Ut]=null,Kt=wt[--Ut],wt[Ut]=null}function Xc(e,n){wt[Ut++]=Kt,wt[Ut++]=Xt,wt[Ut++]=En,Kt=n.id,Xt=n.overflow,En=e}var et=null,Le=null,ye=!1,Cn=null,Lt=!1,Ra=Error(s(519));function An(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Eo(Dt(n,e)),Ra}function Qc(e){var n=e.stateNode,l=e.type,a=e.memoizedProps;switch(n[je]=e,n[ft]=a,l){case"dialog":me("cancel",n),me("close",n);break;case"iframe":case"object":case"embed":me("load",n);break;case"video":case"audio":for(l=0;l<Fo.length;l++)me(Fo[l],n);break;case"source":me("error",n);break;case"img":case"image":case"link":me("error",n),me("load",n);break;case"details":me("toggle",n);break;case"input":me("invalid",n),rc(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":me("invalid",n);break;case"textarea":me("invalid",n),cc(n,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||a.suppressHydrationWarning===!0||pp(n.textContent,l)?(a.popover!=null&&(me("beforetoggle",n),me("toggle",n)),a.onScroll!=null&&me("scroll",n),a.onScrollEnd!=null&&me("scrollend",n),a.onClick!=null&&(n.onclick=Wt),n=!0):n=!1,n||An(e,!0)}function Zc(e){for(et=e.return;et;)switch(et.tag){case 5:case 31:case 13:Lt=!1;return;case 27:case 3:Lt=!0;return;default:et=et.return}}function bi(e){if(e!==et)return!1;if(!ye)return Zc(e),ye=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Yr(e.type,e.memoizedProps)),l=!l),l&&Le&&An(e),Zc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Le=Ep(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Le=Ep(e)}else n===27?(n=Le,Vn(e.type)?(e=Zr,Zr=null,Le=e):Le=n):Le=et?Ht(e.stateNode.nextSibling):null;return!0}function ei(){Le=et=null,ye=!1}function Ma(){var e=Cn;return e!==null&&(gt===null?gt=e:gt.push.apply(gt,e),Cn=null),e}function Eo(e){Cn===null?Cn=[e]:Cn.push(e)}var ba=R(null),ti=null,nn=null;function xn(e,n,l){Z(ba,n._currentValue),n._currentValue=l}function on(e){e._currentValue=ba.current,k(ba)}function Ia(e,n,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===l)break;e=e.return}}function Da(e,n,l,a){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var m=p.dependencies;if(m!==null){var T=p.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=p;for(var A=0;A<n.length;A++)if(C.context===n[A]){m.lanes|=l,C=m.alternate,C!==null&&(C.lanes|=l),Ia(m.return,l,e),a||(T=null);break e}m=C.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(s(341));T.lanes|=l,m=T.alternate,m!==null&&(m.lanes|=l),Ia(T,l,e),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===e){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Ii(e,n,l,a){e=null;for(var p=n,m=!1;p!==null;){if(!m){if((p.flags&524288)!==0)m=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var C=p.type;_t(p.pendingProps.value,T.value)||(e!==null?e.push(C):e=[C])}}else if(p===Ae.current){if(T=p.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(Qo):e=[Qo])}p=p.return}e!==null&&Da(n,e,l,a),n.flags|=262144}function Rl(e){for(e=e.firstContext;e!==null;){if(!_t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ni(e){ti=e,nn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tt(e){return $c(ti,e)}function Ml(e,n){return ti===null&&ni(e),$c(e,n)}function $c(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},nn===null){if(e===null)throw Error(s(308));nn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else nn=nn.next=n;return l}var Ky=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},Xy=i.unstable_scheduleCallback,Qy=i.unstable_NormalPriority,Be={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wa(){return{controller:new Ky,data:new Map,refCount:0}}function Co(e){e.refCount--,e.refCount===0&&Xy(Qy,function(){e.controller.abort()})}var Ao=null,Ua=0,Di=0,wi=null;function Zy(e,n){if(Ao===null){var l=Ao=[];Ua=0,Di=Hr(),wi={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Ua++,n.then(Wc,Wc),n}function Wc(){if(--Ua===0&&Ao!==null){wi!==null&&(wi.status="fulfilled");var e=Ao;Ao=null,Di=0,wi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function $y(e,n){var l=[],a={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return e.then(function(){a.status="fulfilled",a.value=n;for(var p=0;p<l.length;p++)(0,l[p])(n)},function(p){for(a.status="rejected",a.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),a}var jc=P.S;P.S=function(e,n){Pd=vt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Zy(e,n),jc!==null&&jc(e,n)};var ii=R(null);function La(){var e=ii.current;return e!==null?e:Ue.pooledCache}function bl(e,n){n===null?Z(ii,ii.current):Z(ii,n.pool)}function ef(){var e=La();return e===null?null:{parent:Be._currentValue,pool:e}}var Ui=Error(s(460)),Ga=Error(s(474)),Il=Error(s(542)),Dl={then:function(){}};function tf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function nf(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(Wt,Wt),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lf(e),e;default:if(typeof n.status=="string")n.then(Wt,Wt);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(a){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=a}},function(a){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=a}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lf(e),e}throw li=n,Ui}}function oi(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(li=l,Ui):l}}var li=null;function of(){if(li===null)throw Error(s(459));var e=li;return li=null,e}function lf(e){if(e===Ui||e===Il)throw Error(s(483))}var Li=null,xo=0;function wl(e){var n=xo;return xo+=1,Li===null&&(Li=[]),nf(Li,e,n)}function No(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ul(e,n){throw n.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function sf(e){function n(M,N){if(e){var I=M.deletions;I===null?(M.deletions=[N],M.flags|=16):I.push(N)}}function l(M,N){if(!e)return null;for(;N!==null;)n(M,N),N=N.sibling;return null}function a(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function p(M,N){return M=en(M,N),M.index=0,M.sibling=null,M}function m(M,N,I){return M.index=I,e?(I=M.alternate,I!==null?(I=I.index,I<N?(M.flags|=67108866,N):I):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function T(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function C(M,N,I,V){return N===null||N.tag!==6?(N=Ca(I,M.mode,V),N.return=M,N):(N=p(N,I),N.return=M,N)}function A(M,N,I,V){var ne=I.type;return ne===G?H(M,N,I.props.children,V,I.key):N!==null&&(N.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===se&&oi(ne)===N.type)?(N=p(N,I.props),No(N,I),N.return=M,N):(N=xl(I.type,I.key,I.props,null,M.mode,V),No(N,I),N.return=M,N)}function D(M,N,I,V){return N===null||N.tag!==4||N.stateNode.containerInfo!==I.containerInfo||N.stateNode.implementation!==I.implementation?(N=Aa(I,M.mode,V),N.return=M,N):(N=p(N,I.children||[]),N.return=M,N)}function H(M,N,I,V,ne){return N===null||N.tag!==7?(N=jn(I,M.mode,V,ne),N.return=M,N):(N=p(N,I),N.return=M,N)}function q(M,N,I){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ca(""+N,M.mode,I),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case x:return I=xl(N.type,N.key,N.props,null,M.mode,I),No(I,N),I.return=M,I;case b:return N=Aa(N,M.mode,I),N.return=M,N;case se:return N=oi(N),q(M,N,I)}if(Qe(N)||ve(N))return N=jn(N,M.mode,I,null),N.return=M,N;if(typeof N.then=="function")return q(M,wl(N),I);if(N.$$typeof===F)return q(M,Ml(M,N),I);Ul(M,N)}return null}function w(M,N,I,V){var ne=N!==null?N.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ne!==null?null:C(M,N,""+I,V);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case x:return I.key===ne?A(M,N,I,V):null;case b:return I.key===ne?D(M,N,I,V):null;case se:return I=oi(I),w(M,N,I,V)}if(Qe(I)||ve(I))return ne!==null?null:H(M,N,I,V,null);if(typeof I.then=="function")return w(M,N,wl(I),V);if(I.$$typeof===F)return w(M,N,Ml(M,I),V);Ul(M,I)}return null}function L(M,N,I,V,ne){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return M=M.get(I)||null,C(N,M,""+V,ne);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case x:return M=M.get(V.key===null?I:V.key)||null,A(N,M,V,ne);case b:return M=M.get(V.key===null?I:V.key)||null,D(N,M,V,ne);case se:return V=oi(V),L(M,N,I,V,ne)}if(Qe(V)||ve(V))return M=M.get(I)||null,H(N,M,V,ne,null);if(typeof V.then=="function")return L(M,N,I,wl(V),ne);if(V.$$typeof===F)return L(M,N,I,Ml(N,V),ne);Ul(N,V)}return null}function W(M,N,I,V){for(var ne=null,Se=null,ee=N,fe=N=0,ge=null;ee!==null&&fe<I.length;fe++){ee.index>fe?(ge=ee,ee=null):ge=ee.sibling;var _e=w(M,ee,I[fe],V);if(_e===null){ee===null&&(ee=ge);break}e&&ee&&_e.alternate===null&&n(M,ee),N=m(_e,N,fe),Se===null?ne=_e:Se.sibling=_e,Se=_e,ee=ge}if(fe===I.length)return l(M,ee),ye&&tn(M,fe),ne;if(ee===null){for(;fe<I.length;fe++)ee=q(M,I[fe],V),ee!==null&&(N=m(ee,N,fe),Se===null?ne=ee:Se.sibling=ee,Se=ee);return ye&&tn(M,fe),ne}for(ee=a(ee);fe<I.length;fe++)ge=L(ee,M,fe,I[fe],V),ge!==null&&(e&&ge.alternate!==null&&ee.delete(ge.key===null?fe:ge.key),N=m(ge,N,fe),Se===null?ne=ge:Se.sibling=ge,Se=ge);return e&&ee.forEach(function(On){return n(M,On)}),ye&&tn(M,fe),ne}function oe(M,N,I,V){if(I==null)throw Error(s(151));for(var ne=null,Se=null,ee=N,fe=N=0,ge=null,_e=I.next();ee!==null&&!_e.done;fe++,_e=I.next()){ee.index>fe?(ge=ee,ee=null):ge=ee.sibling;var On=w(M,ee,_e.value,V);if(On===null){ee===null&&(ee=ge);break}e&&ee&&On.alternate===null&&n(M,ee),N=m(On,N,fe),Se===null?ne=On:Se.sibling=On,Se=On,ee=ge}if(_e.done)return l(M,ee),ye&&tn(M,fe),ne;if(ee===null){for(;!_e.done;fe++,_e=I.next())_e=q(M,_e.value,V),_e!==null&&(N=m(_e,N,fe),Se===null?ne=_e:Se.sibling=_e,Se=_e);return ye&&tn(M,fe),ne}for(ee=a(ee);!_e.done;fe++,_e=I.next())_e=L(ee,M,fe,_e.value,V),_e!==null&&(e&&_e.alternate!==null&&ee.delete(_e.key===null?fe:_e.key),N=m(_e,N,fe),Se===null?ne=_e:Se.sibling=_e,Se=_e);return e&&ee.forEach(function(r0){return n(M,r0)}),ye&&tn(M,fe),ne}function Ie(M,N,I,V){if(typeof I=="object"&&I!==null&&I.type===G&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case x:e:{for(var ne=I.key;N!==null;){if(N.key===ne){if(ne=I.type,ne===G){if(N.tag===7){l(M,N.sibling),V=p(N,I.props.children),V.return=M,M=V;break e}}else if(N.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===se&&oi(ne)===N.type){l(M,N.sibling),V=p(N,I.props),No(V,I),V.return=M,M=V;break e}l(M,N);break}else n(M,N);N=N.sibling}I.type===G?(V=jn(I.props.children,M.mode,V,I.key),V.return=M,M=V):(V=xl(I.type,I.key,I.props,null,M.mode,V),No(V,I),V.return=M,M=V)}return T(M);case b:e:{for(ne=I.key;N!==null;){if(N.key===ne)if(N.tag===4&&N.stateNode.containerInfo===I.containerInfo&&N.stateNode.implementation===I.implementation){l(M,N.sibling),V=p(N,I.children||[]),V.return=M,M=V;break e}else{l(M,N);break}else n(M,N);N=N.sibling}V=Aa(I,M.mode,V),V.return=M,M=V}return T(M);case se:return I=oi(I),Ie(M,N,I,V)}if(Qe(I))return W(M,N,I,V);if(ve(I)){if(ne=ve(I),typeof ne!="function")throw Error(s(150));return I=ne.call(I),oe(M,N,I,V)}if(typeof I.then=="function")return Ie(M,N,wl(I),V);if(I.$$typeof===F)return Ie(M,N,Ml(M,I),V);Ul(M,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,N!==null&&N.tag===6?(l(M,N.sibling),V=p(N,I),V.return=M,M=V):(l(M,N),V=Ca(I,M.mode,V),V.return=M,M=V),T(M)):l(M,N)}return function(M,N,I,V){try{xo=0;var ne=Ie(M,N,I,V);return Li=null,ne}catch(ee){if(ee===Ui||ee===Il)throw ee;var Se=Et(29,ee,null,M.mode);return Se.lanes=V,Se.return=M,Se}finally{}}}var si=sf(!0),af=sf(!1),Nn=!1;function Ha(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pa(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mn(e,n,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ce&2)!==0){var p=a.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),a.pending=n,n=Al(e),Oc(e,null,l),n}return Cl(e,a,n,l),Al(e)}function Ro(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,$u(e,l)}}function Va(e,n){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var p=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?p=m=T:m=m.next=T,l=l.next}while(l!==null);m===null?p=m=n:m=m.next=n}else p=m=n;l={baseState:a.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var qa=!1;function Mo(){if(qa){var e=wi;if(e!==null)throw e}}function bo(e,n,l,a){qa=!1;var p=e.updateQueue;Nn=!1;var m=p.firstBaseUpdate,T=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var A=C,D=A.next;A.next=null,T===null?m=D:T.next=D,T=A;var H=e.alternate;H!==null&&(H=H.updateQueue,C=H.lastBaseUpdate,C!==T&&(C===null?H.firstBaseUpdate=D:C.next=D,H.lastBaseUpdate=A))}if(m!==null){var q=p.baseState;T=0,H=D=A=null,C=m;do{var w=C.lane&-536870913,L=w!==C.lane;if(L?(he&w)===w:(a&w)===w){w!==0&&w===Di&&(qa=!0),H!==null&&(H=H.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var W=e,oe=C;w=n;var Ie=l;switch(oe.tag){case 1:if(W=oe.payload,typeof W=="function"){q=W.call(Ie,q,w);break e}q=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=oe.payload,w=typeof W=="function"?W.call(Ie,q,w):W,w==null)break e;q=S({},q,w);break e;case 2:Nn=!0}}w=C.callback,w!==null&&(e.flags|=64,L&&(e.flags|=8192),L=p.callbacks,L===null?p.callbacks=[w]:L.push(w))}else L={lane:w,tag:C.tag,payload:C.payload,callback:C.callback,next:null},H===null?(D=H=L,A=q):H=H.next=L,T|=w;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;L=C,C=L.next,L.next=null,p.lastBaseUpdate=L,p.shared.pending=null}}while(!0);H===null&&(A=q),p.baseState=A,p.firstBaseUpdate=D,p.lastBaseUpdate=H,m===null&&(p.shared.lanes=0),Un|=T,e.lanes=T,e.memoizedState=q}}function rf(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function uf(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)rf(l[e],n)}var Gi=R(null),Ll=R(0);function cf(e,n){e=pn,Z(Ll,e),Z(Gi,n),pn=e|n.baseLanes}function za(){Z(Ll,pn),Z(Gi,Gi.current)}function ka(){pn=Ll.current,k(Gi),k(Ll)}var Ct=R(null),Gt=null;function bn(e){var n=e.alternate;Z(ze,ze.current&1),Z(Ct,e),Gt===null&&(n===null||Gi.current!==null||n.memoizedState!==null)&&(Gt=e)}function Ba(e){Z(ze,ze.current),Z(Ct,e),Gt===null&&(Gt=e)}function ff(e){e.tag===22?(Z(ze,ze.current),Z(Ct,e),Gt===null&&(Gt=e)):In()}function In(){Z(ze,ze.current),Z(Ct,Ct.current)}function At(e){k(Ct),Gt===e&&(Gt=null),k(ze)}var ze=R(0);function Gl(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Xr(l)||Qr(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ln=0,ce=null,Me=null,Oe=null,Hl=!1,Hi=!1,ai=!1,Pl=0,Io=0,Pi=null,Wy=0;function Pe(){throw Error(s(321))}function Oa(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!_t(e[l],n[l]))return!1;return!0}function Fa(e,n,l,a,p,m){return ln=m,ce=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,P.H=e===null||e.memoizedState===null?Xf:lr,ai=!1,m=l(a,p),ai=!1,Hi&&(m=pf(n,l,a,p)),df(e),m}function df(e){P.H=Uo;var n=Me!==null&&Me.next!==null;if(ln=0,Oe=Me=ce=null,Hl=!1,Io=0,Pi=null,n)throw Error(s(300));e===null||Fe||(e=e.dependencies,e!==null&&Rl(e)&&(Fe=!0))}function pf(e,n,l,a){ce=e;var p=0;do{if(Hi&&(Pi=null),Io=0,Hi=!1,25<=p)throw Error(s(301));if(p+=1,Oe=Me=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}P.H=Qf,m=n(l,a)}while(Hi);return m}function jy(){var e=P.H,n=e.useState()[0];return n=typeof n.then=="function"?Do(n):n,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(ce.flags|=1024),n}function Ya(){var e=Pl!==0;return Pl=0,e}function Ja(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function Ka(e){if(Hl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Hl=!1}ln=0,Oe=Me=ce=null,Hi=!1,Io=Pl=0,Pi=null}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?ce.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function ke(){if(Me===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var n=Oe===null?ce.memoizedState:Oe.next;if(n!==null)Oe=n,Me=e;else{if(e===null)throw ce.alternate===null?Error(s(467)):Error(s(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Oe===null?ce.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Vl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Do(e){var n=Io;return Io+=1,Pi===null&&(Pi=[]),e=nf(Pi,e,n),n=ce,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,P.H=n===null||n.memoizedState===null?Xf:lr),e}function ql(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Do(e);if(e.$$typeof===F)return tt(e)}throw Error(s(438,String(e)))}function Xa(e){var n=null,l=ce.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var a=ce.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(n={data:a.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Vl(),ce.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),a=0;a<e;a++)l[a]=O;return n.index++,l}function sn(e,n){return typeof n=="function"?n(e):n}function zl(e){var n=ke();return Qa(n,Me,e)}function Qa(e,n,l){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=l;var p=e.baseQueue,m=a.pending;if(m!==null){if(p!==null){var T=p.next;p.next=m.next,m.next=T}n.baseQueue=p=m,a.pending=null}if(m=e.baseState,p===null)e.memoizedState=m;else{n=p.next;var C=T=null,A=null,D=n,H=!1;do{var q=D.lane&-536870913;if(q!==D.lane?(he&q)===q:(ln&q)===q){var w=D.revertLane;if(w===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),q===Di&&(H=!0);else if((ln&w)===w){D=D.next,w===Di&&(H=!0);continue}else q={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(C=A=q,T=m):A=A.next=q,ce.lanes|=w,Un|=w;q=D.action,ai&&l(m,q),m=D.hasEagerState?D.eagerState:l(m,q)}else w={lane:q,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(C=A=w,T=m):A=A.next=w,ce.lanes|=q,Un|=q;D=D.next}while(D!==null&&D!==n);if(A===null?T=m:A.next=C,!_t(m,e.memoizedState)&&(Fe=!0,H&&(l=wi,l!==null)))throw l;e.memoizedState=m,e.baseState=T,e.baseQueue=A,a.lastRenderedState=m}return p===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Za(e){var n=ke(),l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var a=l.dispatch,p=l.pending,m=n.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do m=e(m,T.action),T=T.next;while(T!==p);_t(m,n.memoizedState)||(Fe=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,a]}function mf(e,n,l){var a=ce,p=ke(),m=ye;if(m){if(l===void 0)throw Error(s(407));l=l()}else l=n();var T=!_t((Me||p).memoizedState,l);if(T&&(p.memoizedState=l,Fe=!0),p=p.queue,ja(yf.bind(null,a,p,e),[e]),p.getSnapshot!==n||T||Oe!==null&&Oe.memoizedState.tag&1){if(a.flags|=2048,Vi(9,{destroy:void 0},gf.bind(null,a,p,l,n),null),Ue===null)throw Error(s(349));m||(ln&127)!==0||hf(a,n,l)}return l}function hf(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=ce.updateQueue,n===null?(n=Vl(),ce.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function gf(e,n,l,a){n.value=l,n.getSnapshot=a,vf(n)&&Tf(e)}function yf(e,n,l){return l(function(){vf(n)&&Tf(e)})}function vf(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!_t(e,l)}catch{return!0}}function Tf(e){var n=Wn(e,2);n!==null&&yt(n,e,2)}function $a(e){var n=rt();if(typeof e=="function"){var l=e;if(e=l(),ai){Tn(!0);try{l()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:e},n}function Sf(e,n,l,a){return e.baseState=l,Qa(e,Me,typeof a=="function"?a:sn)}function ev(e,n,l,a,p){if(Ol(e))throw Error(s(485));if(e=n.action,e!==null){var m={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};P.T!==null?l(!0):m.isTransition=!1,a(m),l=n.pending,l===null?(m.next=n.pending=m,_f(n,m)):(m.next=l.next,n.pending=l.next=m)}}function _f(e,n){var l=n.action,a=n.payload,p=e.state;if(n.isTransition){var m=P.T,T={};P.T=T;try{var C=l(p,a),A=P.S;A!==null&&A(T,C),Ef(e,n,C)}catch(D){Wa(e,n,D)}finally{m!==null&&T.types!==null&&(m.types=T.types),P.T=m}}else try{m=l(p,a),Ef(e,n,m)}catch(D){Wa(e,n,D)}}function Ef(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Cf(e,n,a)},function(a){return Wa(e,n,a)}):Cf(e,n,l)}function Cf(e,n,l){n.status="fulfilled",n.value=l,Af(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,_f(e,l)))}function Wa(e,n,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do n.status="rejected",n.reason=l,Af(n),n=n.next;while(n!==a)}e.action=null}function Af(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function xf(e,n){return n}function Nf(e,n){if(ye){var l=Ue.formState;if(l!==null){e:{var a=ce;if(ye){if(Le){t:{for(var p=Le,m=Lt;p.nodeType!==8;){if(!m){p=null;break t}if(p=Ht(p.nextSibling),p===null){p=null;break t}}m=p.data,p=m==="F!"||m==="F"?p:null}if(p){Le=Ht(p.nextSibling),a=p.data==="F!";break e}}An(a)}a=!1}a&&(n=l[0])}}return l=rt(),l.memoizedState=l.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xf,lastRenderedState:n},l.queue=a,l=Yf.bind(null,ce,a),a.dispatch=l,a=$a(!1),m=or.bind(null,ce,!1,a.queue),a=rt(),p={state:n,dispatch:null,action:e,pending:null},a.queue=p,l=ev.bind(null,ce,p,m,l),p.dispatch=l,a.memoizedState=e,[n,l,!1]}function Rf(e){var n=ke();return Mf(n,Me,e)}function Mf(e,n,l){if(n=Qa(e,n,xf)[0],e=zl(sn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var a=Do(n)}catch(T){throw T===Ui?Il:T}else a=n;n=ke();var p=n.queue,m=p.dispatch;return l!==n.memoizedState&&(ce.flags|=2048,Vi(9,{destroy:void 0},tv.bind(null,p,l),null)),[a,m,e]}function tv(e,n){e.action=n}function bf(e){var n=ke(),l=Me;if(l!==null)return Mf(n,l,e);ke(),n=n.memoizedState,l=ke();var a=l.queue.dispatch;return l.memoizedState=e,[n,a,!1]}function Vi(e,n,l,a){return e={tag:e,create:l,deps:a,inst:n,next:null},n=ce.updateQueue,n===null&&(n=Vl(),ce.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,n.lastEffect=e),e}function If(){return ke().memoizedState}function kl(e,n,l,a){var p=rt();ce.flags|=e,p.memoizedState=Vi(1|n,{destroy:void 0},l,a===void 0?null:a)}function Bl(e,n,l,a){var p=ke();a=a===void 0?null:a;var m=p.memoizedState.inst;Me!==null&&a!==null&&Oa(a,Me.memoizedState.deps)?p.memoizedState=Vi(n,m,l,a):(ce.flags|=e,p.memoizedState=Vi(1|n,m,l,a))}function Df(e,n){kl(8390656,8,e,n)}function ja(e,n){Bl(2048,8,e,n)}function nv(e){ce.flags|=4;var n=ce.updateQueue;if(n===null)n=Vl(),ce.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function wf(e){var n=ke().memoizedState;return nv({ref:n,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Uf(e,n){return Bl(4,2,e,n)}function Lf(e,n){return Bl(4,4,e,n)}function Gf(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Hf(e,n,l){l=l!=null?l.concat([e]):null,Bl(4,4,Gf.bind(null,n,e),l)}function er(){}function Pf(e,n){var l=ke();n=n===void 0?null:n;var a=l.memoizedState;return n!==null&&Oa(n,a[1])?a[0]:(l.memoizedState=[e,n],e)}function Vf(e,n){var l=ke();n=n===void 0?null:n;var a=l.memoizedState;if(n!==null&&Oa(n,a[1]))return a[0];if(a=e(),ai){Tn(!0);try{e()}finally{Tn(!1)}}return l.memoizedState=[a,n],a}function tr(e,n,l){return l===void 0||(ln&1073741824)!==0&&(he&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=qd(),ce.lanes|=e,Un|=e,l)}function qf(e,n,l,a){return _t(l,n)?l:Gi.current!==null?(e=tr(e,l,a),_t(e,n)||(Fe=!0),e):(ln&42)===0||(ln&1073741824)!==0&&(he&261930)===0?(Fe=!0,e.memoizedState=l):(e=qd(),ce.lanes|=e,Un|=e,n)}function zf(e,n,l,a,p){var m=X.p;X.p=m!==0&&8>m?m:8;var T=P.T,C={};P.T=C,or(e,!1,n,l);try{var A=p(),D=P.S;if(D!==null&&D(C,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var H=$y(A,a);wo(e,n,H,Rt(e))}else wo(e,n,a,Rt(e))}catch(q){wo(e,n,{then:function(){},status:"rejected",reason:q},Rt())}finally{X.p=m,T!==null&&C.types!==null&&(T.types=C.types),P.T=T}}function iv(){}function nr(e,n,l,a){if(e.tag!==5)throw Error(s(476));var p=kf(e).queue;zf(e,p,n,te,l===null?iv:function(){return Bf(e),l(a)})}function kf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:te},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Bf(e){var n=kf(e);n.next===null&&(n=e.alternate.memoizedState),wo(e,n.next.queue,{},Rt())}function ir(){return tt(Qo)}function Of(){return ke().memoizedState}function Ff(){return ke().memoizedState}function ov(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Rt();e=Rn(l);var a=Mn(n,e,l);a!==null&&(yt(a,n,l),Ro(a,n,l)),n={cache:wa()},e.payload=n;return}n=n.return}}function lv(e,n,l){var a=Rt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ol(e)?Jf(n,l):(l=_a(e,n,l,a),l!==null&&(yt(l,e,a),Kf(l,n,a)))}function Yf(e,n,l){var a=Rt();wo(e,n,l,a)}function wo(e,n,l,a){var p={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ol(e))Jf(n,p);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,C=m(T,l);if(p.hasEagerState=!0,p.eagerState=C,_t(C,T))return Cl(e,n,p,0),Ue===null&&El(),!1}catch{}finally{}if(l=_a(e,n,p,a),l!==null)return yt(l,e,a),Kf(l,n,a),!0}return!1}function or(e,n,l,a){if(a={lane:2,revertLane:Hr(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ol(e)){if(n)throw Error(s(479))}else n=_a(e,l,a,2),n!==null&&yt(n,e,2)}function Ol(e){var n=e.alternate;return e===ce||n!==null&&n===ce}function Jf(e,n){Hi=Hl=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Kf(e,n,l){if((l&4194048)!==0){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,$u(e,l)}}var Uo={readContext:tt,use:ql,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};Uo.useEffectEvent=Pe;var Xf={readContext:tt,use:ql,useCallback:function(e,n){return rt().memoizedState=[e,n===void 0?null:n],e},useContext:tt,useEffect:Df,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,kl(4194308,4,Gf.bind(null,n,e),l)},useLayoutEffect:function(e,n){return kl(4194308,4,e,n)},useInsertionEffect:function(e,n){kl(4,2,e,n)},useMemo:function(e,n){var l=rt();n=n===void 0?null:n;var a=e();if(ai){Tn(!0);try{e()}finally{Tn(!1)}}return l.memoizedState=[a,n],a},useReducer:function(e,n,l){var a=rt();if(l!==void 0){var p=l(n);if(ai){Tn(!0);try{l(n)}finally{Tn(!1)}}}else p=n;return a.memoizedState=a.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},a.queue=e,e=e.dispatch=lv.bind(null,ce,e),[a.memoizedState,e]},useRef:function(e){var n=rt();return e={current:e},n.memoizedState=e},useState:function(e){e=$a(e);var n=e.queue,l=Yf.bind(null,ce,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:er,useDeferredValue:function(e,n){var l=rt();return tr(l,e,n)},useTransition:function(){var e=$a(!1);return e=zf.bind(null,ce,e.queue,!0,!1),rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var a=ce,p=rt();if(ye){if(l===void 0)throw Error(s(407));l=l()}else{if(l=n(),Ue===null)throw Error(s(349));(he&127)!==0||hf(a,n,l)}p.memoizedState=l;var m={value:l,getSnapshot:n};return p.queue=m,Df(yf.bind(null,a,m,e),[e]),a.flags|=2048,Vi(9,{destroy:void 0},gf.bind(null,a,m,l,n),null),l},useId:function(){var e=rt(),n=Ue.identifierPrefix;if(ye){var l=Xt,a=Kt;l=(a&~(1<<32-St(a)-1)).toString(32)+l,n="_"+n+"R_"+l,l=Pl++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=Wy++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ir,useFormState:Nf,useActionState:Nf,useOptimistic:function(e){var n=rt();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=or.bind(null,ce,!0,l),l.dispatch=n,[e,n]},useMemoCache:Xa,useCacheRefresh:function(){return rt().memoizedState=ov.bind(null,ce)},useEffectEvent:function(e){var n=rt(),l={impl:e};return n.memoizedState=l,function(){if((Ce&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},lr={readContext:tt,use:ql,useCallback:Pf,useContext:tt,useEffect:ja,useImperativeHandle:Hf,useInsertionEffect:Uf,useLayoutEffect:Lf,useMemo:Vf,useReducer:zl,useRef:If,useState:function(){return zl(sn)},useDebugValue:er,useDeferredValue:function(e,n){var l=ke();return qf(l,Me.memoizedState,e,n)},useTransition:function(){var e=zl(sn)[0],n=ke().memoizedState;return[typeof e=="boolean"?e:Do(e),n]},useSyncExternalStore:mf,useId:Of,useHostTransitionStatus:ir,useFormState:Rf,useActionState:Rf,useOptimistic:function(e,n){var l=ke();return Sf(l,Me,e,n)},useMemoCache:Xa,useCacheRefresh:Ff};lr.useEffectEvent=wf;var Qf={readContext:tt,use:ql,useCallback:Pf,useContext:tt,useEffect:ja,useImperativeHandle:Hf,useInsertionEffect:Uf,useLayoutEffect:Lf,useMemo:Vf,useReducer:Za,useRef:If,useState:function(){return Za(sn)},useDebugValue:er,useDeferredValue:function(e,n){var l=ke();return Me===null?tr(l,e,n):qf(l,Me.memoizedState,e,n)},useTransition:function(){var e=Za(sn)[0],n=ke().memoizedState;return[typeof e=="boolean"?e:Do(e),n]},useSyncExternalStore:mf,useId:Of,useHostTransitionStatus:ir,useFormState:bf,useActionState:bf,useOptimistic:function(e,n){var l=ke();return Me!==null?Sf(l,Me,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Xa,useCacheRefresh:Ff};Qf.useEffectEvent=wf;function sr(e,n,l,a){n=e.memoizedState,l=l(a,n),l=l==null?n:S({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var ar={enqueueSetState:function(e,n,l){e=e._reactInternals;var a=Rt(),p=Rn(a);p.payload=n,l!=null&&(p.callback=l),n=Mn(e,p,a),n!==null&&(yt(n,e,a),Ro(n,e,a))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var a=Rt(),p=Rn(a);p.tag=1,p.payload=n,l!=null&&(p.callback=l),n=Mn(e,p,a),n!==null&&(yt(n,e,a),Ro(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Rt(),a=Rn(l);a.tag=2,n!=null&&(a.callback=n),n=Mn(e,a,l),n!==null&&(yt(n,e,l),Ro(n,e,l))}};function Zf(e,n,l,a,p,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,m,T):n.prototype&&n.prototype.isPureReactComponent?!To(l,a)||!To(p,m):!0}function $f(e,n,l,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,a),n.state!==e&&ar.enqueueReplaceState(n,n.state,null)}function ri(e,n){var l=n;if("ref"in n){l={};for(var a in n)a!=="ref"&&(l[a]=n[a])}if(e=e.defaultProps){l===n&&(l=S({},l));for(var p in e)l[p]===void 0&&(l[p]=e[p])}return l}function Wf(e){_l(e)}function jf(e){console.error(e)}function ed(e){_l(e)}function Fl(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function td(e,n,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function rr(e,n,l){return l=Rn(l),l.tag=3,l.payload={element:null},l.callback=function(){Fl(e,n)},l}function nd(e){return e=Rn(e),e.tag=3,e}function id(e,n,l,a){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var m=a.value;e.payload=function(){return p(m)},e.callback=function(){td(n,l,a)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){td(n,l,a),typeof p!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})})}function sv(e,n,l,a,p){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(n=l.alternate,n!==null&&Ii(n,l,p,!0),l=Ct.current,l!==null){switch(l.tag){case 31:case 13:return Gt===null?ns():l.alternate===null&&Ve===0&&(Ve=3),l.flags&=-257,l.flags|=65536,l.lanes=p,a===Dl?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([a]):n.add(a),Ur(e,a,p)),!1;case 22:return l.flags|=65536,a===Dl?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([a]):l.add(a)),Ur(e,a,p)),!1}throw Error(s(435,l.tag))}return Ur(e,a,p),ns(),!1}if(ye)return n=Ct.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,a!==Ra&&(e=Error(s(422),{cause:a}),Eo(Dt(e,l)))):(a!==Ra&&(n=Error(s(423),{cause:a}),Eo(Dt(n,l))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,a=Dt(a,l),p=rr(e.stateNode,a,p),Va(e,p),Ve!==4&&(Ve=2)),!1;var m=Error(s(520),{cause:a});if(m=Dt(m,l),ko===null?ko=[m]:ko.push(m),Ve!==4&&(Ve=2),n===null)return!0;a=Dt(a,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=p&-p,l.lanes|=e,e=rr(l.stateNode,a,e),Va(l,e),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ln===null||!Ln.has(m))))return l.flags|=65536,p&=-p,l.lanes|=p,p=nd(p),id(p,e,l,a),Va(l,p),!1}l=l.return}while(l!==null);return!1}var ur=Error(s(461)),Fe=!1;function nt(e,n,l,a){n.child=e===null?af(n,null,l,a):si(n,e.child,l,a)}function od(e,n,l,a,p){l=l.render;var m=n.ref;if("ref"in a){var T={};for(var C in a)C!=="ref"&&(T[C]=a[C])}else T=a;return ni(n),a=Fa(e,n,l,T,m,p),C=Ya(),e!==null&&!Fe?(Ja(e,n,p),an(e,n,p)):(ye&&C&&xa(n),n.flags|=1,nt(e,n,a,p),n.child)}function ld(e,n,l,a,p){if(e===null){var m=l.type;return typeof m=="function"&&!Ea(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,sd(e,n,m,a,p)):(e=xl(l.type,null,a,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!yr(e,p)){var T=m.memoizedProps;if(l=l.compare,l=l!==null?l:To,l(T,a)&&e.ref===n.ref)return an(e,n,p)}return n.flags|=1,e=en(m,a),e.ref=n.ref,e.return=n,n.child=e}function sd(e,n,l,a,p){if(e!==null){var m=e.memoizedProps;if(To(m,a)&&e.ref===n.ref)if(Fe=!1,n.pendingProps=a=m,yr(e,p))(e.flags&131072)!==0&&(Fe=!0);else return n.lanes=e.lanes,an(e,n,p)}return cr(e,n,l,a,p)}function ad(e,n,l,a){var p=a.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(a=n.child=e.child,p=0;a!==null;)p=p|a.lanes|a.childLanes,a=a.sibling;a=p&~m}else a=0,n.child=null;return rd(e,n,m,l,a)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&bl(n,m!==null?m.cachePool:null),m!==null?cf(n,m):za(),ff(n);else return a=n.lanes=536870912,rd(e,n,m!==null?m.baseLanes|l:l,l,a)}else m!==null?(bl(n,m.cachePool),cf(n,m),In(),n.memoizedState=null):(e!==null&&bl(n,null),za(),In());return nt(e,n,p,l),n.child}function Lo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function rd(e,n,l,a,p){var m=La();return m=m===null?null:{parent:Be._currentValue,pool:m},n.memoizedState={baseLanes:l,cachePool:m},e!==null&&bl(n,null),za(),ff(n),e!==null&&Ii(e,n,a,!0),n.childLanes=p,null}function Yl(e,n){return n=Kl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ud(e,n,l){return si(n,e.child,null,l),e=Yl(n,n.pendingProps),e.flags|=2,At(n),n.memoizedState=null,e}function av(e,n,l){var a=n.pendingProps,p=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ye){if(a.mode==="hidden")return e=Yl(n,a),n.lanes=536870912,Lo(null,e);if(Ba(n),(e=Le)?(e=_p(e,Lt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:En!==null?{id:Kt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},l=Yc(e),l.return=n,n.child=l,et=n,Le=null)):e=null,e===null)throw An(n);return n.lanes=536870912,null}return Yl(n,a)}var m=e.memoizedState;if(m!==null){var T=m.dehydrated;if(Ba(n),p)if(n.flags&256)n.flags&=-257,n=ud(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Fe||Ii(e,n,l,!1),p=(l&e.childLanes)!==0,Fe||p){if(a=Ue,a!==null&&(T=Wu(a,l),T!==0&&T!==m.retryLane))throw m.retryLane=T,Wn(e,T),yt(a,e,T),ur;ns(),n=ud(e,n,l)}else e=m.treeContext,Le=Ht(T.nextSibling),et=n,ye=!0,Cn=null,Lt=!1,e!==null&&Xc(n,e),n=Yl(n,a),n.flags|=4096;return n}return e=en(e.child,{mode:a.mode,children:a.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Jl(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function cr(e,n,l,a,p){return ni(n),l=Fa(e,n,l,a,void 0,p),a=Ya(),e!==null&&!Fe?(Ja(e,n,p),an(e,n,p)):(ye&&a&&xa(n),n.flags|=1,nt(e,n,l,p),n.child)}function cd(e,n,l,a,p,m){return ni(n),n.updateQueue=null,l=pf(n,a,l,p),df(e),a=Ya(),e!==null&&!Fe?(Ja(e,n,m),an(e,n,m)):(ye&&a&&xa(n),n.flags|=1,nt(e,n,l,m),n.child)}function fd(e,n,l,a,p){if(ni(n),n.stateNode===null){var m=Ni,T=l.contextType;typeof T=="object"&&T!==null&&(m=tt(T)),m=new l(a,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ar,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=a,m.state=n.memoizedState,m.refs={},Ha(n),T=l.contextType,m.context=typeof T=="object"&&T!==null?tt(T):Ni,m.state=n.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(sr(n,l,T,a),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&ar.enqueueReplaceState(m,m.state,null),bo(n,a,m,p),Mo(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),a=!0}else if(e===null){m=n.stateNode;var C=n.memoizedProps,A=ri(l,C);m.props=A;var D=m.context,H=l.contextType;T=Ni,typeof H=="object"&&H!==null&&(T=tt(H));var q=l.getDerivedStateFromProps;H=typeof q=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,H||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||D!==T)&&$f(n,m,a,T),Nn=!1;var w=n.memoizedState;m.state=w,bo(n,a,m,p),Mo(),D=n.memoizedState,C||w!==D||Nn?(typeof q=="function"&&(sr(n,l,q,a),D=n.memoizedState),(A=Nn||Zf(n,l,A,a,w,D,T))?(H||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=D),m.props=a,m.state=D,m.context=T,a=A):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{m=n.stateNode,Pa(e,n),T=n.memoizedProps,H=ri(l,T),m.props=H,q=n.pendingProps,w=m.context,D=l.contextType,A=Ni,typeof D=="object"&&D!==null&&(A=tt(D)),C=l.getDerivedStateFromProps,(D=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==q||w!==A)&&$f(n,m,a,A),Nn=!1,w=n.memoizedState,m.state=w,bo(n,a,m,p),Mo();var L=n.memoizedState;T!==q||w!==L||Nn||e!==null&&e.dependencies!==null&&Rl(e.dependencies)?(typeof C=="function"&&(sr(n,l,C,a),L=n.memoizedState),(H=Nn||Zf(n,l,H,a,w,L,A)||e!==null&&e.dependencies!==null&&Rl(e.dependencies))?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,L,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,L,A)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=L),m.props=a,m.state=L,m.context=A,a=H):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(n.flags|=1024),a=!1)}return m=a,Jl(e,n),a=(n.flags&128)!==0,m||a?(m=n.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&a?(n.child=si(n,e.child,null,p),n.child=si(n,null,l,p)):nt(e,n,l,p),n.memoizedState=m.state,e=n.child):e=an(e,n,p),e}function dd(e,n,l,a){return ei(),n.flags|=256,nt(e,n,l,a),n.child}var fr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dr(e){return{baseLanes:e,cachePool:ef()}}function pr(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Nt),e}function pd(e,n,l){var a=n.pendingProps,p=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(ze.current&2)!==0),T&&(p=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(ye){if(p?bn(n):In(),(e=Le)?(e=_p(e,Lt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:En!==null?{id:Kt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},l=Yc(e),l.return=n,n.child=l,et=n,Le=null)):e=null,e===null)throw An(n);return Qr(e)?n.lanes=32:n.lanes=536870912,null}var C=a.children;return a=a.fallback,p?(In(),p=n.mode,C=Kl({mode:"hidden",children:C},p),a=jn(a,p,l,null),C.return=n,a.return=n,C.sibling=a,n.child=C,a=n.child,a.memoizedState=dr(l),a.childLanes=pr(e,T,l),n.memoizedState=fr,Lo(null,a)):(bn(n),mr(n,C))}var A=e.memoizedState;if(A!==null&&(C=A.dehydrated,C!==null)){if(m)n.flags&256?(bn(n),n.flags&=-257,n=hr(e,n,l)):n.memoizedState!==null?(In(),n.child=e.child,n.flags|=128,n=null):(In(),C=a.fallback,p=n.mode,a=Kl({mode:"visible",children:a.children},p),C=jn(C,p,l,null),C.flags|=2,a.return=n,C.return=n,a.sibling=C,n.child=a,si(n,e.child,null,l),a=n.child,a.memoizedState=dr(l),a.childLanes=pr(e,T,l),n.memoizedState=fr,n=Lo(null,a));else if(bn(n),Qr(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var D=T.dgst;T=D,a=Error(s(419)),a.stack="",a.digest=T,Eo({value:a,source:null,stack:null}),n=hr(e,n,l)}else if(Fe||Ii(e,n,l,!1),T=(l&e.childLanes)!==0,Fe||T){if(T=Ue,T!==null&&(a=Wu(T,l),a!==0&&a!==A.retryLane))throw A.retryLane=a,Wn(e,a),yt(T,e,a),ur;Xr(C)||ns(),n=hr(e,n,l)}else Xr(C)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,Le=Ht(C.nextSibling),et=n,ye=!0,Cn=null,Lt=!1,e!==null&&Xc(n,e),n=mr(n,a.children),n.flags|=4096);return n}return p?(In(),C=a.fallback,p=n.mode,A=e.child,D=A.sibling,a=en(A,{mode:"hidden",children:a.children}),a.subtreeFlags=A.subtreeFlags&65011712,D!==null?C=en(D,C):(C=jn(C,p,l,null),C.flags|=2),C.return=n,a.return=n,a.sibling=C,n.child=a,Lo(null,a),a=n.child,C=e.child.memoizedState,C===null?C=dr(l):(p=C.cachePool,p!==null?(A=Be._currentValue,p=p.parent!==A?{parent:A,pool:A}:p):p=ef(),C={baseLanes:C.baseLanes|l,cachePool:p}),a.memoizedState=C,a.childLanes=pr(e,T,l),n.memoizedState=fr,Lo(e.child,a)):(bn(n),l=e.child,e=l.sibling,l=en(l,{mode:"visible",children:a.children}),l.return=n,l.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=l,n.memoizedState=null,l)}function mr(e,n){return n=Kl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Kl(e,n){return e=Et(22,e,null,n),e.lanes=0,e}function hr(e,n,l){return si(n,e.child,null,l),e=mr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function md(e,n,l){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),Ia(e.return,n,l)}function gr(e,n,l,a,p,m){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:p,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=a,T.tail=l,T.tailMode=p,T.treeForkCount=m)}function hd(e,n,l){var a=n.pendingProps,p=a.revealOrder,m=a.tail;a=a.children;var T=ze.current,C=(T&2)!==0;if(C?(T=T&1|2,n.flags|=128):T&=1,Z(ze,T),nt(e,n,a,l),a=ye?_o:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&md(e,l,n);else if(e.tag===19)md(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(l=n.child,p=null;l!==null;)e=l.alternate,e!==null&&Gl(e)===null&&(p=l),l=l.sibling;l=p,l===null?(p=n.child,n.child=null):(p=l.sibling,l.sibling=null),gr(n,!1,p,l,m,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&Gl(e)===null){n.child=p;break}e=p.sibling,p.sibling=l,l=p,p=e}gr(n,!0,l,null,m,a);break;case"together":gr(n,!1,null,null,void 0,a);break;default:n.memoizedState=null}return n.child}function an(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Un|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Ii(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,l=en(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=en(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function yr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Rl(e)))}function rv(e,n,l){switch(n.tag){case 3:at(n,n.stateNode.containerInfo),xn(n,Be,e.memoizedState.cache),ei();break;case 27:case 5:lo(n);break;case 4:at(n,n.stateNode.containerInfo);break;case 10:xn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ba(n),null;break;case 13:var a=n.memoizedState;if(a!==null)return a.dehydrated!==null?(bn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?pd(e,n,l):(bn(n),e=an(e,n,l),e!==null?e.sibling:null);bn(n);break;case 19:var p=(e.flags&128)!==0;if(a=(l&n.childLanes)!==0,a||(Ii(e,n,l,!1),a=(l&n.childLanes)!==0),p){if(a)return hd(e,n,l);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Z(ze,ze.current),a)break;return null;case 22:return n.lanes=0,ad(e,n,l,n.pendingProps);case 24:xn(n,Be,e.memoizedState.cache)}return an(e,n,l)}function gd(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Fe=!0;else{if(!yr(e,l)&&(n.flags&128)===0)return Fe=!1,rv(e,n,l);Fe=(e.flags&131072)!==0}else Fe=!1,ye&&(n.flags&1048576)!==0&&Kc(n,_o,n.index);switch(n.lanes=0,n.tag){case 16:e:{var a=n.pendingProps;if(e=oi(n.elementType),n.type=e,typeof e=="function")Ea(e)?(a=ri(e,a),n.tag=1,n=fd(null,n,e,a,l)):(n.tag=0,n=cr(null,n,e,a,l));else{if(e!=null){var p=e.$$typeof;if(p===J){n.tag=11,n=od(null,n,e,a,l);break e}else if(p===K){n.tag=14,n=ld(null,n,e,a,l);break e}}throw n=Re(e)||e,Error(s(306,n,""))}}return n;case 0:return cr(e,n,n.type,n.pendingProps,l);case 1:return a=n.type,p=ri(a,n.pendingProps),fd(e,n,a,p,l);case 3:e:{if(at(n,n.stateNode.containerInfo),e===null)throw Error(s(387));a=n.pendingProps;var m=n.memoizedState;p=m.element,Pa(e,n),bo(n,a,null,l);var T=n.memoizedState;if(a=T.cache,xn(n,Be,a),a!==m.cache&&Da(n,[Be],l,!0),Mo(),a=T.element,m.isDehydrated)if(m={element:a,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=dd(e,n,a,l);break e}else if(a!==p){p=Dt(Error(s(424)),n),Eo(p),n=dd(e,n,a,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Ht(e.firstChild),et=n,ye=!0,Cn=null,Lt=!0,l=af(n,null,a,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ei(),a===p){n=an(e,n,l);break e}nt(e,n,a,l)}n=n.child}return n;case 26:return Jl(e,n),e===null?(l=Rp(n.type,null,n.pendingProps,null))?n.memoizedState=l:ye||(l=n.type,e=n.pendingProps,a=us(de.current).createElement(l),a[je]=n,a[ft]=e,it(a,l,e),Ze(a),n.stateNode=a):n.memoizedState=Rp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return lo(n),e===null&&ye&&(a=n.stateNode=Ap(n.type,n.pendingProps,de.current),et=n,Lt=!0,p=Le,Vn(n.type)?(Zr=p,Le=Ht(a.firstChild)):Le=p),nt(e,n,n.pendingProps.children,l),Jl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ye&&((p=a=Le)&&(a=Vv(a,n.type,n.pendingProps,Lt),a!==null?(n.stateNode=a,et=n,Le=Ht(a.firstChild),Lt=!1,p=!0):p=!1),p||An(n)),lo(n),p=n.type,m=n.pendingProps,T=e!==null?e.memoizedProps:null,a=m.children,Yr(p,m)?a=null:T!==null&&Yr(p,T)&&(n.flags|=32),n.memoizedState!==null&&(p=Fa(e,n,jy,null,null,l),Qo._currentValue=p),Jl(e,n),nt(e,n,a,l),n.child;case 6:return e===null&&ye&&((e=l=Le)&&(l=qv(l,n.pendingProps,Lt),l!==null?(n.stateNode=l,et=n,Le=null,e=!0):e=!1),e||An(n)),null;case 13:return pd(e,n,l);case 4:return at(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=si(n,null,a,l):nt(e,n,a,l),n.child;case 11:return od(e,n,n.type,n.pendingProps,l);case 7:return nt(e,n,n.pendingProps,l),n.child;case 8:return nt(e,n,n.pendingProps.children,l),n.child;case 12:return nt(e,n,n.pendingProps.children,l),n.child;case 10:return a=n.pendingProps,xn(n,n.type,a.value),nt(e,n,a.children,l),n.child;case 9:return p=n.type._context,a=n.pendingProps.children,ni(n),p=tt(p),a=a(p),n.flags|=1,nt(e,n,a,l),n.child;case 14:return ld(e,n,n.type,n.pendingProps,l);case 15:return sd(e,n,n.type,n.pendingProps,l);case 19:return hd(e,n,l);case 31:return av(e,n,l);case 22:return ad(e,n,l,n.pendingProps);case 24:return ni(n),a=tt(Be),e===null?(p=La(),p===null&&(p=Ue,m=wa(),p.pooledCache=m,m.refCount++,m!==null&&(p.pooledCacheLanes|=l),p=m),n.memoizedState={parent:a,cache:p},Ha(n),xn(n,Be,p)):((e.lanes&l)!==0&&(Pa(e,n),bo(n,null,null,l),Mo()),p=e.memoizedState,m=n.memoizedState,p.parent!==a?(p={parent:a,cache:a},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),xn(n,Be,a)):(a=m.cache,xn(n,Be,a),a!==p.cache&&Da(n,[Be],l,!0))),nt(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function rn(e){e.flags|=4}function vr(e,n,l,a,p){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(Od())e.flags|=8192;else throw li=Dl,Ga}else e.flags&=-16777217}function yd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!wp(n))if(Od())e.flags|=8192;else throw li=Dl,Ga}function Xl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Qu():536870912,e.lanes|=n,Bi|=n)}function Go(e,n){if(!ye)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(n)for(var p=e.child;p!==null;)l|=p.lanes|p.childLanes,a|=p.subtreeFlags&65011712,a|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)l|=p.lanes|p.childLanes,a|=p.subtreeFlags,a|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=a,e.childLanes=l,n}function uv(e,n,l){var a=n.pendingProps;switch(Na(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return Ge(n),null;case 3:return l=n.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),on(Be),qe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(bi(n)?rn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ma())),Ge(n),null;case 26:var p=n.type,m=n.memoizedState;return e===null?(rn(n),m!==null?(Ge(n),yd(n,m)):(Ge(n),vr(n,p,null,a,l))):m?m!==e.memoizedState?(rn(n),Ge(n),yd(n,m)):(Ge(n),n.flags&=-16777217):(e=e.memoizedProps,e!==a&&rn(n),Ge(n),vr(n,p,e,a,l)),null;case 27:if(ll(n),l=de.current,p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&rn(n);else{if(!a){if(n.stateNode===null)throw Error(s(166));return Ge(n),null}e=j.current,bi(n)?Qc(n):(e=Ap(p,a,l),n.stateNode=e,rn(n))}return Ge(n),null;case 5:if(ll(n),p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&rn(n);else{if(!a){if(n.stateNode===null)throw Error(s(166));return Ge(n),null}if(m=j.current,bi(n))Qc(n);else{var T=us(de.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof a.is=="string"?T.createElement("select",{is:a.is}):T.createElement("select"),a.multiple?m.multiple=!0:a.size&&(m.size=a.size);break;default:m=typeof a.is=="string"?T.createElement(p,{is:a.is}):T.createElement(p)}}m[je]=n,m[ft]=a;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(it(m,p,a),p){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&rn(n)}}return Ge(n),vr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==a&&rn(n);else{if(typeof a!="string"&&n.stateNode===null)throw Error(s(166));if(e=de.current,bi(n)){if(e=n.stateNode,l=n.memoizedProps,a=null,p=et,p!==null)switch(p.tag){case 27:case 5:a=p.memoizedProps}e[je]=n,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||pp(e.nodeValue,l)),e||An(n,!0)}else e=us(e).createTextNode(a),e[je]=n,n.stateNode=e}return Ge(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(a=bi(n),l!==null){if(e===null){if(!a)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[je]=n}else ei(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),e=!1}else l=Ma(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(At(n),n):(At(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Ge(n),null;case 13:if(a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=bi(n),a!==null&&a.dehydrated!==null){if(e===null){if(!p)throw Error(s(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[je]=n}else ei(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),p=!1}else p=Ma(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(At(n),n):(At(n),null)}return At(n),(n.flags&128)!==0?(n.lanes=l,n):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=n.child,p=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(p=a.alternate.memoizedState.cachePool.pool),m=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),m!==p&&(a.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),Xl(n,n.updateQueue),Ge(n),null);case 4:return qe(),e===null&&zr(n.stateNode.containerInfo),Ge(n),null;case 10:return on(n.type),Ge(n),null;case 19:if(k(ze),a=n.memoizedState,a===null)return Ge(n),null;if(p=(n.flags&128)!==0,m=a.rendering,m===null)if(p)Go(a,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=Gl(e),m!==null){for(n.flags|=128,Go(a,!1),e=m.updateQueue,n.updateQueue=e,Xl(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Fc(l,e),l=l.sibling;return Z(ze,ze.current&1|2),ye&&tn(n,a.treeForkCount),n.child}e=e.sibling}a.tail!==null&&vt()>jl&&(n.flags|=128,p=!0,Go(a,!1),n.lanes=4194304)}else{if(!p)if(e=Gl(m),e!==null){if(n.flags|=128,p=!0,e=e.updateQueue,n.updateQueue=e,Xl(n,e),Go(a,!0),a.tail===null&&a.tailMode==="hidden"&&!m.alternate&&!ye)return Ge(n),null}else 2*vt()-a.renderingStartTime>jl&&l!==536870912&&(n.flags|=128,p=!0,Go(a,!1),n.lanes=4194304);a.isBackwards?(m.sibling=n.child,n.child=m):(e=a.last,e!==null?e.sibling=m:n.child=m,a.last=m)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=vt(),e.sibling=null,l=ze.current,Z(ze,p?l&1|2:l&1),ye&&tn(n,a.treeForkCount),e):(Ge(n),null);case 22:case 23:return At(n),ka(),a=n.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?(l&536870912)!==0&&(n.flags&128)===0&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),l=n.updateQueue,l!==null&&Xl(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==l&&(n.flags|=2048),e!==null&&k(ii),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),on(Be),Ge(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function cv(e,n){switch(Na(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return on(Be),qe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ll(n),null;case 31:if(n.memoizedState!==null){if(At(n),n.alternate===null)throw Error(s(340));ei()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(At(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ei()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return k(ze),null;case 4:return qe(),null;case 10:return on(n.type),null;case 22:case 23:return At(n),ka(),e!==null&&k(ii),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return on(Be),null;case 25:return null;default:return null}}function vd(e,n){switch(Na(n),n.tag){case 3:on(Be),qe();break;case 26:case 27:case 5:ll(n);break;case 4:qe();break;case 31:n.memoizedState!==null&&At(n);break;case 13:At(n);break;case 19:k(ze);break;case 10:on(n.type);break;case 22:case 23:At(n),ka(),e!==null&&k(ii);break;case 24:on(Be)}}function Ho(e,n){try{var l=n.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var p=a.next;l=p;do{if((l.tag&e)===e){a=void 0;var m=l.create,T=l.inst;a=m(),T.destroy=a}l=l.next}while(l!==p)}}catch(C){Ne(n,n.return,C)}}function Dn(e,n,l){try{var a=n.updateQueue,p=a!==null?a.lastEffect:null;if(p!==null){var m=p.next;a=m;do{if((a.tag&e)===e){var T=a.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,p=n;var A=l,D=C;try{D()}catch(H){Ne(p,A,H)}}}a=a.next}while(a!==m)}}catch(H){Ne(n,n.return,H)}}function Td(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{uf(n,l)}catch(a){Ne(e,e.return,a)}}}function Sd(e,n,l){l.props=ri(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Ne(e,n,a)}}function Po(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(p){Ne(e,n,p)}}function Qt(e,n){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(p){Ne(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Ne(e,n,p)}else l.current=null}function _d(e){var n=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(p){Ne(e,e.return,p)}}function Tr(e,n,l){try{var a=e.stateNode;wv(a,e.type,l,n),a[ft]=n}catch(p){Ne(e,e.return,p)}}function Ed(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vn(e.type)||e.tag===4}function Sr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ed(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _r(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Wt));else if(a!==4&&(a===27&&Vn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(_r(e,n,l),e=e.sibling;e!==null;)_r(e,n,l),e=e.sibling}function Ql(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(a!==4&&(a===27&&Vn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Ql(e,n,l),e=e.sibling;e!==null;)Ql(e,n,l),e=e.sibling}function Cd(e){var n=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);it(n,a,l),n[je]=e,n[ft]=l}catch(m){Ne(e,e.return,m)}}var un=!1,Ye=!1,Er=!1,Ad=typeof WeakSet=="function"?WeakSet:Set,$e=null;function fv(e,n){if(e=e.containerInfo,Or=gs,e=Gc(e),ha(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var p=a.anchorOffset,m=a.focusNode;a=a.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var T=0,C=-1,A=-1,D=0,H=0,q=e,w=null;t:for(;;){for(var L;q!==l||p!==0&&q.nodeType!==3||(C=T+p),q!==m||a!==0&&q.nodeType!==3||(A=T+a),q.nodeType===3&&(T+=q.nodeValue.length),(L=q.firstChild)!==null;)w=q,q=L;for(;;){if(q===e)break t;if(w===l&&++D===p&&(C=T),w===m&&++H===a&&(A=T),(L=q.nextSibling)!==null)break;q=w,w=q.parentNode}q=L}l=C===-1||A===-1?null:{start:C,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fr={focusedElem:e,selectionRange:l},gs=!1,$e=n;$e!==null;)if(n=$e,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,$e=e;else for(;$e!==null;){switch(n=$e,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)p=e[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=n,p=m.memoizedProps,m=m.memoizedState,a=l.stateNode;try{var W=ri(l.type,p);e=a.getSnapshotBeforeUpdate(W,m),a.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Ne(l,l.return,oe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)Kr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,$e=e;break}$e=n.return}}function xd(e,n,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:fn(e,l),a&4&&Ho(5,l);break;case 1:if(fn(e,l),a&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(T){Ne(l,l.return,T)}else{var p=ri(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Ne(l,l.return,T)}}a&64&&Td(l),a&512&&Po(l,l.return);break;case 3:if(fn(e,l),a&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{uf(e,n)}catch(T){Ne(l,l.return,T)}}break;case 27:n===null&&a&4&&Cd(l);case 26:case 5:fn(e,l),n===null&&a&4&&_d(l),a&512&&Po(l,l.return);break;case 12:fn(e,l);break;case 31:fn(e,l),a&4&&Md(e,l);break;case 13:fn(e,l),a&4&&bd(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Sv.bind(null,l),zv(e,l))));break;case 22:if(a=l.memoizedState!==null||un,!a){n=n!==null&&n.memoizedState!==null||Ye,p=un;var m=Ye;un=a,(Ye=n)&&!m?dn(e,l,(l.subtreeFlags&8772)!==0):fn(e,l),un=p,Ye=m}break;case 30:break;default:fn(e,l)}}function Nd(e){var n=e.alternate;n!==null&&(e.alternate=null,Nd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ws(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,pt=!1;function cn(e,n,l){for(l=l.child;l!==null;)Rd(e,n,l),l=l.sibling}function Rd(e,n,l){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(so,l)}catch{}switch(l.tag){case 26:Ye||Qt(l,n),cn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ye||Qt(l,n);var a=He,p=pt;Vn(l.type)&&(He=l.stateNode,pt=!1),cn(e,n,l),Jo(l.stateNode),He=a,pt=p;break;case 5:Ye||Qt(l,n);case 6:if(a=He,p=pt,He=null,cn(e,n,l),He=a,pt=p,He!==null)if(pt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(l.stateNode)}catch(m){Ne(l,n,m)}else try{He.removeChild(l.stateNode)}catch(m){Ne(l,n,m)}break;case 18:He!==null&&(pt?(e=He,Tp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Zi(e)):Tp(He,l.stateNode));break;case 4:a=He,p=pt,He=l.stateNode.containerInfo,pt=!0,cn(e,n,l),He=a,pt=p;break;case 0:case 11:case 14:case 15:Dn(2,l,n),Ye||Dn(4,l,n),cn(e,n,l);break;case 1:Ye||(Qt(l,n),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Sd(l,n,a)),cn(e,n,l);break;case 21:cn(e,n,l);break;case 22:Ye=(a=Ye)||l.memoizedState!==null,cn(e,n,l),Ye=a;break;default:cn(e,n,l)}}function Md(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Zi(e)}catch(l){Ne(n,n.return,l)}}}function bd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zi(e)}catch(l){Ne(n,n.return,l)}}function dv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ad),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ad),n;default:throw Error(s(435,e.tag))}}function Zl(e,n){var l=dv(e);n.forEach(function(a){if(!l.has(a)){l.add(a);var p=_v.bind(null,e,a);a.then(p,p)}})}function mt(e,n){var l=n.deletions;if(l!==null)for(var a=0;a<l.length;a++){var p=l[a],m=e,T=n,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(Vn(C.type)){He=C.stateNode,pt=!1;break e}break;case 5:He=C.stateNode,pt=!1;break e;case 3:case 4:He=C.stateNode.containerInfo,pt=!0;break e}C=C.return}if(He===null)throw Error(s(160));Rd(m,T,p),He=null,pt=!1,m=p.alternate,m!==null&&(m.return=null),p.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Id(n,e),n=n.sibling}var Bt=null;function Id(e,n){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mt(n,e),ht(e),a&4&&(Dn(3,e,e.return),Ho(3,e),Dn(5,e,e.return));break;case 1:mt(n,e),ht(e),a&512&&(Ye||l===null||Qt(l,l.return)),a&64&&un&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var p=Bt;if(mt(n,e),ht(e),a&512&&(Ye||l===null||Qt(l,l.return)),a&4){var m=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,p=p.ownerDocument||p;t:switch(a){case"title":m=p.getElementsByTagName("title")[0],(!m||m[uo]||m[je]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=p.createElement(a),p.head.insertBefore(m,p.querySelector("head > title"))),it(m,a,l),m[je]=e,Ze(m),a=m;break e;case"link":var T=Ip("link","href",p).get(a+(l.href||""));if(T){for(var C=0;C<T.length;C++)if(m=T[C],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(C,1);break t}}m=p.createElement(a),it(m,a,l),p.head.appendChild(m);break;case"meta":if(T=Ip("meta","content",p).get(a+(l.content||""))){for(C=0;C<T.length;C++)if(m=T[C],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(C,1);break t}}m=p.createElement(a),it(m,a,l),p.head.appendChild(m);break;default:throw Error(s(468,a))}m[je]=e,Ze(m),a=m}e.stateNode=a}else Dp(p,e.type,e.stateNode);else e.stateNode=bp(p,a,e.memoizedProps);else m!==a?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,a===null?Dp(p,e.type,e.stateNode):bp(p,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Tr(e,e.memoizedProps,l.memoizedProps)}break;case 27:mt(n,e),ht(e),a&512&&(Ye||l===null||Qt(l,l.return)),l!==null&&a&4&&Tr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(mt(n,e),ht(e),a&512&&(Ye||l===null||Qt(l,l.return)),e.flags&32){p=e.stateNode;try{Ti(p,"")}catch(W){Ne(e,e.return,W)}}a&4&&e.stateNode!=null&&(p=e.memoizedProps,Tr(e,p,l!==null?l.memoizedProps:p)),a&1024&&(Er=!0);break;case 6:if(mt(n,e),ht(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(W){Ne(e,e.return,W)}}break;case 3:if(ds=null,p=Bt,Bt=cs(n.containerInfo),mt(n,e),Bt=p,ht(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Zi(n.containerInfo)}catch(W){Ne(e,e.return,W)}Er&&(Er=!1,Dd(e));break;case 4:a=Bt,Bt=cs(e.stateNode.containerInfo),mt(n,e),ht(e),Bt=a;break;case 12:mt(n,e),ht(e);break;case 31:mt(n,e),ht(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Zl(e,a)));break;case 13:mt(n,e),ht(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Wl=vt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Zl(e,a)));break;case 22:p=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,D=un,H=Ye;if(un=D||p,Ye=H||A,mt(n,e),Ye=H,un=D,ht(e),a&8192)e:for(n=e.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(l===null||A||un||Ye||ui(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){A=l=n;try{if(m=A.stateNode,p)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=A.stateNode;var q=A.memoizedProps.style,w=q!=null&&q.hasOwnProperty("display")?q.display:null;C.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(W){Ne(A,A.return,W)}}}else if(n.tag===6){if(l===null){A=n;try{A.stateNode.nodeValue=p?"":A.memoizedProps}catch(W){Ne(A,A.return,W)}}}else if(n.tag===18){if(l===null){A=n;try{var L=A.stateNode;p?Sp(L,!0):Sp(A.stateNode,!1)}catch(W){Ne(A,A.return,W)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Zl(e,l))));break;case 19:mt(n,e),ht(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Zl(e,a)));break;case 30:break;case 21:break;default:mt(n,e),ht(e)}}function ht(e){var n=e.flags;if(n&2){try{for(var l,a=e.return;a!==null;){if(Ed(a)){l=a;break}a=a.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var p=l.stateNode,m=Sr(e);Ql(e,m,p);break;case 5:var T=l.stateNode;l.flags&32&&(Ti(T,""),l.flags&=-33);var C=Sr(e);Ql(e,C,T);break;case 3:case 4:var A=l.stateNode.containerInfo,D=Sr(e);_r(e,D,A);break;default:throw Error(s(161))}}catch(H){Ne(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Dd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Dd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function fn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)xd(e,n.alternate,n),n=n.sibling}function ui(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Dn(4,n,n.return),ui(n);break;case 1:Qt(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Sd(n,n.return,l),ui(n);break;case 27:Jo(n.stateNode);case 26:case 5:Qt(n,n.return),ui(n);break;case 22:n.memoizedState===null&&ui(n);break;case 30:ui(n);break;default:ui(n)}e=e.sibling}}function dn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var a=n.alternate,p=e,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:dn(p,m,l),Ho(4,m);break;case 1:if(dn(p,m,l),a=m,p=a.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(D){Ne(a,a.return,D)}if(a=m,p=a.updateQueue,p!==null){var C=a.stateNode;try{var A=p.shared.hiddenCallbacks;if(A!==null)for(p.shared.hiddenCallbacks=null,p=0;p<A.length;p++)rf(A[p],C)}catch(D){Ne(a,a.return,D)}}l&&T&64&&Td(m),Po(m,m.return);break;case 27:Cd(m);case 26:case 5:dn(p,m,l),l&&a===null&&T&4&&_d(m),Po(m,m.return);break;case 12:dn(p,m,l);break;case 31:dn(p,m,l),l&&T&4&&Md(p,m);break;case 13:dn(p,m,l),l&&T&4&&bd(p,m);break;case 22:m.memoizedState===null&&dn(p,m,l),Po(m,m.return);break;case 30:break;default:dn(p,m,l)}n=n.sibling}}function Cr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Co(l))}function Ar(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Co(e))}function Ot(e,n,l,a){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wd(e,n,l,a),n=n.sibling}function wd(e,n,l,a){var p=n.flags;switch(n.tag){case 0:case 11:case 15:Ot(e,n,l,a),p&2048&&Ho(9,n);break;case 1:Ot(e,n,l,a);break;case 3:Ot(e,n,l,a),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Co(e)));break;case 12:if(p&2048){Ot(e,n,l,a),e=n.stateNode;try{var m=n.memoizedProps,T=m.id,C=m.onPostCommit;typeof C=="function"&&C(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Ne(n,n.return,A)}}else Ot(e,n,l,a);break;case 31:Ot(e,n,l,a);break;case 13:Ot(e,n,l,a);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?Ot(e,n,l,a):Vo(e,n):m._visibility&2?Ot(e,n,l,a):(m._visibility|=2,qi(e,n,l,a,(n.subtreeFlags&10256)!==0||!1)),p&2048&&Cr(T,n);break;case 24:Ot(e,n,l,a),p&2048&&Ar(n.alternate,n);break;default:Ot(e,n,l,a)}}function qi(e,n,l,a,p){for(p=p&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,T=n,C=l,A=a,D=T.flags;switch(T.tag){case 0:case 11:case 15:qi(m,T,C,A,p),Ho(8,T);break;case 23:break;case 22:var H=T.stateNode;T.memoizedState!==null?H._visibility&2?qi(m,T,C,A,p):Vo(m,T):(H._visibility|=2,qi(m,T,C,A,p)),p&&D&2048&&Cr(T.alternate,T);break;case 24:qi(m,T,C,A,p),p&&D&2048&&Ar(T.alternate,T);break;default:qi(m,T,C,A,p)}n=n.sibling}}function Vo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,a=n,p=a.flags;switch(a.tag){case 22:Vo(l,a),p&2048&&Cr(a.alternate,a);break;case 24:Vo(l,a),p&2048&&Ar(a.alternate,a);break;default:Vo(l,a)}n=n.sibling}}var qo=8192;function zi(e,n,l){if(e.subtreeFlags&qo)for(e=e.child;e!==null;)Ud(e,n,l),e=e.sibling}function Ud(e,n,l){switch(e.tag){case 26:zi(e,n,l),e.flags&qo&&e.memoizedState!==null&&Wv(l,Bt,e.memoizedState,e.memoizedProps);break;case 5:zi(e,n,l);break;case 3:case 4:var a=Bt;Bt=cs(e.stateNode.containerInfo),zi(e,n,l),Bt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=qo,qo=16777216,zi(e,n,l),qo=a):zi(e,n,l));break;default:zi(e,n,l)}}function Ld(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];$e=a,Hd(a,e)}Ld(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gd(e),e=e.sibling}function Gd(e){switch(e.tag){case 0:case 11:case 15:zo(e),e.flags&2048&&Dn(9,e,e.return);break;case 3:zo(e);break;case 12:zo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,$l(e)):zo(e);break;default:zo(e)}}function $l(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];$e=a,Hd(a,e)}Ld(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Dn(8,n,n.return),$l(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,$l(n));break;default:$l(n)}e=e.sibling}}function Hd(e,n){for(;$e!==null;){var l=$e;switch(l.tag){case 0:case 11:case 15:Dn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Co(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,$e=a;else e:for(l=e;$e!==null;){a=$e;var p=a.sibling,m=a.return;if(Nd(a),a===l){$e=null;break e}if(p!==null){p.return=m,$e=p;break e}$e=m}}}var pv={getCacheForType:function(e){var n=tt(Be),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return tt(Be).controller.signal}},mv=typeof WeakMap=="function"?WeakMap:Map,Ce=0,Ue=null,pe=null,he=0,xe=0,xt=null,wn=!1,ki=!1,xr=!1,pn=0,Ve=0,Un=0,ci=0,Nr=0,Nt=0,Bi=0,ko=null,gt=null,Rr=!1,Wl=0,Pd=0,jl=1/0,es=null,Ln=null,Xe=0,Gn=null,Oi=null,mn=0,Mr=0,br=null,Vd=null,Bo=0,Ir=null;function Rt(){return(Ce&2)!==0&&he!==0?he&-he:P.T!==null?Hr():ju()}function qd(){if(Nt===0)if((he&536870912)===0||ye){var e=rl;rl<<=1,(rl&3932160)===0&&(rl=262144),Nt=e}else Nt=536870912;return e=Ct.current,e!==null&&(e.flags|=32),Nt}function yt(e,n,l){(e===Ue&&(xe===2||xe===9)||e.cancelPendingCommit!==null)&&(Fi(e,0),Hn(e,he,Nt,!1)),ro(e,l),((Ce&2)===0||e!==Ue)&&(e===Ue&&((Ce&2)===0&&(ci|=l),Ve===4&&Hn(e,he,Nt,!1)),Zt(e))}function zd(e,n,l){if((Ce&6)!==0)throw Error(s(327));var a=!l&&(n&127)===0&&(n&e.expiredLanes)===0||ao(e,n),p=a?yv(e,n):wr(e,n,!0),m=a;do{if(p===0){ki&&!a&&Hn(e,n,0,!1);break}else{if(l=e.current.alternate,m&&!hv(l)){p=wr(e,n,!1),m=!1;continue}if(p===2){if(m=n,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var C=e;p=ko;var A=C.current.memoizedState.isDehydrated;if(A&&(Fi(C,T).flags|=256),T=wr(C,T,!1),T!==2){if(xr&&!A){C.errorRecoveryDisabledLanes|=m,ci|=m,p=4;break e}m=gt,gt=p,m!==null&&(gt===null?gt=m:gt.push.apply(gt,m))}p=T}if(m=!1,p!==2)continue}}if(p===1){Fi(e,0),Hn(e,n,0,!0);break}e:{switch(a=e,m=p,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Hn(a,n,Nt,!wn);break e;case 2:gt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(p=Wl+300-vt(),10<p)){if(Hn(a,n,Nt,!wn),cl(a,0,!0)!==0)break e;mn=n,a.timeoutHandle=yp(kd.bind(null,a,l,gt,es,Rr,n,Nt,ci,Bi,wn,m,"Throttled",-0,0),p);break e}kd(a,l,gt,es,Rr,n,Nt,ci,Bi,wn,m,null,-0,0)}}break}while(!0);Zt(e)}function kd(e,n,l,a,p,m,T,C,A,D,H,q,w,L){if(e.timeoutHandle=-1,q=n.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wt},Ud(n,m,q);var W=(m&62914560)===m?Wl-vt():(m&4194048)===m?Pd-vt():0;if(W=jv(q,W),W!==null){mn=m,e.cancelPendingCommit=W(Qd.bind(null,e,n,m,l,a,p,T,C,A,H,q,null,w,L)),Hn(e,m,T,!D);return}}Qd(e,n,m,l,a,p,T,C,A)}function hv(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var p=l[a],m=p.getSnapshot;p=p.value;try{if(!_t(m(),p))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hn(e,n,l,a){n&=~Nr,n&=~ci,e.suspendedLanes|=n,e.pingedLanes&=~n,a&&(e.warmLanes|=n),a=e.expirationTimes;for(var p=n;0<p;){var m=31-St(p),T=1<<m;a[m]=-1,p&=~T}l!==0&&Zu(e,l,n)}function ts(){return(Ce&6)===0?(Oo(0),!1):!0}function Dr(){if(pe!==null){if(xe===0)var e=pe.return;else e=pe,nn=ti=null,Ka(e),Li=null,xo=0,e=pe;for(;e!==null;)vd(e.alternate,e),e=e.return;pe=null}}function Fi(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Gv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),mn=0,Dr(),Ue=e,pe=l=en(e.current,null),he=n,xe=0,xt=null,wn=!1,ki=ao(e,n),xr=!1,Bi=Nt=Nr=ci=Un=Ve=0,gt=ko=null,Rr=!1,(n&8)!==0&&(n|=n&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=n;0<a;){var p=31-St(a),m=1<<p;n|=e[p],a&=~m}return pn=n,El(),l}function Bd(e,n){ce=null,P.H=Uo,n===Ui||n===Il?(n=of(),xe=3):n===Ga?(n=of(),xe=4):xe=n===ur?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xt=n,pe===null&&(Ve=1,Fl(e,Dt(n,e.current)))}function Od(){var e=Ct.current;return e===null?!0:(he&4194048)===he?Gt===null:(he&62914560)===he||(he&536870912)!==0?e===Gt:!1}function Fd(){var e=P.H;return P.H=Uo,e===null?Uo:e}function Yd(){var e=P.A;return P.A=pv,e}function ns(){Ve=4,wn||(he&4194048)!==he&&Ct.current!==null||(ki=!0),(Un&134217727)===0&&(ci&134217727)===0||Ue===null||Hn(Ue,he,Nt,!1)}function wr(e,n,l){var a=Ce;Ce|=2;var p=Fd(),m=Yd();(Ue!==e||he!==n)&&(es=null,Fi(e,n)),n=!1;var T=Ve;e:do try{if(xe!==0&&pe!==null){var C=pe,A=xt;switch(xe){case 8:Dr(),T=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(n=!0);var D=xe;if(xe=0,xt=null,Yi(e,C,A,D),l&&ki){T=0;break e}break;default:D=xe,xe=0,xt=null,Yi(e,C,A,D)}}gv(),T=Ve;break}catch(H){Bd(e,H)}while(!0);return n&&e.shellSuspendCounter++,nn=ti=null,Ce=a,P.H=p,P.A=m,pe===null&&(Ue=null,he=0,El()),T}function gv(){for(;pe!==null;)Jd(pe)}function yv(e,n){var l=Ce;Ce|=2;var a=Fd(),p=Yd();Ue!==e||he!==n?(es=null,jl=vt()+500,Fi(e,n)):ki=ao(e,n);e:do try{if(xe!==0&&pe!==null){n=pe;var m=xt;t:switch(xe){case 1:xe=0,xt=null,Yi(e,n,m,1);break;case 2:case 9:if(tf(m)){xe=0,xt=null,Kd(n);break}n=function(){xe!==2&&xe!==9||Ue!==e||(xe=7),Zt(e)},m.then(n,n);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:tf(m)?(xe=0,xt=null,Kd(n)):(xe=0,xt=null,Yi(e,n,m,7));break;case 5:var T=null;switch(pe.tag){case 26:T=pe.memoizedState;case 5:case 27:var C=pe;if(T?wp(T):C.stateNode.complete){xe=0,xt=null;var A=C.sibling;if(A!==null)pe=A;else{var D=C.return;D!==null?(pe=D,is(D)):pe=null}break t}}xe=0,xt=null,Yi(e,n,m,5);break;case 6:xe=0,xt=null,Yi(e,n,m,6);break;case 8:Dr(),Ve=6;break e;default:throw Error(s(462))}}vv();break}catch(H){Bd(e,H)}while(!0);return nn=ti=null,P.H=a,P.A=p,Ce=l,pe!==null?0:(Ue=null,he=0,El(),Ve)}function vv(){for(;pe!==null&&!kg();)Jd(pe)}function Jd(e){var n=gd(e.alternate,e,pn);e.memoizedProps=e.pendingProps,n===null?is(e):pe=n}function Kd(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=cd(l,n,n.pendingProps,n.type,void 0,he);break;case 11:n=cd(l,n,n.pendingProps,n.type.render,n.ref,he);break;case 5:Ka(n);default:vd(l,n),n=pe=Fc(n,pn),n=gd(l,n,pn)}e.memoizedProps=e.pendingProps,n===null?is(e):pe=n}function Yi(e,n,l,a){nn=ti=null,Ka(n),Li=null,xo=0;var p=n.return;try{if(sv(e,p,n,l,he)){Ve=1,Fl(e,Dt(l,e.current)),pe=null;return}}catch(m){if(p!==null)throw pe=p,m;Ve=1,Fl(e,Dt(l,e.current)),pe=null;return}n.flags&32768?(ye||a===1?e=!0:ki||(he&536870912)!==0?e=!1:(wn=e=!0,(a===2||a===9||a===3||a===6)&&(a=Ct.current,a!==null&&a.tag===13&&(a.flags|=16384))),Xd(n,e)):is(n)}function is(e){var n=e;do{if((n.flags&32768)!==0){Xd(n,wn);return}e=n.return;var l=uv(n.alternate,n,pn);if(l!==null){pe=l;return}if(n=n.sibling,n!==null){pe=n;return}pe=n=e}while(n!==null);Ve===0&&(Ve=5)}function Xd(e,n){do{var l=cv(e.alternate,e);if(l!==null){l.flags&=32767,pe=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){pe=e;return}pe=e=l}while(e!==null);Ve=6,pe=null}function Qd(e,n,l,a,p,m,T,C,A){e.cancelPendingCommit=null;do os();while(Xe!==0);if((Ce&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=Sa,$g(e,l,m,T,C,A),e===Ue&&(pe=Ue=null,he=0),Oi=n,Gn=e,mn=l,Mr=m,br=p,Vd=a,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ev(sl,function(){return ep(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||a){a=P.T,P.T=null,p=X.p,X.p=2,T=Ce,Ce|=4;try{fv(e,n,l)}finally{Ce=T,X.p=p,P.T=a}}Xe=1,Zd(),$d(),Wd()}}function Zd(){if(Xe===1){Xe=0;var e=Gn,n=Oi,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=P.T,P.T=null;var a=X.p;X.p=2;var p=Ce;Ce|=4;try{Id(n,e);var m=Fr,T=Gc(e.containerInfo),C=m.focusedElem,A=m.selectionRange;if(T!==C&&C&&C.ownerDocument&&Lc(C.ownerDocument.documentElement,C)){if(A!==null&&ha(C)){var D=A.start,H=A.end;if(H===void 0&&(H=D),"selectionStart"in C)C.selectionStart=D,C.selectionEnd=Math.min(H,C.value.length);else{var q=C.ownerDocument||document,w=q&&q.defaultView||window;if(w.getSelection){var L=w.getSelection(),W=C.textContent.length,oe=Math.min(A.start,W),Ie=A.end===void 0?oe:Math.min(A.end,W);!L.extend&&oe>Ie&&(T=Ie,Ie=oe,oe=T);var M=Uc(C,oe),N=Uc(C,Ie);if(M&&N&&(L.rangeCount!==1||L.anchorNode!==M.node||L.anchorOffset!==M.offset||L.focusNode!==N.node||L.focusOffset!==N.offset)){var I=q.createRange();I.setStart(M.node,M.offset),L.removeAllRanges(),oe>Ie?(L.addRange(I),L.extend(N.node,N.offset)):(I.setEnd(N.node,N.offset),L.addRange(I))}}}}for(q=[],L=C;L=L.parentNode;)L.nodeType===1&&q.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<q.length;C++){var V=q[C];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}gs=!!Or,Fr=Or=null}finally{Ce=p,X.p=a,P.T=l}}e.current=n,Xe=2}}function $d(){if(Xe===2){Xe=0;var e=Gn,n=Oi,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=P.T,P.T=null;var a=X.p;X.p=2;var p=Ce;Ce|=4;try{xd(e,n.alternate,n)}finally{Ce=p,X.p=a,P.T=l}}Xe=3}}function Wd(){if(Xe===4||Xe===3){Xe=0,Bg();var e=Gn,n=Oi,l=mn,a=Vd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xe=5:(Xe=0,Oi=Gn=null,jd(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Ln=null),Zs(l),n=n.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(so,n,void 0,(n.current.flags&128)===128)}catch{}if(a!==null){n=P.T,p=X.p,X.p=2,P.T=null;try{for(var m=e.onRecoverableError,T=0;T<a.length;T++){var C=a[T];m(C.value,{componentStack:C.stack})}}finally{P.T=n,X.p=p}}(mn&3)!==0&&os(),Zt(e),p=e.pendingLanes,(l&261930)!==0&&(p&42)!==0?e===Ir?Bo++:(Bo=0,Ir=e):Bo=0,Oo(0)}}function jd(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Co(n)))}function os(){return Zd(),$d(),Wd(),ep()}function ep(){if(Xe!==5)return!1;var e=Gn,n=Mr;Mr=0;var l=Zs(mn),a=P.T,p=X.p;try{X.p=32>l?32:l,P.T=null,l=br,br=null;var m=Gn,T=mn;if(Xe=0,Oi=Gn=null,mn=0,(Ce&6)!==0)throw Error(s(331));var C=Ce;if(Ce|=4,Gd(m.current),wd(m,m.current,T,l),Ce=C,Oo(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(so,m)}catch{}return!0}finally{X.p=p,P.T=a,jd(e,n)}}function tp(e,n,l){n=Dt(l,n),n=rr(e.stateNode,n,2),e=Mn(e,n,2),e!==null&&(ro(e,2),Zt(e))}function Ne(e,n,l){if(e.tag===3)tp(e,e,l);else for(;n!==null;){if(n.tag===3){tp(n,e,l);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ln===null||!Ln.has(a))){e=Dt(l,e),l=nd(2),a=Mn(n,l,2),a!==null&&(id(l,a,n,e),ro(a,2),Zt(a));break}}n=n.return}}function Ur(e,n,l){var a=e.pingCache;if(a===null){a=e.pingCache=new mv;var p=new Set;a.set(n,p)}else p=a.get(n),p===void 0&&(p=new Set,a.set(n,p));p.has(l)||(xr=!0,p.add(l),e=Tv.bind(null,e,n,l),n.then(e,e))}function Tv(e,n,l){var a=e.pingCache;a!==null&&a.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ue===e&&(he&l)===l&&(Ve===4||Ve===3&&(he&62914560)===he&&300>vt()-Wl?(Ce&2)===0&&Fi(e,0):Nr|=l,Bi===he&&(Bi=0)),Zt(e)}function np(e,n){n===0&&(n=Qu()),e=Wn(e,n),e!==null&&(ro(e,n),Zt(e))}function Sv(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),np(e,l)}function _v(e,n){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,p=e.memoizedState;p!==null&&(l=p.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(n),np(e,l)}function Ev(e,n){return Js(e,n)}var ls=null,Ji=null,Lr=!1,ss=!1,Gr=!1,Pn=0;function Zt(e){e!==Ji&&e.next===null&&(Ji===null?ls=Ji=e:Ji=Ji.next=e),ss=!0,Lr||(Lr=!0,Av())}function Oo(e,n){if(!Gr&&ss){Gr=!0;do for(var l=!1,a=ls;a!==null;){if(e!==0){var p=a.pendingLanes;if(p===0)var m=0;else{var T=a.suspendedLanes,C=a.pingedLanes;m=(1<<31-St(42|e)+1)-1,m&=p&~(T&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,sp(a,m))}else m=he,m=cl(a,a===Ue?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(m&3)===0||ao(a,m)||(l=!0,sp(a,m));a=a.next}while(l);Gr=!1}}function Cv(){ip()}function ip(){ss=Lr=!1;var e=0;Pn!==0&&Lv()&&(e=Pn);for(var n=vt(),l=null,a=ls;a!==null;){var p=a.next,m=op(a,n);m===0?(a.next=null,l===null?ls=p:l.next=p,p===null&&(Ji=l)):(l=a,(e!==0||(m&3)!==0)&&(ss=!0)),a=p}Xe!==0&&Xe!==5||Oo(e),Pn!==0&&(Pn=0)}function op(e,n){for(var l=e.suspendedLanes,a=e.pingedLanes,p=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-St(m),C=1<<T,A=p[T];A===-1?((C&l)===0||(C&a)!==0)&&(p[T]=Zg(C,n)):A<=n&&(e.expiredLanes|=C),m&=~C}if(n=Ue,l=he,l=cl(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===n&&(xe===2||xe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Ks(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||ao(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(a!==null&&Ks(a),Zs(l)){case 2:case 8:l=Ku;break;case 32:l=sl;break;case 268435456:l=Xu;break;default:l=sl}return a=lp.bind(null,e),l=Js(l,a),e.callbackPriority=n,e.callbackNode=l,n}return a!==null&&a!==null&&Ks(a),e.callbackPriority=2,e.callbackNode=null,2}function lp(e,n){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(os()&&e.callbackNode!==l)return null;var a=he;return a=cl(e,e===Ue?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(zd(e,a,n),op(e,vt()),e.callbackNode!=null&&e.callbackNode===l?lp.bind(null,e):null)}function sp(e,n){if(os())return null;zd(e,n,!0)}function Av(){Hv(function(){(Ce&6)!==0?Js(Ju,Cv):ip()})}function Hr(){if(Pn===0){var e=Di;e===0&&(e=al,al<<=1,(al&261888)===0&&(al=256)),Pn=e}return Pn}function ap(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ml(""+e)}function rp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function xv(e,n,l,a,p){if(n==="submit"&&l&&l.stateNode===p){var m=ap((p[ft]||null).action),T=a.submitter;T&&(n=(n=T[ft]||null)?ap(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var C=new vl("action","action",null,a,p);e.push({event:C,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Pn!==0){var A=T?rp(p,T):new FormData(p);nr(l,{pending:!0,data:A,method:p.method,action:m},null,A)}}else typeof m=="function"&&(C.preventDefault(),A=T?rp(p,T):new FormData(p),nr(l,{pending:!0,data:A,method:p.method,action:m},m,A))},currentTarget:p}]})}}for(var Pr=0;Pr<Ta.length;Pr++){var Vr=Ta[Pr],Nv=Vr.toLowerCase(),Rv=Vr[0].toUpperCase()+Vr.slice(1);kt(Nv,"on"+Rv)}kt(Vc,"onAnimationEnd"),kt(qc,"onAnimationIteration"),kt(zc,"onAnimationStart"),kt("dblclick","onDoubleClick"),kt("focusin","onFocus"),kt("focusout","onBlur"),kt(Oy,"onTransitionRun"),kt(Fy,"onTransitionStart"),kt(Yy,"onTransitionCancel"),kt(kc,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fo));function up(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],p=a.event;a=a.listeners;e:{var m=void 0;if(n)for(var T=a.length-1;0<=T;T--){var C=a[T],A=C.instance,D=C.currentTarget;if(C=C.listener,A!==m&&p.isPropagationStopped())break e;m=C,p.currentTarget=D;try{m(p)}catch(H){_l(H)}p.currentTarget=null,m=A}else for(T=0;T<a.length;T++){if(C=a[T],A=C.instance,D=C.currentTarget,C=C.listener,A!==m&&p.isPropagationStopped())break e;m=C,p.currentTarget=D;try{m(p)}catch(H){_l(H)}p.currentTarget=null,m=A}}}}function me(e,n){var l=n[$s];l===void 0&&(l=n[$s]=new Set);var a=e+"__bubble";l.has(a)||(cp(n,e,2,!1),l.add(a))}function qr(e,n,l){var a=0;n&&(a|=4),cp(l,e,a,n)}var as="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[as]){e[as]=!0,nc.forEach(function(l){l!=="selectionchange"&&(Mv.has(l)||qr(l,!1,e),qr(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[as]||(n[as]=!0,qr("selectionchange",!1,n))}}function cp(e,n,l,a){switch(qp(n)){case 2:var p=n0;break;case 8:p=i0;break;default:p=tu}l=p.bind(null,n,l,e),p=void 0,!sa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),a?p!==void 0?e.addEventListener(n,l,{capture:!0,passive:p}):e.addEventListener(n,l,!0):p!==void 0?e.addEventListener(n,l,{passive:p}):e.addEventListener(n,l,!1)}function kr(e,n,l,a,p){var m=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var T=a.tag;if(T===3||T===4){var C=a.stateNode.containerInfo;if(C===p)break;if(T===4)for(T=a.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;C!==null;){if(T=mi(C),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){a=m=T;continue e}C=C.parentNode}}a=a.return}mc(function(){var D=m,H=oa(l),q=[];e:{var w=Bc.get(e);if(w!==void 0){var L=vl,W=e;switch(e){case"keypress":if(gl(l)===0)break e;case"keydown":case"keyup":L=_y;break;case"focusin":W="focus",L=ca;break;case"focusout":W="blur",L=ca;break;case"beforeblur":case"afterblur":L=ca;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=uy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=Ay;break;case Vc:case qc:case zc:L=dy;break;case kc:L=Ny;break;case"scroll":case"scrollend":L=ay;break;case"wheel":L=My;break;case"copy":case"cut":case"paste":L=my;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Tc;break;case"toggle":case"beforetoggle":L=Iy}var oe=(n&4)!==0,Ie=!oe&&(e==="scroll"||e==="scrollend"),M=oe?w!==null?w+"Capture":null:w;oe=[];for(var N=D,I;N!==null;){var V=N;if(I=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||I===null||M===null||(V=fo(N,M),V!=null&&oe.push(Yo(N,V,I))),Ie)break;N=N.return}0<oe.length&&(w=new L(w,W,null,l,H),q.push({event:w,listeners:oe}))}}if((n&7)===0){e:{if(w=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",w&&l!==ia&&(W=l.relatedTarget||l.fromElement)&&(mi(W)||W[pi]))break e;if((L||w)&&(w=H.window===H?H:(w=H.ownerDocument)?w.defaultView||w.parentWindow:window,L?(W=l.relatedTarget||l.toElement,L=D,W=W?mi(W):null,W!==null&&(Ie=f(W),oe=W.tag,W!==Ie||oe!==5&&oe!==27&&oe!==6)&&(W=null)):(L=null,W=D),L!==W)){if(oe=yc,V="onMouseLeave",M="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Tc,V="onPointerLeave",M="onPointerEnter",N="pointer"),Ie=L==null?w:co(L),I=W==null?w:co(W),w=new oe(V,N+"leave",L,l,H),w.target=Ie,w.relatedTarget=I,V=null,mi(H)===D&&(oe=new oe(M,N+"enter",W,l,H),oe.target=I,oe.relatedTarget=Ie,V=oe),Ie=V,L&&W)t:{for(oe=bv,M=L,N=W,I=0,V=M;V;V=oe(V))I++;V=0;for(var ne=N;ne;ne=oe(ne))V++;for(;0<I-V;)M=oe(M),I--;for(;0<V-I;)N=oe(N),V--;for(;I--;){if(M===N||N!==null&&M===N.alternate){oe=M;break t}M=oe(M),N=oe(N)}oe=null}else oe=null;L!==null&&fp(q,w,L,oe,!1),W!==null&&Ie!==null&&fp(q,Ie,W,oe,!0)}}e:{if(w=D?co(D):window,L=w.nodeName&&w.nodeName.toLowerCase(),L==="select"||L==="input"&&w.type==="file")var Se=Rc;else if(xc(w))if(Mc)Se=zy;else{Se=Vy;var ee=Py}else L=w.nodeName,!L||L.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?D&&na(D.elementType)&&(Se=Rc):Se=qy;if(Se&&(Se=Se(e,D))){Nc(q,Se,l,H);break e}ee&&ee(e,w,D),e==="focusout"&&D&&w.type==="number"&&D.memoizedProps.value!=null&&ta(w,"number",w.value)}switch(ee=D?co(D):window,e){case"focusin":(xc(ee)||ee.contentEditable==="true")&&(Ci=ee,ga=D,So=null);break;case"focusout":So=ga=Ci=null;break;case"mousedown":ya=!0;break;case"contextmenu":case"mouseup":case"dragend":ya=!1,Hc(q,l,H);break;case"selectionchange":if(By)break;case"keydown":case"keyup":Hc(q,l,H)}var fe;if(da)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Ei?Cc(e,l)&&(ge="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ge="onCompositionStart");ge&&(Sc&&l.locale!=="ko"&&(Ei||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Ei&&(fe=hc()):(_n=H,aa="value"in _n?_n.value:_n.textContent,Ei=!0)),ee=rs(D,ge),0<ee.length&&(ge=new vc(ge,e,null,l,H),q.push({event:ge,listeners:ee}),fe?ge.data=fe:(fe=Ac(l),fe!==null&&(ge.data=fe)))),(fe=wy?Uy(e,l):Ly(e,l))&&(ge=rs(D,"onBeforeInput"),0<ge.length&&(ee=new vc("onBeforeInput","beforeinput",null,l,H),q.push({event:ee,listeners:ge}),ee.data=fe)),xv(q,e,D,l,H)}up(q,n)})}function Yo(e,n,l){return{instance:e,listener:n,currentTarget:l}}function rs(e,n){for(var l=n+"Capture",a=[];e!==null;){var p=e,m=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||m===null||(p=fo(e,l),p!=null&&a.unshift(Yo(e,p,m)),p=fo(e,n),p!=null&&a.push(Yo(e,p,m))),e.tag===3)return a;e=e.return}return[]}function bv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fp(e,n,l,a,p){for(var m=n._reactName,T=[];l!==null&&l!==a;){var C=l,A=C.alternate,D=C.stateNode;if(C=C.tag,A!==null&&A===a)break;C!==5&&C!==26&&C!==27||D===null||(A=D,p?(D=fo(l,m),D!=null&&T.unshift(Yo(l,D,A))):p||(D=fo(l,m),D!=null&&T.push(Yo(l,D,A)))),l=l.return}T.length!==0&&e.push({event:n,listeners:T})}var Iv=/\r\n?/g,Dv=/\u0000|\uFFFD/g;function dp(e){return(typeof e=="string"?e:""+e).replace(Iv,`
`).replace(Dv,"")}function pp(e,n){return n=dp(n),dp(e)===n}function be(e,n,l,a,p,m){switch(l){case"children":typeof a=="string"?n==="body"||n==="textarea"&&a===""||Ti(e,a):(typeof a=="number"||typeof a=="bigint")&&n!=="body"&&Ti(e,""+a);break;case"className":dl(e,"class",a);break;case"tabIndex":dl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":dl(e,l,a);break;case"style":dc(e,a,m);break;case"data":if(n!=="object"){dl(e,"data",a);break}case"src":case"href":if(a===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=ml(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&be(e,n,"name",p.name,p,null),be(e,n,"formEncType",p.formEncType,p,null),be(e,n,"formMethod",p.formMethod,p,null),be(e,n,"formTarget",p.formTarget,p,null)):(be(e,n,"encType",p.encType,p,null),be(e,n,"method",p.method,p,null),be(e,n,"target",p.target,p,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=ml(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Wt);break;case"onScroll":a!=null&&me("scroll",e);break;case"onScrollEnd":a!=null&&me("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(p.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=ml(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":me("beforetoggle",e),me("toggle",e),fl(e,"popover",a);break;case"xlinkActuate":$t(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":$t(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":$t(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":$t(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":$t(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":$t(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":$t(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":$t(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":$t(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":fl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ly.get(l)||l,fl(e,l,a))}}function Br(e,n,l,a,p,m){switch(l){case"style":dc(e,a,m);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(p.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Ti(e,a):(typeof a=="number"||typeof a=="bigint")&&Ti(e,""+a);break;case"onScroll":a!=null&&me("scroll",e);break;case"onScrollEnd":a!=null&&me("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Wt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ic.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),n=l.slice(2,p?l.length-7:void 0),m=e[ft]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(n,m,p),typeof a=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,a,p);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):fl(e,l,a)}}}function it(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",e),me("load",e);var a=!1,p=!1,m;for(m in l)if(l.hasOwnProperty(m)){var T=l[m];if(T!=null)switch(m){case"src":a=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:be(e,n,m,T,l,null)}}p&&be(e,n,"srcSet",l.srcSet,l,null),a&&be(e,n,"src",l.src,l,null);return;case"input":me("invalid",e);var C=m=T=p=null,A=null,D=null;for(a in l)if(l.hasOwnProperty(a)){var H=l[a];if(H!=null)switch(a){case"name":p=H;break;case"type":T=H;break;case"checked":A=H;break;case"defaultChecked":D=H;break;case"value":m=H;break;case"defaultValue":C=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:be(e,n,a,H,l,null)}}rc(e,m,C,A,D,T,p,!1);return;case"select":me("invalid",e),a=T=m=null;for(p in l)if(l.hasOwnProperty(p)&&(C=l[p],C!=null))switch(p){case"value":m=C;break;case"defaultValue":T=C;break;case"multiple":a=C;default:be(e,n,p,C,l,null)}n=m,l=T,e.multiple=!!a,n!=null?vi(e,!!a,n,!1):l!=null&&vi(e,!!a,l,!0);return;case"textarea":me("invalid",e),m=p=a=null;for(T in l)if(l.hasOwnProperty(T)&&(C=l[T],C!=null))switch(T){case"value":a=C;break;case"defaultValue":p=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:be(e,n,T,C,l,null)}cc(e,a,p,m);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(a=l[A],a!=null))switch(A){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:be(e,n,A,a,l,null)}return;case"dialog":me("beforetoggle",e),me("toggle",e),me("cancel",e),me("close",e);break;case"iframe":case"object":me("load",e);break;case"video":case"audio":for(a=0;a<Fo.length;a++)me(Fo[a],e);break;case"image":me("error",e),me("load",e);break;case"details":me("toggle",e);break;case"embed":case"source":case"link":me("error",e),me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in l)if(l.hasOwnProperty(D)&&(a=l[D],a!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:be(e,n,D,a,l,null)}return;default:if(na(n)){for(H in l)l.hasOwnProperty(H)&&(a=l[H],a!==void 0&&Br(e,n,H,a,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(a=l[C],a!=null&&be(e,n,C,a,l,null))}function wv(e,n,l,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,m=null,T=null,C=null,A=null,D=null,H=null;for(L in l){var q=l[L];if(l.hasOwnProperty(L)&&q!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":A=q;default:a.hasOwnProperty(L)||be(e,n,L,null,a,q)}}for(var w in a){var L=a[w];if(q=l[w],a.hasOwnProperty(w)&&(L!=null||q!=null))switch(w){case"type":m=L;break;case"name":p=L;break;case"checked":D=L;break;case"defaultChecked":H=L;break;case"value":T=L;break;case"defaultValue":C=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,n));break;default:L!==q&&be(e,n,w,L,a,q)}}ea(e,T,C,A,D,H,m,p);return;case"select":L=T=C=w=null;for(m in l)if(A=l[m],l.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":L=A;default:a.hasOwnProperty(m)||be(e,n,m,null,a,A)}for(p in a)if(m=a[p],A=l[p],a.hasOwnProperty(p)&&(m!=null||A!=null))switch(p){case"value":w=m;break;case"defaultValue":C=m;break;case"multiple":T=m;default:m!==A&&be(e,n,p,m,a,A)}n=C,l=T,a=L,w!=null?vi(e,!!l,w,!1):!!a!=!!l&&(n!=null?vi(e,!!l,n,!0):vi(e,!!l,l?[]:"",!1));return;case"textarea":L=w=null;for(C in l)if(p=l[C],l.hasOwnProperty(C)&&p!=null&&!a.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:be(e,n,C,null,a,p)}for(T in a)if(p=a[T],m=l[T],a.hasOwnProperty(T)&&(p!=null||m!=null))switch(T){case"value":w=p;break;case"defaultValue":L=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==m&&be(e,n,T,p,a,m)}uc(e,w,L);return;case"option":for(var W in l)if(w=l[W],l.hasOwnProperty(W)&&w!=null&&!a.hasOwnProperty(W))switch(W){case"selected":e.selected=!1;break;default:be(e,n,W,null,a,w)}for(A in a)if(w=a[A],L=l[A],a.hasOwnProperty(A)&&w!==L&&(w!=null||L!=null))switch(A){case"selected":e.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:be(e,n,A,w,a,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in l)w=l[oe],l.hasOwnProperty(oe)&&w!=null&&!a.hasOwnProperty(oe)&&be(e,n,oe,null,a,w);for(D in a)if(w=a[D],L=l[D],a.hasOwnProperty(D)&&w!==L&&(w!=null||L!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(137,n));break;default:be(e,n,D,w,a,L)}return;default:if(na(n)){for(var Ie in l)w=l[Ie],l.hasOwnProperty(Ie)&&w!==void 0&&!a.hasOwnProperty(Ie)&&Br(e,n,Ie,void 0,a,w);for(H in a)w=a[H],L=l[H],!a.hasOwnProperty(H)||w===L||w===void 0&&L===void 0||Br(e,n,H,w,a,L);return}}for(var M in l)w=l[M],l.hasOwnProperty(M)&&w!=null&&!a.hasOwnProperty(M)&&be(e,n,M,null,a,w);for(q in a)w=a[q],L=l[q],!a.hasOwnProperty(q)||w===L||w==null&&L==null||be(e,n,q,w,a,L)}function mp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Uv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var p=l[a],m=p.transferSize,T=p.initiatorType,C=p.duration;if(m&&C&&mp(T)){for(T=0,C=p.responseEnd,a+=1;a<l.length;a++){var A=l[a],D=A.startTime;if(D>C)break;var H=A.transferSize,q=A.initiatorType;H&&mp(q)&&(A=A.responseEnd,T+=H*(A<C?1:(C-D)/(A-D)))}if(--a,n+=8*(m+T)/(p.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Or=null,Fr=null;function us(e){return e.nodeType===9?e:e.ownerDocument}function hp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Yr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jr=null;function Lv(){var e=window.event;return e&&e.type==="popstate"?e===Jr?!1:(Jr=e,!0):(Jr=null,!1)}var yp=typeof setTimeout=="function"?setTimeout:void 0,Gv=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,Hv=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(e){return vp.resolve(null).then(e).catch(Pv)}:yp;function Pv(e){setTimeout(function(){throw e})}function Vn(e){return e==="head"}function Tp(e,n){var l=n,a=0;do{var p=l.nextSibling;if(e.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(p),Zi(n);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Jo(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Jo(l);for(var m=l.firstChild;m;){var T=m.nextSibling,C=m.nodeName;m[uo]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=T}}else l==="body"&&Jo(e.ownerDocument.body);l=p}while(l);Zi(n)}function Sp(e,n){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function Kr(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Kr(l),Ws(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Vv(e,n,l,a){for(;e.nodeType===1;){var p=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[uo])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Ht(e.nextSibling),e===null)break}return null}function qv(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Ht(e.nextSibling),e===null))return null;return e}function _p(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ht(e.nextSibling),e===null))return null;return e}function Xr(e){return e.data==="$?"||e.data==="$~"}function Qr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zv(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var a=function(){n(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Ht(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Zr=null;function Ep(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Ht(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Cp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function Ap(e,n,l){switch(n=us(l),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Jo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ws(e)}var Pt=new Map,xp=new Set;function cs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hn=X.d;X.d={f:kv,r:Bv,D:Ov,C:Fv,L:Yv,m:Jv,X:Xv,S:Kv,M:Qv};function kv(){var e=hn.f(),n=ts();return e||n}function Bv(e){var n=hi(e);n!==null&&n.tag===5&&n.type==="form"?Bf(n):hn.r(e)}var Ki=typeof document>"u"?null:document;function Np(e,n,l){var a=Ki;if(a&&typeof n=="string"&&n){var p=bt(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),xp.has(p)||(xp.add(p),e={rel:e,crossOrigin:l,href:n},a.querySelector(p)===null&&(n=a.createElement("link"),it(n,"link",e),Ze(n),a.head.appendChild(n)))}}function Ov(e){hn.D(e),Np("dns-prefetch",e,null)}function Fv(e,n){hn.C(e,n),Np("preconnect",e,n)}function Yv(e,n,l){hn.L(e,n,l);var a=Ki;if(a&&e&&n){var p='link[rel="preload"][as="'+bt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+bt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+bt(l.imageSizes)+'"]')):p+='[href="'+bt(e)+'"]';var m=p;switch(n){case"style":m=Xi(e);break;case"script":m=Qi(e)}Pt.has(m)||(e=S({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Pt.set(m,e),a.querySelector(p)!==null||n==="style"&&a.querySelector(Ko(m))||n==="script"&&a.querySelector(Xo(m))||(n=a.createElement("link"),it(n,"link",e),Ze(n),a.head.appendChild(n)))}}function Jv(e,n){hn.m(e,n);var l=Ki;if(l&&e){var a=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+bt(a)+'"][href="'+bt(e)+'"]',m=p;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Qi(e)}if(!Pt.has(m)&&(e=S({rel:"modulepreload",href:e},n),Pt.set(m,e),l.querySelector(p)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Xo(m)))return}a=l.createElement("link"),it(a,"link",e),Ze(a),l.head.appendChild(a)}}}function Kv(e,n,l){hn.S(e,n,l);var a=Ki;if(a&&e){var p=gi(a).hoistableStyles,m=Xi(e);n=n||"default";var T=p.get(m);if(!T){var C={loading:0,preload:null};if(T=a.querySelector(Ko(m)))C.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Pt.get(m))&&$r(e,l);var A=T=a.createElement("link");Ze(A),it(A,"link",e),A._p=new Promise(function(D,H){A.onload=D,A.onerror=H}),A.addEventListener("load",function(){C.loading|=1}),A.addEventListener("error",function(){C.loading|=2}),C.loading|=4,fs(T,n,a)}T={type:"stylesheet",instance:T,count:1,state:C},p.set(m,T)}}}function Xv(e,n){hn.X(e,n);var l=Ki;if(l&&e){var a=gi(l).hoistableScripts,p=Qi(e),m=a.get(p);m||(m=l.querySelector(Xo(p)),m||(e=S({src:e,async:!0},n),(n=Pt.get(p))&&Wr(e,n),m=l.createElement("script"),Ze(m),it(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(p,m))}}function Qv(e,n){hn.M(e,n);var l=Ki;if(l&&e){var a=gi(l).hoistableScripts,p=Qi(e),m=a.get(p);m||(m=l.querySelector(Xo(p)),m||(e=S({src:e,async:!0,type:"module"},n),(n=Pt.get(p))&&Wr(e,n),m=l.createElement("script"),Ze(m),it(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(p,m))}}function Rp(e,n,l,a){var p=(p=de.current)?cs(p):null;if(!p)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Xi(l.href),l=gi(p).hoistableStyles,a=l.get(n),a||(a={type:"style",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Xi(l.href);var m=gi(p).hoistableStyles,T=m.get(e);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=p.querySelector(Ko(e)))&&!m._p&&(T.instance=m,T.state.loading=5),Pt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Pt.set(e,l),m||Zv(p,e,l,T.state))),n&&a===null)throw Error(s(528,""));return T}if(n&&a!==null)throw Error(s(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qi(l),l=gi(p).hoistableScripts,a=l.get(n),a||(a={type:"script",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Xi(e){return'href="'+bt(e)+'"'}function Ko(e){return'link[rel="stylesheet"]['+e+"]"}function Mp(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Zv(e,n,l,a){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?a.loading=1:(n=e.createElement("link"),a.preload=n,n.addEventListener("load",function(){return a.loading|=1}),n.addEventListener("error",function(){return a.loading|=2}),it(n,"link",l),Ze(n),e.head.appendChild(n))}function Qi(e){return'[src="'+bt(e)+'"]'}function Xo(e){return"script[async]"+e}function bp(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var a=e.querySelector('style[data-href~="'+bt(l.href)+'"]');if(a)return n.instance=a,Ze(a),a;var p=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ze(a),it(a,"style",p),fs(a,l.precedence,e),n.instance=a;case"stylesheet":p=Xi(l.href);var m=e.querySelector(Ko(p));if(m)return n.state.loading|=4,n.instance=m,Ze(m),m;a=Mp(l),(p=Pt.get(p))&&$r(a,p),m=(e.ownerDocument||e).createElement("link"),Ze(m);var T=m;return T._p=new Promise(function(C,A){T.onload=C,T.onerror=A}),it(m,"link",a),n.state.loading|=4,fs(m,l.precedence,e),n.instance=m;case"script":return m=Qi(l.src),(p=e.querySelector(Xo(m)))?(n.instance=p,Ze(p),p):(a=l,(p=Pt.get(m))&&(a=S({},l),Wr(a,p)),e=e.ownerDocument||e,p=e.createElement("script"),Ze(p),it(p,"link",a),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(a=n.instance,n.state.loading|=4,fs(a,l.precedence,e));return n.instance}function fs(e,n,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=a.length?a[a.length-1]:null,m=p,T=0;T<a.length;T++){var C=a[T];if(C.dataset.precedence===n)m=C;else if(m!==p)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function $r(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Wr(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ds=null;function Ip(e,n,l){if(ds===null){var a=new Map,p=ds=new Map;p.set(l,a)}else p=ds,a=p.get(l),a||(a=new Map,p.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),p=0;p<l.length;p++){var m=l[p];if(!(m[uo]||m[je]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=e+T;var C=a.get(T);C?C.push(m):a.set(T,[m])}}return a}function Dp(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function $v(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function wp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Wv(e,n,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Xi(a.href),m=n.querySelector(Ko(p));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ps.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=m,Ze(m);return}m=n.ownerDocument||n,a=Mp(a),(p=Pt.get(p))&&$r(a,p),m=m.createElement("link"),Ze(m);var T=m;T._p=new Promise(function(C,A){T.onload=C,T.onerror=A}),it(m,"link",a),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=ps.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var jr=0;function jv(e,n){return e.stylesheets&&e.count===0&&hs(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&hs(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&jr===0&&(jr=62500*Uv());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&hs(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>jr?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(p)}}:null}function ps(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ms=null;function hs(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ms=new Map,n.forEach(e0,e),ms=null,ps.call(e))}function e0(e,n){if(!(n.state.loading&4)){var l=ms.get(e);if(l)var a=l.get(null);else{l=new Map,ms.set(e,l);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<p.length;m++){var T=p[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),a=T)}a&&l.set(null,a)}p=n.instance,T=p.getAttribute("data-precedence"),m=l.get(T)||a,m===a&&l.set(null,p),l.set(T,p),this.count++,a=ps.bind(this),p.addEventListener("load",a),p.addEventListener("error",a),m?m.parentNode.insertBefore(p,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var Qo={$$typeof:F,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function t0(e,n,l,a,p,m,T,C,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xs(0),this.hiddenUpdates=Xs(null),this.identifierPrefix=a,this.onUncaughtError=p,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Up(e,n,l,a,p,m,T,C,A,D,H,q){return e=new t0(e,n,l,T,A,D,H,q,C),n=1,m===!0&&(n|=24),m=Et(3,null,null,n),e.current=m,m.stateNode=e,n=wa(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:a,isDehydrated:l,cache:n},Ha(m),e}function Lp(e){return e?(e=Ni,e):Ni}function Gp(e,n,l,a,p,m){p=Lp(p),a.context===null?a.context=p:a.pendingContext=p,a=Rn(n),a.payload={element:l},m=m===void 0?null:m,m!==null&&(a.callback=m),l=Mn(e,a,n),l!==null&&(yt(l,e,n),Ro(l,e,n))}function Hp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function eu(e,n){Hp(e,n),(e=e.alternate)&&Hp(e,n)}function Pp(e){if(e.tag===13||e.tag===31){var n=Wn(e,67108864);n!==null&&yt(n,e,67108864),eu(e,67108864)}}function Vp(e){if(e.tag===13||e.tag===31){var n=Rt();n=Qs(n);var l=Wn(e,n);l!==null&&yt(l,e,n),eu(e,n)}}var gs=!0;function n0(e,n,l,a){var p=P.T;P.T=null;var m=X.p;try{X.p=2,tu(e,n,l,a)}finally{X.p=m,P.T=p}}function i0(e,n,l,a){var p=P.T;P.T=null;var m=X.p;try{X.p=8,tu(e,n,l,a)}finally{X.p=m,P.T=p}}function tu(e,n,l,a){if(gs){var p=nu(a);if(p===null)kr(e,n,a,ys,l),zp(e,a);else if(l0(p,e,n,l,a))a.stopPropagation();else if(zp(e,a),n&4&&-1<o0.indexOf(e)){for(;p!==null;){var m=hi(p);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Kn(m.pendingLanes);if(T!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var A=1<<31-St(T);C.entanglements[1]|=A,T&=~A}Zt(m),(Ce&6)===0&&(jl=vt()+500,Oo(0))}}break;case 31:case 13:C=Wn(m,2),C!==null&&yt(C,m,2),ts(),eu(m,2)}if(m=nu(a),m===null&&kr(e,n,a,ys,l),m===p)break;p=m}p!==null&&a.stopPropagation()}else kr(e,n,a,null,l)}}function nu(e){return e=oa(e),iu(e)}var ys=null;function iu(e){if(ys=null,e=mi(e),e!==null){var n=f(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=d(n),e!==null)return e;e=null}else if(l===31){if(e=h(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ys=e,null}function qp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Og()){case Ju:return 2;case Ku:return 8;case sl:case Fg:return 32;case Xu:return 268435456;default:return 32}default:return 32}}var ou=!1,qn=null,zn=null,kn=null,Zo=new Map,$o=new Map,Bn=[],o0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zp(e,n){switch(e){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":Zo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(n.pointerId)}}function Wo(e,n,l,a,p,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:l,eventSystemFlags:a,nativeEvent:m,targetContainers:[p]},n!==null&&(n=hi(n),n!==null&&Pp(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function l0(e,n,l,a,p){switch(n){case"focusin":return qn=Wo(qn,e,n,l,a,p),!0;case"dragenter":return zn=Wo(zn,e,n,l,a,p),!0;case"mouseover":return kn=Wo(kn,e,n,l,a,p),!0;case"pointerover":var m=p.pointerId;return Zo.set(m,Wo(Zo.get(m)||null,e,n,l,a,p)),!0;case"gotpointercapture":return m=p.pointerId,$o.set(m,Wo($o.get(m)||null,e,n,l,a,p)),!0}return!1}function kp(e){var n=mi(e.target);if(n!==null){var l=f(n);if(l!==null){if(n=l.tag,n===13){if(n=d(l),n!==null){e.blockedOn=n,ec(e.priority,function(){Vp(l)});return}}else if(n===31){if(n=h(l),n!==null){e.blockedOn=n,ec(e.priority,function(){Vp(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=nu(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);ia=a,l.target.dispatchEvent(a),ia=null}else return n=hi(l),n!==null&&Pp(n),e.blockedOn=l,!1;n.shift()}return!0}function Bp(e,n,l){vs(e)&&l.delete(n)}function s0(){ou=!1,qn!==null&&vs(qn)&&(qn=null),zn!==null&&vs(zn)&&(zn=null),kn!==null&&vs(kn)&&(kn=null),Zo.forEach(Bp),$o.forEach(Bp)}function Ts(e,n){e.blockedOn===n&&(e.blockedOn=null,ou||(ou=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,s0)))}var Ss=null;function Op(e){Ss!==e&&(Ss=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ss===e&&(Ss=null);for(var n=0;n<e.length;n+=3){var l=e[n],a=e[n+1],p=e[n+2];if(typeof a!="function"){if(iu(a||l)===null)continue;break}var m=hi(l);m!==null&&(e.splice(n,3),n-=3,nr(m,{pending:!0,data:p,method:l.method,action:a},a,p))}}))}function Zi(e){function n(A){return Ts(A,e)}qn!==null&&Ts(qn,e),zn!==null&&Ts(zn,e),kn!==null&&Ts(kn,e),Zo.forEach(n),$o.forEach(n);for(var l=0;l<Bn.length;l++){var a=Bn[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Bn.length&&(l=Bn[0],l.blockedOn===null);)kp(l),l.blockedOn===null&&Bn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var p=l[a],m=l[a+1],T=p[ft]||null;if(typeof m=="function")T||Op(l);else if(T){var C=null;if(m&&m.hasAttribute("formAction")){if(p=m,T=m[ft]||null)C=T.formAction;else if(iu(p)!==null)continue}else C=T.action;typeof C=="function"?l[a+1]=C:(l.splice(a,3),a-=3),Op(l)}}}function Fp(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function n(){p!==null&&(p(),p=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),p!==null&&(p(),p=null)}}}function lu(e){this._internalRoot=e}_s.prototype.render=lu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var l=n.current,a=Rt();Gp(l,a,e,n,null,null)},_s.prototype.unmount=lu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Gp(e.current,2,null,e,null,null),ts(),n[pi]=null}};function _s(e){this._internalRoot=e}_s.prototype.unstable_scheduleHydration=function(e){if(e){var n=ju();e={blockedOn:null,target:e,priority:n};for(var l=0;l<Bn.length&&n!==0&&n<Bn[l].priority;l++);Bn.splice(l,0,e),l===0&&kp(e)}};var Yp=t.version;if(Yp!=="19.2.4")throw Error(s(527,Yp,"19.2.4"));X.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var a0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Es.isDisabled&&Es.supportsFiber)try{so=Es.inject(a0),Tt=Es}catch{}}return el.createRoot=function(e,n){if(!r(e))throw Error(s(299));var l=!1,a="",p=Wf,m=jf,T=ed;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Up(e,1,!1,null,null,l,a,null,p,m,T,Fp),e[pi]=n.current,zr(e),new lu(n)},el.hydrateRoot=function(e,n,l){if(!r(e))throw Error(s(299));var a=!1,p="",m=Wf,T=jf,C=ed,A=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),n=Up(e,1,!0,n,l??null,a,p,A,m,T,C,Fp),n.context=Lp(null),l=n.current,a=Rt(),a=Qs(a),p=Rn(a),p.callback=null,Mn(l,p,a),l=a,n.current.lanes=l,ro(n,l),Zt(n),e[pi]=n.current,zr(e),new _s(n)},el.version="19.2.4",el}var tm;function v0(){if(tm)return ru.exports;tm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),ru.exports=y0(),ru.exports}var T0=v0();const S0=Ph(T0);var Vt=(i=>(i.LIST="LIST",i.NEW_PATIENT="NEW_PATIENT",i.PATIENT_DETAIL="PATIENT_DETAIL",i))(Vt||{});const wu="sandhigata_vata_patients",_0=i=>{const t=Uu(),o=[i,...t.filter(s=>s.id!==i.id)];localStorage.setItem(wu,JSON.stringify(o))},Uu=()=>{const i=localStorage.getItem(wu);return i?JSON.parse(i):[]},E0=i=>{if(!i||i.length===0)return;const t=Uu(),o=new Set(i),s=t.filter(r=>!o.has(r.id));localStorage.setItem(wu,JSON.stringify(s))};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=(...i)=>i.filter((t,o,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===o).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,o,s)=>s?s.toUpperCase():o.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=i=>{const t=A0(i);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var x0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=Je.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:r="",children:f,iconNode:d,...h},y)=>Je.createElement("svg",{ref:y,...x0,width:t,height:t,stroke:i,strokeWidth:s?Number(o)*24/Number(t):o,className:Vh("lucide",r),...!f&&!N0(h)&&{"aria-hidden":"true"},...h},[...d.map(([g,v])=>Je.createElement(g,v)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(i,t)=>{const o=Je.forwardRef(({className:s,...r},f)=>Je.createElement(R0,{ref:f,iconNode:t,className:Vh(`lucide-${C0(nm(i))}`,`lucide-${i}`,s),...r}));return o.displayName=nm(i),o};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],b0=Ke("activity",M0);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 15h8",key:"45n4r"}],["path",{d:"M8 9h2",key:"1g203m"}],["path",{d:"M14 9h2",key:"116p9w"}]],D0=Ke("annoyed",I0);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],qh=Ke("arrow-left",w0);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],L0=Ke("arrow-right",U0);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],H0=Ke("calendar",G0);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],V0=Ke("chevron-right",P0);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],z0=Ke("circle-alert",q0);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zh=Ke("circle-check-big",k0);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],kh=Ke("circle-x",B0);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],F0=Ke("cpu",O0);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],J0=Ke("file-text",Y0);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],X0=Ke("frown",K0);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Z0=Ke("meh",Q0);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],W0=Ke("printer",$0);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],eT=Ke("refresh-cw",j0);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],nT=Ke("save",tT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],im=Ke("smile",iT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],lT=Ke("trash-2",oT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],aT=Ke("upload",sT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bh=Ke("user",rT),Oh=i=>{const t=i.symptoms,o=i.affectedJoints,s={jointPain:t.hasJointPain==="Yes",onset:t.painOnset==="Gradual",painType:t.painTypes.includes("Pain during flexion & extension"),swelling:t.swelling==="Always"||t.swelling==="Occasionally",stiffness:t.stiffness==="No"||t.stiffness==="Yes"&&t.stiffnessDuration==="Less than 1Hr",crepitus:t.crepitus==="Yes",shiftingPain:t.shiftingPain==="No",warmth:t.warmth==="No",fever:t.fever==="No",discoloration:t.discoloration==="No",oilEffect:t.oilMassageEffect!=="Pain increases after oil or massage",affectedJoints:o.some(d=>{const h=d.toLowerCase();return h.includes("knee")||h.includes("spine")||h.includes("hip")||h.includes("lumbar")||h.includes("cervical")})},r=[];return s.jointPain||r.push("Joint pain absent."),s.onset||r.push("Onset is not Gradual."),s.painType||r.push("Pain during flexion & extension not reported."),s.swelling||r.push("Swelling is not Always or Occasionally."),s.stiffness||r.push("Stiffness > 1hr."),s.crepitus||r.push("Crepitus absent."),s.shiftingPain||r.push("Shifting pain present."),s.warmth||r.push("Warmth present."),s.fever||r.push("Fever present."),s.discoloration||r.push("Discoloration present."),s.oilEffect||r.push("Pain increases after oil."),s.affectedJoints||r.push("Knee, Spine, or Hip not involved."),{isPositive:Object.values(s).every(d=>d===!0),criteria:s,reasons:r}},Fh=i=>{const t=Oh(i);return{isPositive:t.isPositive,reasons:t.reasons}},uT=({patients:i,onSelect:t,onDelete:o,onNew:s})=>E.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-3xl font-bold text-ayur-900",children:"Patient Records"}),E.jsx("p",{className:"text-gray-500 mt-1",children:"Diagnosing Sandhigata Vata"})]}),E.jsxs("button",{onClick:s,className:"bg-ayur-600 hover:bg-ayur-700 text-white px-6 py-3 rounded-lg shadow-lg flex items-center font-semibold transition-all hover:scale-105",children:[E.jsx("span",{className:"text-xl mr-2",children:"+"})," New Diagnosis"]})]}),i.length===0?E.jsxs("div",{className:"text-center py-20 bg-white rounded-xl shadow-sm border border-gray-200",children:[E.jsx("div",{className:"bg-ayur-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(Bh,{className:"w-10 h-10 text-ayur-600"})}),E.jsx("h3",{className:"text-xl font-medium text-gray-900",children:"No records found"}),E.jsx("p",{className:"text-gray-500 mb-6",children:"Start by adding a new patient for diagnosis."}),E.jsx("button",{onClick:s,className:"text-ayur-600 font-bold hover:underline",children:"Create First Record"})]}):E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(r=>{const f=Fh(r);return E.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200 overflow-hidden group",children:[E.jsxs("div",{className:"p-5",children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-ayur-100 flex items-center justify-center text-ayur-700 font-bold",children:r.demographics.name.charAt(0).toUpperCase()}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-gray-900 truncate max-w-[150px]",children:r.demographics.name}),E.jsxs("p",{className:"text-xs text-gray-500",children:[r.demographics.age," Y  ",r.demographics.gender]})]})]}),E.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded font-medium",children:r.demographics.opdIpdNo||"OPD"})]}),E.jsx("div",{className:"mb-4",children:E.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full border ${f.isPositive?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"}`,children:f.isPositive?"POSITIVE":"NEGATIVE"})}),E.jsxs("div",{className:"space-y-3 mb-4",children:[E.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[E.jsx(H0,{className:"w-4 h-4 mr-2 text-gray-400"}),new Date(r.createdAt).toLocaleDateString()]}),E.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[E.jsx(b0,{className:"w-4 h-4 mr-2 text-gray-400"}),E.jsxs("span",{className:"truncate",children:["Pain VAS: ",E.jsxs("span",{className:`font-bold ${r.symptoms.painIntensity>5?"text-red-500":"text-green-600"}`,children:[r.symptoms.painIntensity,"/10"]})]})]})]}),E.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[r.affectedJoints.slice(0,3).map(d=>E.jsx("span",{className:"text-[10px] bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:d},d)),r.affectedJoints.length>3&&E.jsxs("span",{className:"text-[10px] text-gray-400 pl-1",children:["+",r.affectedJoints.length-3," more"]})]})]}),E.jsxs("div",{className:"bg-gray-50 px-5 py-3 border-t border-gray-100 flex justify-between items-center",children:[E.jsx("button",{onClick:d=>{d.stopPropagation(),o(r.id)},className:"text-gray-400 hover:text-red-500 transition-colors",title:"Delete",children:E.jsx(lT,{className:"w-4 h-4"})}),E.jsxs("button",{onClick:()=>t(r),className:"text-ayur-600 text-sm font-bold flex items-center group-hover:translate-x-1 transition-transform",children:["View Details ",E.jsx(V0,{className:"w-4 h-4 ml-1"})]})]})]},r.id)})})]}),Yh=({value:i,onChange:t,readOnly:o=!1})=>{const s=r=>r<2?E.jsx(im,{className:"w-8 h-8 text-green-500"}):r<4?E.jsx(im,{className:"w-8 h-8 text-lime-500"}):r<6?E.jsx(Z0,{className:"w-8 h-8 text-yellow-500"}):r<8?E.jsx(D0,{className:"w-8 h-8 text-orange-500"}):E.jsx(X0,{className:"w-8 h-8 text-red-600"});return E.jsxs("div",{className:"w-full py-4",children:[E.jsxs("div",{className:"flex justify-between mb-2",children:[E.jsx("span",{className:"text-sm font-medium text-gray-500",children:"No Pain"}),E.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Worst Possible Pain"})]}),E.jsxs("div",{className:"relative h-12 flex items-center mb-6",children:[E.jsx("div",{className:"absolute w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:E.jsx("div",{className:"h-full transition-all duration-300 ease-out",style:{width:`${i*10}%`,backgroundColor:i>5?"#ef4444":"#22c55e"}})}),!o&&E.jsx("input",{type:"range",min:"0",max:"10",step:"1",value:i,onChange:r=>t(Number(r.target.value)),className:"absolute w-full h-full opacity-0 cursor-pointer z-10"}),E.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-10 h-10 bg-white border-2 border-gray-300 rounded-full shadow-lg flex items-center justify-center transition-all duration-300 pointer-events-none z-0",style:{left:`calc(${i*10}% - 1.25rem)`},children:E.jsx("span",{className:"font-bold text-gray-700",children:i})})]}),E.jsx("div",{className:"flex justify-between px-2",children:[0,2,4,6,8,10].map(r=>E.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ${i===r?"opacity-100 scale-110":"opacity-40"}`,children:[s(r),E.jsx("span",{className:"text-xs mt-1 font-semibold",children:r})]},r))})]})},Jh=({selectedJoints:i,onChange:t,readOnly:o=!1})=>{const s=f=>{o||(i.includes(f)?t(i.filter(d=>d!==f)):t([...i,f]))},r=({x:f,y:d,name:h,label:y})=>{const g=i.includes(h);return E.jsxs("g",{onClick:()=>s(h),className:`${o?"cursor-default":"cursor-pointer"} transition-all duration-200 hover:opacity-80`,children:[E.jsx("circle",{cx:f,cy:d,r:"12",fill:g?"#ef4444":"#e5e7eb",stroke:g?"#991b1b":"#9ca3af",strokeWidth:"2"}),E.jsx("text",{x:f,y:d+24,textAnchor:"middle",fontSize:"10",fill:"#374151",className:"font-semibold select-none",children:y||h}),g&&E.jsx("circle",{cx:f,cy:d,r:"4",fill:"white"})]})};return E.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-white rounded-lg border border-gray-200 shadow-inner",children:[E.jsx("h3",{className:"text-lg font-semibold mb-4 text-ayur-800",children:"Select Affected Joints"}),E.jsxs("svg",{viewBox:"0 0 300 500",className:"w-full max-w-[300px] h-auto drop-shadow-md",children:[E.jsxs("g",{stroke:"#d1d5db",strokeWidth:"4",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("circle",{cx:"150",cy:"40",r:"25"}),E.jsx("path",{d:"M150 65 L150 200"}),E.jsx("path",{d:"M100 80 L200 80"}),E.jsx("path",{d:"M100 80 L80 160 L60 220"})," ",E.jsx("path",{d:"M200 80 L220 160 L240 220"})," ",E.jsx("path",{d:"M110 200 L190 200"}),E.jsx("path",{d:"M110 200 L100 320 L90 440"})," ",E.jsx("path",{d:"M190 200 L200 320 L210 440"})," "]}),E.jsx(r,{x:150,y:75,name:"Cervical Spine",label:"Neck"}),E.jsx(r,{x:150,y:180,name:"Lumbar Spine",label:"Lower Back"}),E.jsx(r,{x:100,y:80,name:"R. Shoulder",label:"R.Shldr"}),E.jsx(r,{x:200,y:80,name:"L. Shoulder",label:"L.Shldr"}),E.jsx(r,{x:80,y:160,name:"R. Elbow",label:"R.Elbow"}),E.jsx(r,{x:220,y:160,name:"L. Elbow",label:"L.Elbow"}),E.jsx(r,{x:60,y:220,name:"R. Wrist",label:"R.Wrist"}),E.jsx(r,{x:240,y:220,name:"L. Wrist",label:"L.Wrist"}),E.jsx(r,{x:110,y:200,name:"R. Hip"}),E.jsx(r,{x:190,y:200,name:"L. Hip"}),E.jsx(r,{x:100,y:320,name:"R. Knee"}),E.jsx(r,{x:200,y:320,name:"L. Knee"}),E.jsx(r,{x:90,y:440,name:"R. Ankle"}),E.jsx(r,{x:210,y:440,name:"L. Ankle"})]}),E.jsx("div",{className:"mt-4 text-sm text-gray-500 text-center",children:"Tap on the circles to mark affected joints."})]})},ot=[];for(let i=0;i<256;++i)ot.push((i+256).toString(16).slice(1));function cT(i,t=0){return(ot[i[t+0]]+ot[i[t+1]]+ot[i[t+2]]+ot[i[t+3]]+"-"+ot[i[t+4]]+ot[i[t+5]]+"-"+ot[i[t+6]]+ot[i[t+7]]+"-"+ot[i[t+8]]+ot[i[t+9]]+"-"+ot[i[t+10]]+ot[i[t+11]]+ot[i[t+12]]+ot[i[t+13]]+ot[i[t+14]]+ot[i[t+15]]).toLowerCase()}let du;const fT=new Uint8Array(16);function dT(){if(!du){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");du=crypto.getRandomValues.bind(crypto)}return du(fT)}const pT=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),om={randomUUID:pT};function mT(i,t,o){var r;i=i||{};const s=i.random??((r=i.rng)==null?void 0:r.call(i))??dT();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,cT(s)}function hT(i,t,o){return om.randomUUID&&!i?om.randomUUID():mT(i)}const gT={name:"",age:"",gender:"",address:"",occupation:"",opdIpdNo:"",contact:""},yT={hasJointPain:"",painDuration:"",painIntensity:0,painOnset:"",painTypes:[],swelling:"",swellingDuration:"",stiffness:"",stiffnessDuration:"",crepitus:"",shiftingPain:"",warmth:"",fever:"",discoloration:"",oilMassageEffect:""},vT=({onSave:i,onCancel:t})=>{const[o,s]=Je.useState(1),[r,f]=Je.useState(gT),[d,h]=Je.useState(yT),[y,g]=Je.useState([]),[v,S]=Je.useState({}),[_,x]=Je.useState(!1),[b,G]=Je.useState(null),[U,B]=Je.useState(null),Y=O=>{f({...r,[O.target.name]:O.target.value})},F=O=>{S({...v,[O.target.name]:O.target.value})},J=O=>{var ve;const le=(ve=O.target.files)==null?void 0:ve[0];if(le){const De=new FileReader;De.onloadend=()=>{S(Re=>({...Re,xrayImage:De.result,xrayReport:le.name}))},De.readAsDataURL(le)}},z=()=>{const O={id:hT(),createdAt:new Date().toISOString(),demographics:r,symptoms:d,affectedJoints:y,labs:v},le=Fh(O);G(O),B(le),x(!0)},ie=()=>{b&&i(b)},K=O=>{d.painTypes.includes(O)?h({...d,painTypes:d.painTypes.filter(le=>le!==O)}):h({...d,painTypes:[...d.painTypes,O]})},se="w-full p-3 bg-gray-900 text-white border border-gray-700 rounded-lg focus:ring-2 focus:ring-ayur-400 outline-none placeholder-gray-500 transition-all",$="block text-sm font-semibold text-gray-700 mb-1";return _&&U?E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fadeIn",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden transform transition-all scale-100",children:[E.jsxs("div",{className:`p-8 text-center ${U.isPositive?"bg-green-50":"bg-red-50"}`,children:[U.isPositive?E.jsx("div",{className:"mx-auto flex items-center justify-center w-20 h-20 rounded-full bg-green-100 mb-4 animate-bounce-short",children:E.jsx(zh,{className:"w-12 h-12 text-green-600"})}):E.jsx("div",{className:"mx-auto flex items-center justify-center w-20 h-20 rounded-full bg-red-100 mb-4 animate-shake",children:E.jsx(kh,{className:"w-12 h-12 text-red-600"})}),E.jsx("h2",{className:`text-3xl font-bold mb-2 ${U.isPositive?"text-green-800":"text-red-800"}`,children:U.isPositive?"Diagnosed Positive":"Not Diagnosed"}),E.jsx("p",{className:`text-lg font-medium ${U.isPositive?"text-green-700":"text-red-700"}`,children:U.isPositive?"Sandhigata Vata Confirmed":"Not Sandhigata Vata"})]}),E.jsxs("div",{className:"p-6",children:[!U.isPositive&&U.reasons.length>0&&E.jsxs("div",{className:"mb-6 bg-gray-50 p-4 rounded-lg border border-gray-100",children:[E.jsx("h4",{className:"font-bold text-gray-700 mb-2 text-sm uppercase",children:"Reasons for negative diagnosis:"}),E.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600",children:U.reasons.map((O,le)=>E.jsx("li",{children:O},le))})]}),E.jsx("button",{onClick:ie,className:"w-full py-3 bg-ayur-600 hover:bg-ayur-700 text-white rounded-xl font-bold text-lg shadow-lg transition-transform transform hover:scale-[1.02] active:scale-95",children:"Save Record & Finish"})]})]})}):E.jsxs("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden max-w-4xl mx-auto my-6 border border-gray-100",children:[E.jsxs("div",{className:"bg-ayur-50 p-6 border-b border-ayur-100",children:[E.jsx("h2",{className:"text-2xl font-bold text-ayur-800 mb-4",children:"New Patient Diagnosis"}),E.jsx("div",{className:"flex items-center space-x-4",children:[1,2,3,4].map(O=>E.jsxs("div",{className:`flex items-center ${O!==4?"flex-1":""}`,children:[E.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${o>=O?"bg-ayur-600 text-white":"bg-gray-200 text-gray-500"}`,children:O}),O!==4&&E.jsx("div",{className:`h-1 flex-1 mx-2 rounded ${o>O?"bg-ayur-600":"bg-gray-200"}`})]},O))}),E.jsxs("div",{className:"flex justify-between text-xs mt-2 text-gray-500 font-medium",children:[E.jsx("span",{children:"Demographics"}),E.jsx("span",{children:"Questionnaire"}),E.jsx("span",{children:"Joint Map"}),E.jsx("span",{children:"Labs"})]})]}),E.jsxs("div",{className:"p-6 min-h-[400px]",children:[o===1&&E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fadeIn",children:[E.jsxs("div",{className:"col-span-2",children:[E.jsx("label",{className:$,children:"Full Name"}),E.jsx("input",{required:!0,type:"text",name:"name",value:r.name,onChange:Y,className:se,placeholder:"Enter patient name"})]}),E.jsxs("div",{children:[E.jsx("label",{className:$,children:"Age"}),E.jsx("input",{required:!0,type:"number",name:"age",value:r.age,onChange:Y,className:se,placeholder:"e.g. 65"})]}),E.jsxs("div",{children:[E.jsx("label",{className:$,children:"Gender"}),E.jsxs("select",{name:"gender",value:r.gender,onChange:Y,className:se,children:[E.jsx("option",{value:"",className:"bg-gray-900",children:"Select Gender"}),E.jsx("option",{value:"Male",className:"bg-gray-900",children:"Male"}),E.jsx("option",{value:"Female",className:"bg-gray-900",children:"Female"}),E.jsx("option",{value:"Other",className:"bg-gray-900",children:"Other"})]})]}),E.jsxs("div",{className:"col-span-2",children:[E.jsx("label",{className:$,children:"Address"}),E.jsx("input",{type:"text",name:"address",value:r.address,onChange:Y,className:se,placeholder:"Residential Address"})]}),E.jsxs("div",{children:[E.jsx("label",{className:$,children:"Occupation"}),E.jsx("input",{type:"text",name:"occupation",value:r.occupation,onChange:Y,className:se,placeholder:"e.g. Farmer, Desk Job"})]}),E.jsxs("div",{className:"col-span-1",children:[E.jsx("label",{className:$,children:"Contact No."}),E.jsx("input",{type:"text",name:"contact",value:r.contact,onChange:Y,className:se,placeholder:"Phone Number"})]}),E.jsxs("div",{className:"col-span-1",children:[E.jsx("label",{className:$,children:"OPD/IPD No."}),E.jsx("input",{type:"text",name:"opdIpdNo",value:r.opdIpdNo,onChange:Y,className:se,placeholder:"Hospital Record No."})]})]}),o===2&&E.jsxs("div",{className:"space-y-8 animate-fadeIn max-w-4xl mx-auto",children:[E.jsxs("div",{className:"bg-gray-50 p-5 rounded-lg border border-gray-200",children:[E.jsx("label",{className:"block text-lg font-bold text-gray-800 mb-3",children:"1. Do you experience joint pain?"}),E.jsxs("div",{className:"flex space-x-6 mb-4",children:[E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"jointPain",value:"Yes",checked:d.hasJointPain==="Yes",onChange:()=>h({...d,hasJointPain:"Yes"}),className:"w-5 h-5 text-ayur-600"}),E.jsx("span",{className:"ml-2 font-medium",children:"Yes"})]}),E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"jointPain",value:"No",checked:d.hasJointPain==="No",onChange:()=>h({...d,hasJointPain:"No"}),className:"w-5 h-5 text-ayur-600"}),E.jsx("span",{className:"ml-2 font-medium",children:"No"})]})]}),d.hasJointPain==="Yes"&&E.jsxs("div",{className:"pl-4 border-l-4 border-ayur-200 space-y-4 animate-fadeIn",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:"Since (Time)"}),E.jsx("input",{type:"text",value:d.painDuration,onChange:O=>h({...d,painDuration:O.target.value}),className:"w-full p-2 border rounded",placeholder:"e.g. 2 months"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:"Onset"}),E.jsxs("div",{className:"flex space-x-4",children:[E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"onset",value:"Sudden",checked:d.painOnset==="Sudden",onChange:()=>h({...d,painOnset:"Sudden"}),className:"w-4 h-4 text-ayur-600"}),E.jsx("span",{className:"ml-2",children:"Sudden"})]}),E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"onset",value:"Gradual",checked:d.painOnset==="Gradual",onChange:()=>h({...d,painOnset:"Gradual"}),className:"w-4 h-4 text-ayur-600"}),E.jsx("span",{className:"ml-2",children:"Gradual"})]})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-2",children:"Intensity"}),E.jsx(Yh,{value:d.painIntensity,onChange:O=>h({...d,painIntensity:O})})]})]})]}),d.hasJointPain==="Yes"&&E.jsxs("div",{className:"bg-gray-50 p-5 rounded-lg border border-gray-200 animate-fadeIn",children:[E.jsx("label",{className:"block text-lg font-bold text-gray-800 mb-3",children:"2. If Yes, which type of pain do you feel?"}),E.jsx("div",{className:"space-y-2",children:["Burning / Stinging Pain","Biting Pain","Pain during flexion & extension"].map(O=>E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"checkbox",checked:d.painTypes.includes(O),onChange:()=>K(O),className:"w-5 h-5 text-ayur-600 rounded"}),E.jsx("span",{className:"ml-2",children:O})]},O))})]}),E.jsxs("div",{className:"bg-gray-50 p-5 rounded-lg border border-gray-200",children:[E.jsx("label",{className:"block text-lg font-bold text-gray-800 mb-3",children:"3. Is there swelling in joints?"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsx("div",{className:"space-y-2",children:["Always","Occasionally","Never"].map(O=>E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"swelling",value:O,checked:d.swelling===O,onChange:()=>h({...d,swelling:O}),className:"w-5 h-5 text-ayur-600"}),E.jsx("span",{className:"ml-2",children:O})]},O))}),d.swelling&&d.swelling!=="Never"&&E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:"Since (Time)"}),E.jsx("input",{type:"text",value:d.swellingDuration,onChange:O=>h({...d,swellingDuration:O.target.value}),className:"w-full p-2 border rounded",placeholder:"e.g. 2 weeks"})]})]})]}),E.jsxs("div",{className:"bg-gray-50 p-5 rounded-lg border border-gray-200",children:[E.jsx("label",{className:"block text-lg font-bold text-gray-800 mb-3",children:"4. Do your joints feel stiff, especially after rest or in the morning?"}),E.jsxs("div",{className:"flex space-x-6 mb-4",children:[E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"stiffness",value:"Yes",checked:d.stiffness==="Yes",onChange:()=>h({...d,stiffness:"Yes"}),className:"w-5 h-5 text-ayur-600"}),E.jsx("span",{className:"ml-2 font-medium",children:"Yes"})]}),E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"stiffness",value:"No",checked:d.stiffness==="No",onChange:()=>h({...d,stiffness:"No"}),className:"w-5 h-5 text-ayur-600"}),E.jsx("span",{className:"ml-2 font-medium",children:"No"})]})]}),d.stiffness==="Yes"&&E.jsxs("div",{className:"pl-4 border-l-4 border-ayur-200 space-y-2 animate-fadeIn",children:[E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"stiffnessDur",value:"Less than 1Hr",checked:d.stiffnessDuration==="Less than 1Hr",onChange:()=>h({...d,stiffnessDuration:"Less than 1Hr"}),className:"w-4 h-4 text-ayur-600"}),E.jsx("span",{className:"ml-2",children:"Less than 1 Hour"})]}),E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"stiffnessDur",value:"More than 1Hr",checked:d.stiffnessDuration==="More than 1Hr",onChange:()=>h({...d,stiffnessDuration:"More than 1Hr"}),className:"w-4 h-4 text-ayur-600"}),E.jsx("span",{className:"ml-2",children:"More than 1 Hour"})]})]})]}),E.jsxs("div",{className:"bg-gray-50 p-5 rounded-lg border border-gray-200",children:[E.jsx("label",{className:"block text-lg font-bold text-gray-800 mb-3",children:"5. Is there a crepitus or cracking sound during movement of joints?"}),E.jsxs("div",{className:"flex space-x-6",children:[E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"crepitus",value:"Yes",checked:d.crepitus==="Yes",onChange:()=>h({...d,crepitus:"Yes"}),className:"w-5 h-5 text-ayur-600"}),E.jsx("span",{className:"ml-2 font-medium",children:"Yes"})]}),E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"crepitus",value:"No",checked:d.crepitus==="No",onChange:()=>h({...d,crepitus:"No"}),className:"w-5 h-5 text-ayur-600"}),E.jsx("span",{className:"ml-2 font-medium",children:"No"})]})]})]}),E.jsxs("div",{className:"bg-gray-50 p-5 rounded-lg border border-gray-200",children:[E.jsx("label",{className:"block text-lg font-bold text-gray-800 mb-3",children:"6. Does pain and swelling that you have shifts from one joint to another?"}),E.jsxs("div",{className:"flex space-x-6",children:[E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"shifting",value:"Yes",checked:d.shiftingPain==="Yes",onChange:()=>h({...d,shiftingPain:"Yes"}),className:"w-5 h-5 text-ayur-600"}),E.jsx("span",{className:"ml-2 font-medium",children:"Yes"})]}),E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"shifting",value:"No",checked:d.shiftingPain==="No",onChange:()=>h({...d,shiftingPain:"No"}),className:"w-5 h-5 text-ayur-600"}),E.jsx("span",{className:"ml-2 font-medium",children:"No"})]})]})]}),E.jsxs("div",{className:"bg-gray-50 p-5 rounded-lg border border-gray-200",children:[E.jsx("label",{className:"block text-lg font-bold text-gray-800 mb-3",children:"7. Does your affected joints feel warm to touch?"}),E.jsxs("div",{className:"flex space-x-6",children:[E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"warmth",value:"Yes",checked:d.warmth==="Yes",onChange:()=>h({...d,warmth:"Yes"}),className:"w-5 h-5 text-ayur-600"}),E.jsx("span",{className:"ml-2 font-medium",children:"Yes"})]}),E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"warmth",value:"No",checked:d.warmth==="No",onChange:()=>h({...d,warmth:"No"}),className:"w-5 h-5 text-ayur-600"}),E.jsx("span",{className:"ml-2 font-medium",children:"No"})]})]})]}),E.jsxs("div",{className:"bg-gray-50 p-5 rounded-lg border border-gray-200",children:[E.jsx("label",{className:"block text-lg font-bold text-gray-800 mb-3",children:"8. Do you get fever episodes along with joint symptoms?"}),E.jsxs("div",{className:"flex space-x-6",children:[E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"fever",value:"Yes",checked:d.fever==="Yes",onChange:()=>h({...d,fever:"Yes"}),className:"w-5 h-5 text-ayur-600"}),E.jsx("span",{className:"ml-2 font-medium",children:"Yes"})]}),E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"fever",value:"No",checked:d.fever==="No",onChange:()=>h({...d,fever:"No"}),className:"w-5 h-5 text-ayur-600"}),E.jsx("span",{className:"ml-2 font-medium",children:"No"})]})]})]}),E.jsxs("div",{className:"bg-gray-50 p-5 rounded-lg border border-gray-200",children:[E.jsx("label",{className:"block text-lg font-bold text-gray-800 mb-3",children:"9. Have you noticed skin discoloration (reddish or purplish) over painful joints?"}),E.jsxs("div",{className:"flex space-x-6",children:[E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"discoloration",value:"Yes",checked:d.discoloration==="Yes",onChange:()=>h({...d,discoloration:"Yes"}),className:"w-5 h-5 text-ayur-600"}),E.jsx("span",{className:"ml-2 font-medium",children:"Yes"})]}),E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"discoloration",value:"No",checked:d.discoloration==="No",onChange:()=>h({...d,discoloration:"No"}),className:"w-5 h-5 text-ayur-600"}),E.jsx("span",{className:"ml-2 font-medium",children:"No"})]})]})]}),E.jsxs("div",{className:"bg-gray-50 p-5 rounded-lg border border-gray-200",children:[E.jsx("label",{className:"block text-lg font-bold text-gray-800 mb-3",children:"10. What do you feel after applying oil or massage to the painful joint?"}),E.jsx("div",{className:"space-y-2",children:["Pain reduces and movement improves","No change","Pain increases after oil or massage","I haven't tried oil or massage"].map(O=>E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"radio",name:"oilEffect",value:O,checked:d.oilMassageEffect===O,onChange:()=>h({...d,oilMassageEffect:O}),className:"w-5 h-5 text-ayur-600"}),E.jsx("span",{className:"ml-2",children:O})]},O))})]})]}),o===3&&E.jsxs("div",{className:"flex flex-col items-center animate-fadeIn",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"11. Which Joints are affected?"}),E.jsx(Jh,{selectedJoints:y,onChange:g}),E.jsxs("div",{className:"mt-4 w-full max-w-md text-center",children:[E.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Selected Joints:"}),E.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[y.length===0&&E.jsx("span",{className:"text-gray-400 italic",children:"No joints selected"}),y.map(O=>E.jsx("span",{className:"bg-ayur-100 text-ayur-800 px-3 py-1 rounded-full text-sm font-medium border border-ayur-200",children:O},O))]})]})]}),o===4&&E.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:["CBC","ESR","CRP","RA Factor","Uric Acid","Serum Calcium"].map(O=>{const le=O.toLowerCase().replace(/\s/g,"")==="rafactor"?"raFactor":O.toLowerCase().replace(/\s/g,""),ve=le==="cbc"?"cbc":le==="esr"?"esr":le==="crp"?"crp":le==="rafactor"?"raFactor":le==="uricacid"?"uricAcid":le==="serumcalcium"?"serumCalcium":"other";return E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:O}),E.jsx("input",{type:"text",name:ve,value:v[ve]||"",onChange:F,className:"w-full p-2 border border-gray-300 rounded focus:border-ayur-500 outline-none",placeholder:"Result"})]},O)})}),E.jsxs("div",{className:"border-t pt-6",children:[E.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2 flex items-center",children:[E.jsx(J0,{className:"w-4 h-4 mr-2"})," X-Ray Report / Image"]}),E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsxs("label",{className:"cursor-pointer flex items-center justify-center px-4 py-2 border border-dashed border-gray-400 rounded-lg hover:bg-gray-50 transition-colors bg-white",children:[E.jsx(aT,{className:"w-5 h-5 text-gray-500 mr-2"}),E.jsx("span",{className:"text-sm text-gray-600",children:"Upload Image"}),E.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:J})]}),v.xrayReport&&E.jsx("span",{className:"text-sm text-ayur-700 font-medium",children:v.xrayReport})]}),v.xrayImage&&E.jsx("div",{className:"mt-4",children:E.jsx("img",{src:v.xrayImage,alt:"Xray Preview",className:"h-32 rounded border shadow-sm object-cover"})})]})]})]}),E.jsxs("div",{className:"bg-gray-50 p-6 border-t border-gray-200 flex justify-between items-center",children:[o>1?E.jsxs("button",{onClick:()=>s(o-1),className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-900 font-medium transition-colors",children:[E.jsx(qh,{className:"w-5 h-5 mr-2"})," Back"]}):E.jsx("button",{onClick:t,className:"px-4 py-2 text-red-500 hover:text-red-700 font-medium transition-colors",children:"Cancel"}),o<4?E.jsxs("button",{onClick:()=>s(o+1),disabled:o===1&&!r.name,className:`flex items-center px-6 py-2 rounded-lg font-bold text-white shadow-md transition-all ${o===1&&!r.name?"bg-gray-400 cursor-not-allowed":"bg-ayur-600 hover:bg-ayur-700"}`,children:["Next ",E.jsx(L0,{className:"w-5 h-5 ml-2"})]}):E.jsxs("button",{onClick:z,className:"flex items-center px-6 py-2 bg-ayur-600 hover:bg-ayur-700 text-white rounded-lg font-bold shadow-md transition-colors",children:[E.jsx(nT,{className:"w-5 h-5 mr-2"})," Save Record"]})]})]})};var TT={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ST,_T;function ET(){return{geminiUrl:ST,vertexUrl:_T}}function CT(i,t,o,s){var r,f;if(!(i!=null&&i.baseUrl)){const d=ET();return t?(r=d.vertexUrl)!==null&&r!==void 0?r:o:(f=d.geminiUrl)!==null&&f!==void 0?f:s}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yn{}function Q(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(s,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,o){for(let f=0;f<t.length-1;f++){const d=t[f];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in i))if(Array.isArray(o))i[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(i[h])){const y=i[h];if(Array.isArray(o))for(let g=0;g<y.length;g++){const v=y[g];c(v,t.slice(f+1),o[g])}else for(const g of y)c(g,t.slice(f+1),o)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in i||(i[h]=[{}]);const y=i[h];c(y[0],t.slice(f+1),o);return}(!i[d]||typeof i[d]!="object")&&(i[d]={}),i=i[d]}const s=t[t.length-1],r=i[s];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[s]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let s=0;s<t.length;s++){if(typeof i!="object"||i===null)return o;const r=t[s];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const d=i[f];return Array.isArray(d)?d.map(h=>u(h,t.slice(s+1),o)):o}else return o}else i=i[r]}return i}catch(s){if(s instanceof TypeError)return o;throw s}}function AT(i,t){for(const[o,s]of Object.entries(t)){const r=o.split("."),f=s.split("."),d=new Set;let h=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){h=y;break}if(h!==-1&&f.length>h)for(let y=h;y<f.length;y++){const g=f[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&d.add(g)}gu(i,r,f,0,d)}}function gu(i,t,o,s,r){if(s>=t.length||typeof i!="object"||i===null)return;const f=t[s];if(f.endsWith("[]")){const d=f.slice(0,-2),h=i;if(d in h&&Array.isArray(h[d]))for(const y of h[d])gu(y,t,o,s+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const d=i,h=Object.keys(d).filter(g=>!g.startsWith("_")&&!r.has(g)),y={};for(const g of h)y[g]=d[g];for(const[g,v]of Object.entries(y)){const S=[];for(const _ of o.slice(s))_==="*"?S.push(g):S.push(_);c(d,S,v)}for(const g of h)delete d[g]}}else{const d=i;f in d&&gu(d[f],t,o,s+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xT(i){const t={},o=u(i,["operationName"]);o!=null&&c(t,["operationName"],o);const s=u(i,["resourceName"]);return s!=null&&c(t,["_url","resourceName"],s),t}function NT(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const d=u(i,["response","generateVideoResponse"]);return d!=null&&c(t,["response"],MT(d)),t}function RT(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const d=u(i,["response"]);return d!=null&&c(t,["response"],bT(d)),t}function MT(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(d=>IT(d))),c(t,["generatedVideos"],f)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function bT(i){const t={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(d=>DT(d))),c(t,["generatedVideos"],f)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function IT(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],PT(o)),t}function DT(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],VT(o)),t}function wT(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function UT(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function LT(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const d=u(i,["response"]);return d!=null&&c(t,["response"],GT(d)),t}function GT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Kh(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const d=u(i,["response"]);return d!=null&&c(t,["response"],HT(d)),t}function HT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function PT(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const s=u(i,["encodedVideo"]);s!=null&&c(t,["videoBytes"],Lu(s));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function VT(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(t,["videoBytes"],Lu(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var lm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(lm||(lm={}));var sm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(sm||(sm={}));var am;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(am||(am={}));var Fn;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Fn||(Fn={}));var rm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(rm||(rm={}));var um;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(um||(um={}));var cm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(cm||(cm={}));var fm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(fm||(fm={}));var dm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(dm||(dm={}));var pm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(pm||(pm={}));var mm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(mm||(mm={}));var hm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(hm||(hm={}));var gm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(gm||(gm={}));var ym;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(ym||(ym={}));var vm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(vm||(vm={}));var Tm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Tm||(Tm={}));var Sm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Sm||(Sm={}));var _m;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_m||(_m={}));var Em;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Em||(Em={}));var Cm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Cm||(Cm={}));var Am;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Am||(Am={}));var Is;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Is||(Is={}));var xm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(xm||(xm={}));var Nm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Nm||(Nm={}));var Rm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Rm||(Rm={}));var yu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(yu||(yu={}));var Mm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Mm||(Mm={}));var bm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(bm||(bm={}));var vu;(function(i){i.COLLECTION="COLLECTION"})(vu||(vu={}));var Im;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Im||(Im={}));var Dm;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Dm||(Dm={}));var wm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(wm||(wm={}));var Um;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Um||(Um={}));var Lm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Lm||(Lm={}));var Gm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Gm||(Gm={}));var Hm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Hm||(Hm={}));var Pm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Pm||(Pm={}));var Vm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Vm||(Vm={}));var qm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(qm||(qm={}));var zm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(zm||(zm={}));var km;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(km||(km={}));var Bm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Bm||(Bm={}));var Om;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING",i.DISTILLATION="DISTILLATION"})(Om||(Om={}));var Fm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Fm||(Fm={}));var Ym;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Ym||(Ym={}));var Jm;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(Jm||(Jm={}));var Km;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Km||(Km={}));var Xm;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Xm||(Xm={}));var Qm;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Qm||(Qm={}));var Zm;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(Zm||(Zm={}));var $m;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})($m||($m={}));var Wm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Wm||(Wm={}));var jm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(jm||(jm={}));var eh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(eh||(eh={}));var th;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(th||(th={}));var nh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(nh||(nh={}));var Wi;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Wi||(Wi={}));class Tu{constructor(t){const o={};for(const s of t.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class tl{get text(){var t,o,s,r,f,d,h,y;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const S=[];for(const _ of(y=(h=(d=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[x,b]of Object.entries(_))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(b!==null||b!==void 0)&&S.push(x);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,g+=_.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var t,o,s,r,f,d,h,y;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const S of(y=(h=(d=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[_,x]of Object.entries(S))_!=="inlineData"&&(x!==null||x!==void 0)&&v.push(_);S.inlineData&&typeof S.inlineData.data=="string"&&(g+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var t,o,s,r,f,d,h,y;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(h=(d=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var t,o,s,r,f,d,h,y,g;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(d=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var t,o,s,r,f,d,h,y,g;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(d=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class ih{}class oh{}class qT{}class zT{}class kT{}class BT{}class lh{}class sh{}class ah{}class OT{}class Ds{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new Ds;let r;const f=t;return o?r=RT(f):r=NT(f),Object.assign(s,r),s}}class rh{}class uh{}class ch{}class fh{}class FT{}class YT{}class JT{}class Gu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new Gu,f=LT(t);return Object.assign(s,f),s}}class KT{}class XT{}class QT{}class ZT{}class dh{}class $T{get text(){var t,o,s;let r="",f=!1;const d=[];for(const h of(s=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,g]of Object.entries(h))y!=="text"&&y!=="thought"&&g!==null&&d.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,r+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,o,s;let r="";const f=[];for(const d of(s=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[h,y]of Object.entries(d))h!=="inlineData"&&y!==null&&f.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(r+=atob(d.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class WT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Hu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new Hu,f=Kh(t);return Object.assign(s,f),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ee(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Xh(i,t){const o=Ee(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Qh(i){return Array.isArray(i)?i.map(t=>ws(t)):[ws(i)]}function ws(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Zh(i){const t=ws(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function $h(i){const t=ws(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function ph(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Wh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>ph(t)):[ph(i)]}function Su(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function mh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function hh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function st(i){if(i==null)throw new Error("ContentUnion is required");return Su(i)?i:{role:"user",parts:Wh(i)}}function Pu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const s=st(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(i.isVertexAI()){const o=st(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>st(o)):[st(t)]}function qt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(mh(i)||hh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[st(i)]}const t=[],o=[],s=Su(i[0]);for(const r of i){const f=Su(r);if(f!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(mh(r)||hh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return s||t.push({role:"user",parts:Wh(o)}),t}function jT(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(s=>s!=="null");if(o.length===1)t.type=Object.values(Fn).includes(o[0].toUpperCase())?o[0].toUpperCase():Fn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const s of o)t.anyOf.push({type:Object.values(Fn).includes(s.toUpperCase())?s.toUpperCase():Fn.TYPE_UNSPECIFIED})}}function eo(i){const t={},o=["items"],s=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&jT(i.type,t);for(const[d,h]of Object.entries(i))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;t.type=Object.values(Fn).includes(h.toUpperCase())?h.toUpperCase():Fn.TYPE_UNSPECIFIED}else if(o.includes(d))t[d]=eo(h);else if(s.includes(d)){const y=[];for(const g of h){if(g.type=="null"){t.nullable=!0;continue}y.push(eo(g))}t[d]=y}else if(r.includes(d)){const y={};for(const[g,v]of Object.entries(h))y[g]=eo(v);t[d]=y}else{if(d==="additionalProperties")continue;t[d]=h}return t}function Vu(i){return eo(i)}function qu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function zu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function no(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=eo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=eo(t.response));return i}function io(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function eS(i,t,o,s=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===s;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function vn(i,t){if(typeof t!="string")throw new Error("name must be a string");return eS(i,t,"cachedContents")}function jh(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Yn(i){return Lu(i)}function tS(i){return i!=null&&typeof i=="object"&&"name"in i}function nS(i){return i!=null&&typeof i=="object"&&"video"in i}function iS(i){return i!=null&&typeof i=="object"&&"uri"in i}function eg(i){var t;let o;if(tS(i)&&(o=i.name),!(iS(i)&&(o=i.uri,o===void 0))&&!(nS(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function tg(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function ng(i){for(const t of["models","tunedModels","publisherModels"])if(oS(i,t))return i[t];return[]}function oS(i,t){return i!==null&&typeof i=="object"&&t in i}function lS(i,t={}){const o=i,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),t.behavior&&(s.behavior=t.behavior),{functionDeclarations:[s]}}function sS(i,t={}){const o=[],s=new Set;for(const r of i){const f=r.name;if(s.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);s.add(f);const d=lS(r,t);d.functionDeclarations&&o.push(...d.functionDeclarations)}return{functionDeclarations:o}}function ig(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function aS(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function og(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const d of r){if(typeof d!="object"||d===null)continue;const y=d.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function oo(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function lg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rS(i){const t={},o=u(i,["responsesFile"]);o!=null&&c(t,["fileName"],o);const s=u(i,["inlinedResponses","inlinedResponses"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(d=>BS(d))),c(t,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>d)),c(t,["inlinedEmbedContentResponses"],f)}return t}function uS(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&c(t,["format"],o);const s=u(i,["gcsDestination","outputUriPrefix"]);s!=null&&c(t,["gcsUri"],s);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function cS(i){const t={},o=u(i,["format"]);o!=null&&c(t,["predictionsFormat"],o);const s=u(i,["gcsUri"]);s!=null&&c(t,["gcsDestination","outputUriPrefix"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ms(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata","displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],lg(r));const f=u(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const d=u(i,["metadata","endTime"]);d!=null&&c(t,["endTime"],d);const h=u(i,["metadata","updateTime"]);h!=null&&c(t,["updateTime"],h);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const g=u(i,["metadata","output"]);return g!=null&&c(t,["dest"],rS(og(g))),t}function _u(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["state"]);r!=null&&c(t,["state"],lg(r));const f=u(i,["error"]);f!=null&&c(t,["error"],f);const d=u(i,["createTime"]);d!=null&&c(t,["createTime"],d);const h=u(i,["startTime"]);h!=null&&c(t,["startTime"],h);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const g=u(i,["updateTime"]);g!=null&&c(t,["updateTime"],g);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const S=u(i,["inputConfig"]);S!=null&&c(t,["src"],fS(S));const _=u(i,["outputConfig"]);_!=null&&c(t,["dest"],uS(og(_)));const x=u(i,["completionStats"]);return x!=null&&c(t,["completionStats"],x),t}function fS(i){const t={},o=u(i,["instancesFormat"]);o!=null&&c(t,["format"],o);const s=u(i,["gcsSource","uris"]);s!=null&&c(t,["gcsUri"],s);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function dS(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(t,["fileName"]);s!=null&&c(o,["fileName"],s);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>kS(i,d))),c(o,["requests","requests"],f)}return o}function pS(i){const t={},o=u(i,["format"]);o!=null&&c(t,["instancesFormat"],o);const s=u(i,["gcsUri"]);s!=null&&c(t,["gcsSource","uris"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function mS(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function hS(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],oo(i,s)),o}function gS(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],oo(i,s)),o}function yS(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const s=u(i,["citationMetadata"]);s!=null&&c(t,["citationMetadata"],vS(s));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const d=u(i,["avgLogprobs"]);d!=null&&c(t,["avgLogprobs"],d);const h=u(i,["groundingMetadata"]);h!=null&&c(t,["groundingMetadata"],h);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const g=u(i,["logprobsResult"]);g!=null&&c(t,["logprobsResult"],g);const v=u(i,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(x=>x)),c(t,["safetyRatings"],_)}const S=u(i,["urlContextMetadata"]);return S!=null&&c(t,["urlContextMetadata"],S),t}function vS(i){const t={},o=u(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(t,["citations"],s)}return t}function sg(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>QS(f))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function TS(i,t){const o={},s=u(i,["displayName"]);if(t!==void 0&&s!=null&&c(t,["batch","displayName"],s),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function SS(i,t){const o={},s=u(i,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],cS(aS(r))),o}function gh(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ee(i,s));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],dS(i,ig(i,r)));const f=u(t,["config"]);return f!=null&&TS(f,o),o}function _S(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["model"],Ee(i,s));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],pS(ig(i,r)));const f=u(t,["config"]);return f!=null&&SS(f,o),o}function ES(i,t){const o={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&c(t,["batch","displayName"],s),o}function CS(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],Ee(i,s));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],IS(i,r));const f=u(t,["config"]);return f!=null&&ES(f,o),o}function AS(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],oo(i,s)),o}function xS(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],oo(i,s)),o}function NS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function RS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function MS(i,t){const o={},s=u(t,["contents"]);if(s!=null){let f=Pu(i,s);Array.isArray(f)&&(f=f.map(d=>d)),c(o,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],bS(r,o)),AT(o,{"requests[].*":"requests[].request.*"})),o}function bS(i,t){const o={},s=u(i,["taskType"]);t!==void 0&&s!=null&&c(t,["requests[]","taskType"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function IS(i,t){const o={},s=u(t,["fileName"]);s!=null&&c(o,["file_name"],s);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],MS(i,r)),o}function DS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function wS(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function US(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&c(t,["allowedFunctionNames"],o);const s=u(i,["mode"]);if(s!=null&&c(t,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function LS(i,t,o){const s={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],sg(st(r)));const f=u(t,["temperature"]);f!=null&&c(s,["temperature"],f);const d=u(t,["topP"]);d!=null&&c(s,["topP"],d);const h=u(t,["topK"]);h!=null&&c(s,["topK"],h);const y=u(t,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const g=u(t,["maxOutputTokens"]);g!=null&&c(s,["maxOutputTokens"],g);const v=u(t,["stopSequences"]);v!=null&&c(s,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const _=u(t,["logprobs"]);_!=null&&c(s,["logprobs"],_);const x=u(t,["presencePenalty"]);x!=null&&c(s,["presencePenalty"],x);const b=u(t,["frequencyPenalty"]);b!=null&&c(s,["frequencyPenalty"],b);const G=u(t,["seed"]);G!=null&&c(s,["seed"],G);const U=u(t,["responseMimeType"]);U!=null&&c(s,["responseMimeType"],U);const B=u(t,["responseSchema"]);B!=null&&c(s,["responseSchema"],Vu(B));const Y=u(t,["responseJsonSchema"]);if(Y!=null&&c(s,["responseJsonSchema"],Y),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(t,["safetySettings"]);if(o!==void 0&&F!=null){let De=F;Array.isArray(De)&&(De=De.map(Re=>ZS(Re))),c(o,["safetySettings"],De)}const J=u(t,["tools"]);if(o!==void 0&&J!=null){let De=io(J);Array.isArray(De)&&(De=De.map(Re=>WS(no(Re)))),c(o,["tools"],De)}const z=u(t,["toolConfig"]);if(o!==void 0&&z!=null&&c(o,["toolConfig"],$S(z)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ie=u(t,["cachedContent"]);o!==void 0&&ie!=null&&c(o,["cachedContent"],vn(i,ie));const K=u(t,["responseModalities"]);K!=null&&c(s,["responseModalities"],K);const se=u(t,["mediaResolution"]);se!=null&&c(s,["mediaResolution"],se);const $=u(t,["speechConfig"]);if($!=null&&c(s,["speechConfig"],qu($)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=u(t,["thinkingConfig"]);O!=null&&c(s,["thinkingConfig"],O);const le=u(t,["imageConfig"]);le!=null&&c(s,["imageConfig"],zS(le));const ve=u(t,["enableEnhancedCivicAnswers"]);if(ve!=null&&c(s,["enableEnhancedCivicAnswers"],ve),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function GS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(g=>yS(g))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const d=u(i,["responseId"]);d!=null&&c(t,["responseId"],d);const h=u(i,["usageMetadata"]);return h!=null&&c(t,["usageMetadata"],h),t}function HS(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],oo(i,s)),o}function PS(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],oo(i,s)),o}function VS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function qS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function zS(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const s=u(i,["imageSize"]);if(s!=null&&c(t,["imageSize"],s),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function kS(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["request","model"],Ee(i,s));const r=u(t,["contents"]);if(r!=null){let h=qt(r);Array.isArray(h)&&(h=h.map(y=>sg(y))),c(o,["request","contents"],h)}const f=u(t,["metadata"]);f!=null&&c(o,["metadata"],f);const d=u(t,["config"]);return d!=null&&c(o,["request","generationConfig"],LS(i,d,u(o,["request"],{}))),o}function BS(i){const t={},o=u(i,["response"]);o!=null&&c(t,["response"],GS(o));const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["error"]);return r!=null&&c(t,["error"],r),t}function OS(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function FS(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),o}function YS(i){const t={},o=u(i,["config"]);return o!=null&&OS(o,t),t}function JS(i){const t={},o=u(i,["config"]);return o!=null&&FS(o,t),t}function KS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>Ms(d))),c(t,["batchJobs"],f)}return t}function XS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>_u(d))),c(t,["batchJobs"],f)}return t}function QS(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],DS(f));const d=u(i,["functionCall"]);d!=null&&c(t,["functionCall"],wS(d));const h=u(i,["functionResponse"]);h!=null&&c(t,["functionResponse"],h);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],mS(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function ZS(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&c(t,["threshold"],s),t}function $S(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&c(t,["retrievalConfig"],o);const s=u(i,["functionCallingConfig"]);return s!=null&&c(t,["functionCallingConfig"],US(s)),t}function WS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&c(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}const d=u(i,["googleMaps"]);d!=null&&c(t,["googleMaps"],VS(d));const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],qS(h));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(gn||(gn={}));class di{constructor(t,o,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,s,r)}init(t,o,s){var r,f;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!s||Object.keys(s).length===0?d={config:{}}:typeof s=="object"?d=Object.assign({},s):d=s,d.config&&(d.config.pageToken=o.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(f=(r=d.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jS extends yn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new di(gn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=gh(this.apiClient,t),s=o._url,r=Q("{model}:batchGenerateContent",s),h=o.batch.inputConfig.requests,y=h.requests,g=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const _=S.systemInstruction;delete S.systemInstruction;const x=S.request;x.systemInstruction=_,S.request=x}g.push(S)}return h.requests=g,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const s=o?Object.assign({},o):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const f=this.getGcsUri(t),d=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?s.dest=`${f.slice(0,-6)}/dest`:s.dest=`${f}_dest_${r}`;else if(d)s.dest=`${d}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=_S(this.apiClient,t);return h=Q("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>_u(v))}else{const g=gh(this.apiClient,t);return h=Q("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d.then(v=>Ms(v))}}async createEmbeddingsInternal(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=CS(this.apiClient,t);return f=Q("{model}:asyncBatchEmbedContent",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>Ms(y))}}async get(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=PS(this.apiClient,t);return h=Q("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>_u(v))}else{const g=HS(this.apiClient,t);return h=Q("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d.then(v=>Ms(v))}}async cancel(t){var o,s,r,f;let d="",h={};if(this.apiClient.isVertexAI()){const y=gS(this.apiClient,t);d=Q("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=hS(this.apiClient,t);d=Q("batches/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=JS(t);return h=Q("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=XS(v),_=new dh;return Object.assign(_,S),_})}else{const g=YS(t);return h=Q("batches",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=KS(v),_=new dh;return Object.assign(_,S),_})}}async delete(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=xS(this.apiClient,t);return h=Q("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>RS(v))}else{const g=AS(this.apiClient,t);return h=Q("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>NS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e_(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function yh(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>C_(f))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function t_(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const d=u(i,["contents"]);if(t!==void 0&&d!=null){let v=qt(d);Array.isArray(v)&&(v=v.map(S=>yh(S))),c(t,["contents"],v)}const h=u(i,["systemInstruction"]);t!==void 0&&h!=null&&c(t,["systemInstruction"],yh(st(h)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>x_(S))),c(t,["tools"],v)}const g=u(i,["toolConfig"]);if(t!==void 0&&g!=null&&c(t,["toolConfig"],A_(g)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function n_(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const d=u(i,["contents"]);if(t!==void 0&&d!=null){let S=qt(d);Array.isArray(S)&&(S=S.map(_=>_)),c(t,["contents"],S)}const h=u(i,["systemInstruction"]);t!==void 0&&h!=null&&c(t,["systemInstruction"],st(h));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(_=>N_(_))),c(t,["tools"],S)}const g=u(i,["toolConfig"]);t!==void 0&&g!=null&&c(t,["toolConfig"],g);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),o}function i_(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["model"],Xh(i,s));const r=u(t,["config"]);return r!=null&&t_(r,o),o}function o_(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["model"],Xh(i,s));const r=u(t,["config"]);return r!=null&&n_(r,o),o}function l_(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],vn(i,s)),o}function s_(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],vn(i,s)),o}function a_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function r_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function u_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function c_(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function f_(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&c(t,["allowedFunctionNames"],o);const s=u(i,["mode"]);if(s!=null&&c(t,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function d_(i){const t={},o=u(i,["description"]);o!=null&&c(t,["description"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const d=u(i,["response"]);d!=null&&c(t,["response"],d);const h=u(i,["responseJsonSchema"]);if(h!=null&&c(t,["responseJsonSchema"],h),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function p_(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],vn(i,s)),o}function m_(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],vn(i,s)),o}function h_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function g_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function y_(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function v_(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function T_(i){const t={},o=u(i,["config"]);return o!=null&&y_(o,t),t}function S_(i){const t={},o=u(i,["config"]);return o!=null&&v_(o,t),t}function __(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>d)),c(t,["cachedContents"],f)}return t}function E_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>d)),c(t,["cachedContents"],f)}return t}function C_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],u_(f));const d=u(i,["functionCall"]);d!=null&&c(t,["functionCall"],c_(d));const h=u(i,["functionResponse"]);h!=null&&c(t,["functionResponse"],h);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],e_(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function A_(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&c(t,["retrievalConfig"],o);const s=u(i,["functionCallingConfig"]);return s!=null&&c(t,["functionCallingConfig"],f_(s)),t}function x_(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&c(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}const d=u(i,["googleMaps"]);d!=null&&c(t,["googleMaps"],h_(d));const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],g_(h));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function N_(i){const t={},o=u(i,["retrieval"]);o!=null&&c(t,["retrieval"],o);const s=u(i,["computerUse"]);if(s!=null&&c(t,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const d=u(i,["functionDeclarations"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(_=>d_(_))),c(t,["functionDeclarations"],S)}const h=u(i,["googleMaps"]);h!=null&&c(t,["googleMaps"],h);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const g=u(i,["googleSearchRetrieval"]);g!=null&&c(t,["googleSearchRetrieval"],g);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function R_(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function M_(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function b_(i,t){const o={},s=u(t,["name"]);s!=null&&c(o,["_url","name"],vn(i,s));const r=u(t,["config"]);return r!=null&&R_(r,o),o}function I_(i,t){const o={},s=u(t,["name"]);s!=null&&c(o,["_url","name"],vn(i,s));const r=u(t,["config"]);return r!=null&&M_(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class D_ extends yn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new di(gn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=o_(this.apiClient,t);return h=Q("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=i_(this.apiClient,t);return h=Q("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=m_(this.apiClient,t);return h=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=p_(this.apiClient,t);return h=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=s_(this.apiClient,t);return h=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=r_(v),_=new ch;return Object.assign(_,S),_})}else{const g=l_(this.apiClient,t);return h=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=a_(v),_=new ch;return Object.assign(_,S),_})}}async update(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=I_(this.apiClient,t);return h=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=b_(this.apiClient,t);return h=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=S_(t);return h=Q("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=E_(v),_=new fh;return Object.assign(_,S),_})}else{const g=T_(t);return h=Q("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=__(v),_=new fh;return Object.assign(_,S),_})}}}function Us(i,t){var o={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(o[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(i);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(o[s[r]]=i[s[r]]);return o}function vh(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],s=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ae(i){return this instanceof ae?(this.v=i,this):new ae(i)}function Ft(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(i,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),r[Symbol.asyncIterator]=function(){return this},r;function d(x){return function(b){return Promise.resolve(b).then(x,S)}}function h(x,b){s[x]&&(r[x]=function(G){return new Promise(function(U,B){f.push([x,G,U,B])>1||y(x,G)})},b&&(r[x]=b(r[x])))}function y(x,b){try{g(s[x](b))}catch(G){_(f[0][3],G)}}function g(x){x.value instanceof ae?Promise.resolve(x.value.v).then(v,S):_(f[0][2],x)}function v(x){y("next",x)}function S(x){y("throw",x)}function _(x,b){x(b),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Yt(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof vh=="function"?vh(i):i[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(f){o[f]=i[f]&&function(d){return new Promise(function(h,y){d=i[f](d),r(h,y,d.done,d.value)})}}function r(f,d,h,y){Promise.resolve(y).then(function(g){f({value:g,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w_(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:ag(o)}function ag(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function U_(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Th(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let s=0;for(;s<o;)if(i[s].role==="user")t.push(i[s]),s++;else{const r=[];let f=!0;for(;s<o&&i[s].role==="model";)r.push(i[s]),f&&!ag(i[s])&&(f=!1),s++;f?t.push(...r):t.pop()}return t}class L_{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new G_(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class G_{constructor(t,o,s,r={},f=[]){this.apiClient=t,this.modelsModule=o,this.model=s,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),U_(f)}async sendMessage(t){var o;await this.sendPromise;const s=st(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,d,h;const y=await r,g=(d=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let _=[];v!=null&&(_=(h=v.slice(S))!==null&&h!==void 0?h:[]);const x=g?[g]:[];this.recordHistory(s,x,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const s=st(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,s)}getHistory(t=!1){const o=t?Th(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return Ft(this,arguments,function*(){var r,f,d,h,y,g;const v=[];try{for(var S=!0,_=Yt(t),x;x=yield ae(_.next()),r=x.done,!r;S=!0){h=x.value,S=!1;const b=h;if(w_(b)){const G=(g=(y=b.candidates)===null||y===void 0?void 0:y[0])===null||g===void 0?void 0:g.content;G!==void 0&&v.push(G)}yield yield ae(b)}}catch(b){f={error:b}}finally{try{!S&&!r&&(d=_.return)&&(yield ae(d.call(_)))}finally{if(f)throw f.error}}this.recordHistory(o,v)})}recordHistory(t,o,s){let r=[];o.length>0&&o.every(f=>f.role!==void 0)?r=o:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Th(s)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ol extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ol.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H_(i){const t={},o=u(i,["file"]);return o!=null&&c(t,["file"],o),t}function P_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function V_(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],eg(o)),t}function q_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function z_(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],eg(o)),t}function k_(i){const t={},o=u(i,["uris"]);return o!=null&&c(t,["uris"],o),t}function B_(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function O_(i){const t={},o=u(i,["config"]);return o!=null&&B_(o,t),t}function F_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>d)),c(t,["files"],f)}return t}function Y_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["files"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["files"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class J_ extends yn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new di(gn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=O_(t);return f=Q("files",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=F_(y),v=new KT;return Object.assign(v,g),v})}}async createInternal(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=H_(t);return f=Q("upload/v1beta/files",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const g=P_(y),v=new XT;return Object.assign(v,g),v})}}async get(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=z_(t);return f=Q("files/{file}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=V_(t);return f=Q("files/{file}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=q_(y),v=new QT;return Object.assign(v,g),v})}}async registerFilesInternal(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=k_(t);return f=Q("files:register",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const g=Y_(y),v=new ZT;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bs(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function K_(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>uE(f))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function X_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function Q_(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Z_(i){const t={},o=u(i,["description"]);o!=null&&c(t,["description"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const d=u(i,["response"]);d!=null&&c(t,["response"],d);const h=u(i,["responseJsonSchema"]);if(h!=null&&c(t,["responseJsonSchema"],h),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function $_(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const s=u(i,["responseJsonSchema"]);s!=null&&c(t,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const d=u(i,["enableAffectiveDialog"]);d!=null&&c(t,["enableAffectiveDialog"],d);const h=u(i,["frequencyPenalty"]);h!=null&&c(t,["frequencyPenalty"],h);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const g=u(i,["maxOutputTokens"]);g!=null&&c(t,["maxOutputTokens"],g);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const S=u(i,["presencePenalty"]);S!=null&&c(t,["presencePenalty"],S);const _=u(i,["responseLogprobs"]);_!=null&&c(t,["responseLogprobs"],_);const x=u(i,["responseMimeType"]);x!=null&&c(t,["responseMimeType"],x);const b=u(i,["responseModalities"]);b!=null&&c(t,["responseModalities"],b);const G=u(i,["responseSchema"]);G!=null&&c(t,["responseSchema"],G);const U=u(i,["routingConfig"]);U!=null&&c(t,["routingConfig"],U);const B=u(i,["seed"]);B!=null&&c(t,["seed"],B);const Y=u(i,["speechConfig"]);Y!=null&&c(t,["speechConfig"],Y);const F=u(i,["stopSequences"]);F!=null&&c(t,["stopSequences"],F);const J=u(i,["temperature"]);J!=null&&c(t,["temperature"],J);const z=u(i,["thinkingConfig"]);z!=null&&c(t,["thinkingConfig"],z);const ie=u(i,["topK"]);ie!=null&&c(t,["topK"],ie);const K=u(i,["topP"]);if(K!=null&&c(t,["topP"],K),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function W_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function j_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function eE(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const d=u(i,["topP"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","topP"],d);const h=u(i,["topK"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topK"],h);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],zu(S));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const x=u(i,["enableAffectiveDialog"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],x);const b=u(i,["systemInstruction"]);t!==void 0&&b!=null&&c(t,["setup","systemInstruction"],K_(st(b)));const G=u(i,["tools"]);if(t!==void 0&&G!=null){let ie=io(G);Array.isArray(ie)&&(ie=ie.map(K=>fE(no(K)))),c(t,["setup","tools"],ie)}const U=u(i,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],cE(U));const B=u(i,["inputAudioTranscription"]);t!==void 0&&B!=null&&c(t,["setup","inputAudioTranscription"],B);const Y=u(i,["outputAudioTranscription"]);t!==void 0&&Y!=null&&c(t,["setup","outputAudioTranscription"],Y);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&c(t,["setup","contextWindowCompression"],J);const z=u(i,["proactivity"]);if(t!==void 0&&z!=null&&c(t,["setup","proactivity"],z),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function tE(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig"],$_(s));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const d=u(i,["topP"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","topP"],d);const h=u(i,["topK"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topK"],h);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],zu(S));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const x=u(i,["enableAffectiveDialog"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],x);const b=u(i,["systemInstruction"]);t!==void 0&&b!=null&&c(t,["setup","systemInstruction"],st(b));const G=u(i,["tools"]);if(t!==void 0&&G!=null){let K=io(G);Array.isArray(K)&&(K=K.map(se=>dE(no(se)))),c(t,["setup","tools"],K)}const U=u(i,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],U);const B=u(i,["inputAudioTranscription"]);t!==void 0&&B!=null&&c(t,["setup","inputAudioTranscription"],B);const Y=u(i,["outputAudioTranscription"]);t!==void 0&&Y!=null&&c(t,["setup","outputAudioTranscription"],Y);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&c(t,["setup","contextWindowCompression"],J);const z=u(i,["proactivity"]);t!==void 0&&z!=null&&c(t,["setup","proactivity"],z);const ie=u(i,["explicitVadSignal"]);return t!==void 0&&ie!=null&&c(t,["setup","explicitVadSignal"],ie),o}function nE(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["setup","model"],Ee(i,s));const r=u(t,["config"]);return r!=null&&c(o,["config"],eE(r,o)),o}function iE(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["setup","model"],Ee(i,s));const r=u(t,["config"]);return r!=null&&c(o,["config"],tE(r,o)),o}function oE(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function lE(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(t,["weightedPrompts"],s)}return t}function sE(i){const t={},o=u(i,["media"]);if(o!=null){let g=Qh(o);Array.isArray(g)&&(g=g.map(v=>bs(v))),c(t,["mediaChunks"],g)}const s=u(i,["audio"]);s!=null&&c(t,["audio"],bs($h(s)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],bs(Zh(f)));const d=u(i,["text"]);d!=null&&c(t,["text"],d);const h=u(i,["activityStart"]);h!=null&&c(t,["activityStart"],h);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function aE(i){const t={},o=u(i,["media"]);if(o!=null){let g=Qh(o);Array.isArray(g)&&(g=g.map(v=>v)),c(t,["mediaChunks"],g)}const s=u(i,["audio"]);s!=null&&c(t,["audio"],$h(s));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],Zh(f));const d=u(i,["text"]);d!=null&&c(t,["text"],d);const h=u(i,["activityStart"]);h!=null&&c(t,["activityStart"],h);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function rE(i){const t={},o=u(i,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const s=u(i,["serverContent"]);s!=null&&c(t,["serverContent"],s);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const d=u(i,["usageMetadata"]);d!=null&&c(t,["usageMetadata"],pE(d));const h=u(i,["goAway"]);h!=null&&c(t,["goAway"],h);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const g=u(i,["voiceActivityDetectionSignal"]);g!=null&&c(t,["voiceActivityDetectionSignal"],g);const v=u(i,["voiceActivity"]);return v!=null&&c(t,["voiceActivity"],mE(v)),t}function uE(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],X_(f));const d=u(i,["functionCall"]);d!=null&&c(t,["functionCall"],Q_(d));const h=u(i,["functionResponse"]);h!=null&&c(t,["functionResponse"],h);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],bs(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function cE(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function fE(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&c(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}const d=u(i,["googleMaps"]);d!=null&&c(t,["googleMaps"],W_(d));const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],j_(h));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function dE(i){const t={},o=u(i,["retrieval"]);o!=null&&c(t,["retrieval"],o);const s=u(i,["computerUse"]);if(s!=null&&c(t,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const d=u(i,["functionDeclarations"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(_=>Z_(_))),c(t,["functionDeclarations"],S)}const h=u(i,["googleMaps"]);h!=null&&c(t,["googleMaps"],h);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const g=u(i,["googleSearchRetrieval"]);g!=null&&c(t,["googleSearchRetrieval"],g);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function pE(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const s=u(i,["cachedContentTokenCount"]);s!=null&&c(t,["cachedContentTokenCount"],s);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const d=u(i,["thoughtsTokenCount"]);d!=null&&c(t,["thoughtsTokenCount"],d);const h=u(i,["totalTokenCount"]);h!=null&&c(t,["totalTokenCount"],h);const y=u(i,["promptTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(b=>b)),c(t,["promptTokensDetails"],x)}const g=u(i,["cacheTokensDetails"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(b=>b)),c(t,["cacheTokensDetails"],x)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(b=>b)),c(t,["responseTokensDetails"],x)}const S=u(i,["toolUsePromptTokensDetails"]);if(S!=null){let x=S;Array.isArray(x)&&(x=x.map(b=>b)),c(t,["toolUsePromptTokensDetails"],x)}const _=u(i,["trafficType"]);return _!=null&&c(t,["trafficType"],_),t}function mE(i){const t={},o=u(i,["type"]);return o!=null&&c(t,["voiceActivityType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hE(i,t){const o={},s=u(i,["data"]);if(s!=null&&c(o,["data"],s),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["mimeType"]);return r!=null&&c(o,["mimeType"],r),o}function gE(i,t){const o={},s=u(i,["content"]);s!=null&&c(o,["content"],s);const r=u(i,["citationMetadata"]);r!=null&&c(o,["citationMetadata"],yE(r));const f=u(i,["tokenCount"]);f!=null&&c(o,["tokenCount"],f);const d=u(i,["finishReason"]);d!=null&&c(o,["finishReason"],d);const h=u(i,["avgLogprobs"]);h!=null&&c(o,["avgLogprobs"],h);const y=u(i,["groundingMetadata"]);y!=null&&c(o,["groundingMetadata"],y);const g=u(i,["index"]);g!=null&&c(o,["index"],g);const v=u(i,["logprobsResult"]);v!=null&&c(o,["logprobsResult"],v);const S=u(i,["safetyRatings"]);if(S!=null){let x=S;Array.isArray(x)&&(x=x.map(b=>b)),c(o,["safetyRatings"],x)}const _=u(i,["urlContextMetadata"]);return _!=null&&c(o,["urlContextMetadata"],_),o}function yE(i,t){const o={},s=u(i,["citationSources"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>f)),c(o,["citations"],r)}return o}function vE(i,t,o){const s={},r=u(t,["model"]);r!=null&&c(s,["_url","model"],Ee(i,r));const f=u(t,["contents"]);if(f!=null){let d=qt(f);Array.isArray(d)&&(d=d.map(h=>h)),c(s,["contents"],d)}return s}function TE(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["tokensInfo"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>d)),c(o,["tokensInfo"],f)}return o}function SE(i,t){const o={},s=u(i,["values"]);s!=null&&c(o,["values"],s);const r=u(i,["statistics"]);return r!=null&&c(o,["statistics"],_E(r)),o}function _E(i,t){const o={},s=u(i,["truncated"]);s!=null&&c(o,["truncated"],s);const r=u(i,["token_count"]);return r!=null&&c(o,["tokenCount"],r),o}function Hs(i,t){const o={},s=u(i,["parts"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(d=>IC(d))),c(o,["parts"],f)}const r=u(i,["role"]);return r!=null&&c(o,["role"],r),o}function EE(i,t){const o={},s=u(i,["controlType"]);s!=null&&c(o,["controlType"],s);const r=u(i,["enableControlImageComputation"]);return r!=null&&c(o,["computeControl"],r),o}function CE(i,t){const o={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return o}function AE(i,t,o){const s={},r=u(i,["systemInstruction"]);t!==void 0&&r!=null&&c(t,["systemInstruction"],st(r));const f=u(i,["tools"]);if(t!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>fg(y))),c(t,["tools"],h)}const d=u(i,["generationConfig"]);return t!==void 0&&d!=null&&c(t,["generationConfig"],hC(d)),s}function xE(i,t,o){const s={},r=u(t,["model"]);r!=null&&c(s,["_url","model"],Ee(i,r));const f=u(t,["contents"]);if(f!=null){let h=qt(f);Array.isArray(h)&&(h=h.map(y=>Hs(y))),c(s,["contents"],h)}const d=u(t,["config"]);return d!=null&&CE(d),s}function NE(i,t,o){const s={},r=u(t,["model"]);r!=null&&c(s,["_url","model"],Ee(i,r));const f=u(t,["contents"]);if(f!=null){let h=qt(f);Array.isArray(h)&&(h=h.map(y=>y)),c(s,["contents"],h)}const d=u(t,["config"]);return d!=null&&AE(d,s),s}function RE(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["totalTokens"]);r!=null&&c(o,["totalTokens"],r);const f=u(i,["cachedContentTokenCount"]);return f!=null&&c(o,["cachedContentTokenCount"],f),o}function ME(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["totalTokens"]);return r!=null&&c(o,["totalTokens"],r),o}function bE(i,t,o){const s={},r=u(t,["model"]);return r!=null&&c(s,["_url","name"],Ee(i,r)),s}function IE(i,t,o){const s={},r=u(t,["model"]);return r!=null&&c(s,["_url","name"],Ee(i,r)),s}function DE(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function wE(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function UE(i,t,o){const s={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["negativePrompt"]);t!==void 0&&f!=null&&c(t,["parameters","negativePrompt"],f);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const h=u(i,["aspectRatio"]);t!==void 0&&h!=null&&c(t,["parameters","aspectRatio"],h);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&c(t,["parameters","guidanceScale"],y);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&c(t,["parameters","safetySetting"],v);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&c(t,["parameters","personGeneration"],S);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&c(t,["parameters","includeSafetyAttributes"],_);const x=u(i,["includeRaiReason"]);t!==void 0&&x!=null&&c(t,["parameters","includeRaiReason"],x);const b=u(i,["language"]);t!==void 0&&b!=null&&c(t,["parameters","language"],b);const G=u(i,["outputMimeType"]);t!==void 0&&G!=null&&c(t,["parameters","outputOptions","mimeType"],G);const U=u(i,["outputCompressionQuality"]);t!==void 0&&U!=null&&c(t,["parameters","outputOptions","compressionQuality"],U);const B=u(i,["addWatermark"]);t!==void 0&&B!=null&&c(t,["parameters","addWatermark"],B);const Y=u(i,["labels"]);t!==void 0&&Y!=null&&c(t,["labels"],Y);const F=u(i,["editMode"]);t!==void 0&&F!=null&&c(t,["parameters","editMode"],F);const J=u(i,["baseSteps"]);return t!==void 0&&J!=null&&c(t,["parameters","editConfig","baseSteps"],J),s}function LE(i,t,o){const s={},r=u(t,["model"]);r!=null&&c(s,["_url","model"],Ee(i,r));const f=u(t,["prompt"]);f!=null&&c(s,["instances[0]","prompt"],f);const d=u(t,["referenceImages"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(g=>HC(g))),c(s,["instances[0]","referenceImages"],y)}const h=u(t,["config"]);return h!=null&&UE(h,s),s}function GE(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>Ps(d))),c(o,["generatedImages"],f)}return o}function HE(i,t,o){const s={},r=u(i,["taskType"]);t!==void 0&&r!=null&&c(t,["requests[]","taskType"],r);const f=u(i,["title"]);t!==void 0&&f!=null&&c(t,["requests[]","title"],f);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function PE(i,t,o){const s={},r=u(i,["taskType"]);t!==void 0&&r!=null&&c(t,["instances[]","task_type"],r);const f=u(i,["title"]);t!==void 0&&f!=null&&c(t,["instances[]","title"],f);const d=u(i,["outputDimensionality"]);t!==void 0&&d!=null&&c(t,["parameters","outputDimensionality"],d);const h=u(i,["mimeType"]);t!==void 0&&h!=null&&c(t,["instances[]","mimeType"],h);const y=u(i,["autoTruncate"]);return t!==void 0&&y!=null&&c(t,["parameters","autoTruncate"],y),s}function VE(i,t,o){const s={},r=u(t,["model"]);r!=null&&c(s,["_url","model"],Ee(i,r));const f=u(t,["contents"]);if(f!=null){let y=Pu(i,f);Array.isArray(y)&&(y=y.map(g=>g)),c(s,["requests[]","content"],y)}const d=u(t,["config"]);d!=null&&HE(d,s);const h=u(t,["model"]);return h!==void 0&&c(s,["requests[]","model"],Ee(i,h)),s}function qE(i,t,o){const s={},r=u(t,["model"]);r!=null&&c(s,["_url","model"],Ee(i,r));const f=u(t,["contents"]);if(f!=null){let h=Pu(i,f);Array.isArray(h)&&(h=h.map(y=>y)),c(s,["instances[]","content"],h)}const d=u(t,["config"]);return d!=null&&PE(d,s),s}function zE(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["embeddings"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),c(o,["embeddings"],d)}const f=u(i,["metadata"]);return f!=null&&c(o,["metadata"],f),o}function kE(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["predictions[]","embeddings"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>SE(h))),c(o,["embeddings"],d)}const f=u(i,["metadata"]);return f!=null&&c(o,["metadata"],f),o}function BE(i,t){const o={},s=u(i,["endpoint"]);s!=null&&c(o,["name"],s);const r=u(i,["deployedModelId"]);return r!=null&&c(o,["deployedModelId"],r),o}function OE(i,t){const o={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["fileUri"]);s!=null&&c(o,["fileUri"],s);const r=u(i,["mimeType"]);return r!=null&&c(o,["mimeType"],r),o}function FE(i,t){const o={},s=u(i,["id"]);s!=null&&c(o,["id"],s);const r=u(i,["args"]);r!=null&&c(o,["args"],r);const f=u(i,["name"]);if(f!=null&&c(o,["name"],f),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return o}function YE(i,t){const o={},s=u(i,["allowedFunctionNames"]);s!=null&&c(o,["allowedFunctionNames"],s);const r=u(i,["mode"]);if(r!=null&&c(o,["mode"],r),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return o}function JE(i,t){const o={},s=u(i,["description"]);s!=null&&c(o,["description"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["parameters"]);f!=null&&c(o,["parameters"],f);const d=u(i,["parametersJsonSchema"]);d!=null&&c(o,["parametersJsonSchema"],d);const h=u(i,["response"]);h!=null&&c(o,["response"],h);const y=u(i,["responseJsonSchema"]);if(y!=null&&c(o,["responseJsonSchema"],y),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return o}function KE(i,t,o,s){const r={},f=u(t,["systemInstruction"]);o!==void 0&&f!=null&&c(o,["systemInstruction"],Hs(st(f)));const d=u(t,["temperature"]);d!=null&&c(r,["temperature"],d);const h=u(t,["topP"]);h!=null&&c(r,["topP"],h);const y=u(t,["topK"]);y!=null&&c(r,["topK"],y);const g=u(t,["candidateCount"]);g!=null&&c(r,["candidateCount"],g);const v=u(t,["maxOutputTokens"]);v!=null&&c(r,["maxOutputTokens"],v);const S=u(t,["stopSequences"]);S!=null&&c(r,["stopSequences"],S);const _=u(t,["responseLogprobs"]);_!=null&&c(r,["responseLogprobs"],_);const x=u(t,["logprobs"]);x!=null&&c(r,["logprobs"],x);const b=u(t,["presencePenalty"]);b!=null&&c(r,["presencePenalty"],b);const G=u(t,["frequencyPenalty"]);G!=null&&c(r,["frequencyPenalty"],G);const U=u(t,["seed"]);U!=null&&c(r,["seed"],U);const B=u(t,["responseMimeType"]);B!=null&&c(r,["responseMimeType"],B);const Y=u(t,["responseSchema"]);Y!=null&&c(r,["responseSchema"],Vu(Y));const F=u(t,["responseJsonSchema"]);if(F!=null&&c(r,["responseJsonSchema"],F),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=u(t,["safetySettings"]);if(o!==void 0&&J!=null){let Re=J;Array.isArray(Re)&&(Re=Re.map(Qe=>PC(Qe))),c(o,["safetySettings"],Re)}const z=u(t,["tools"]);if(o!==void 0&&z!=null){let Re=io(z);Array.isArray(Re)&&(Re=Re.map(Qe=>FC(no(Qe)))),c(o,["tools"],Re)}const ie=u(t,["toolConfig"]);if(o!==void 0&&ie!=null&&c(o,["toolConfig"],OC(ie)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=u(t,["cachedContent"]);o!==void 0&&K!=null&&c(o,["cachedContent"],vn(i,K));const se=u(t,["responseModalities"]);se!=null&&c(r,["responseModalities"],se);const $=u(t,["mediaResolution"]);$!=null&&c(r,["mediaResolution"],$);const O=u(t,["speechConfig"]);if(O!=null&&c(r,["speechConfig"],qu(O)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=u(t,["thinkingConfig"]);le!=null&&c(r,["thinkingConfig"],le);const ve=u(t,["imageConfig"]);ve!=null&&c(r,["imageConfig"],SC(ve));const De=u(t,["enableEnhancedCivicAnswers"]);if(De!=null&&c(r,["enableEnhancedCivicAnswers"],De),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function XE(i,t,o,s){const r={},f=u(t,["systemInstruction"]);o!==void 0&&f!=null&&c(o,["systemInstruction"],st(f));const d=u(t,["temperature"]);d!=null&&c(r,["temperature"],d);const h=u(t,["topP"]);h!=null&&c(r,["topP"],h);const y=u(t,["topK"]);y!=null&&c(r,["topK"],y);const g=u(t,["candidateCount"]);g!=null&&c(r,["candidateCount"],g);const v=u(t,["maxOutputTokens"]);v!=null&&c(r,["maxOutputTokens"],v);const S=u(t,["stopSequences"]);S!=null&&c(r,["stopSequences"],S);const _=u(t,["responseLogprobs"]);_!=null&&c(r,["responseLogprobs"],_);const x=u(t,["logprobs"]);x!=null&&c(r,["logprobs"],x);const b=u(t,["presencePenalty"]);b!=null&&c(r,["presencePenalty"],b);const G=u(t,["frequencyPenalty"]);G!=null&&c(r,["frequencyPenalty"],G);const U=u(t,["seed"]);U!=null&&c(r,["seed"],U);const B=u(t,["responseMimeType"]);B!=null&&c(r,["responseMimeType"],B);const Y=u(t,["responseSchema"]);Y!=null&&c(r,["responseSchema"],Vu(Y));const F=u(t,["responseJsonSchema"]);F!=null&&c(r,["responseJsonSchema"],F);const J=u(t,["routingConfig"]);J!=null&&c(r,["routingConfig"],J);const z=u(t,["modelSelectionConfig"]);z!=null&&c(r,["modelConfig"],z);const ie=u(t,["safetySettings"]);if(o!==void 0&&ie!=null){let te=ie;Array.isArray(te)&&(te=te.map(Te=>Te)),c(o,["safetySettings"],te)}const K=u(t,["tools"]);if(o!==void 0&&K!=null){let te=io(K);Array.isArray(te)&&(te=te.map(Te=>fg(no(Te)))),c(o,["tools"],te)}const se=u(t,["toolConfig"]);o!==void 0&&se!=null&&c(o,["toolConfig"],se);const $=u(t,["labels"]);o!==void 0&&$!=null&&c(o,["labels"],$);const O=u(t,["cachedContent"]);o!==void 0&&O!=null&&c(o,["cachedContent"],vn(i,O));const le=u(t,["responseModalities"]);le!=null&&c(r,["responseModalities"],le);const ve=u(t,["mediaResolution"]);ve!=null&&c(r,["mediaResolution"],ve);const De=u(t,["speechConfig"]);De!=null&&c(r,["speechConfig"],qu(De));const Re=u(t,["audioTimestamp"]);Re!=null&&c(r,["audioTimestamp"],Re);const Qe=u(t,["thinkingConfig"]);Qe!=null&&c(r,["thinkingConfig"],Qe);const P=u(t,["imageConfig"]);if(P!=null&&c(r,["imageConfig"],_C(P)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const X=u(t,["modelArmorConfig"]);return o!==void 0&&X!=null&&c(o,["modelArmorConfig"],X),r}function Sh(i,t,o){const s={},r=u(t,["model"]);r!=null&&c(s,["_url","model"],Ee(i,r));const f=u(t,["contents"]);if(f!=null){let h=qt(f);Array.isArray(h)&&(h=h.map(y=>Hs(y))),c(s,["contents"],h)}const d=u(t,["config"]);return d!=null&&c(s,["generationConfig"],KE(i,d,s)),s}function _h(i,t,o){const s={},r=u(t,["model"]);r!=null&&c(s,["_url","model"],Ee(i,r));const f=u(t,["contents"]);if(f!=null){let h=qt(f);Array.isArray(h)&&(h=h.map(y=>y)),c(s,["contents"],h)}const d=u(t,["config"]);return d!=null&&c(s,["generationConfig"],XE(i,d,s)),s}function Eh(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(v=>gE(v))),c(o,["candidates"],g)}const f=u(i,["modelVersion"]);f!=null&&c(o,["modelVersion"],f);const d=u(i,["promptFeedback"]);d!=null&&c(o,["promptFeedback"],d);const h=u(i,["responseId"]);h!=null&&c(o,["responseId"],h);const y=u(i,["usageMetadata"]);return y!=null&&c(o,["usageMetadata"],y),o}function Ch(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["candidates"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(S=>S)),c(o,["candidates"],v)}const f=u(i,["createTime"]);f!=null&&c(o,["createTime"],f);const d=u(i,["modelVersion"]);d!=null&&c(o,["modelVersion"],d);const h=u(i,["promptFeedback"]);h!=null&&c(o,["promptFeedback"],h);const y=u(i,["responseId"]);y!=null&&c(o,["responseId"],y);const g=u(i,["usageMetadata"]);return g!=null&&c(o,["usageMetadata"],g),o}function QE(i,t,o){const s={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&c(t,["parameters","sampleCount"],r);const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const d=u(i,["guidanceScale"]);if(t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const g=u(i,["includeSafetyAttributes"]);t!==void 0&&g!=null&&c(t,["parameters","includeSafetyAttributes"],g);const v=u(i,["includeRaiReason"]);t!==void 0&&v!=null&&c(t,["parameters","includeRaiReason"],v);const S=u(i,["language"]);t!==void 0&&S!=null&&c(t,["parameters","language"],S);const _=u(i,["outputMimeType"]);t!==void 0&&_!=null&&c(t,["parameters","outputOptions","mimeType"],_);const x=u(i,["outputCompressionQuality"]);if(t!==void 0&&x!=null&&c(t,["parameters","outputOptions","compressionQuality"],x),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=u(i,["imageSize"]);if(t!==void 0&&b!=null&&c(t,["parameters","sampleImageSize"],b),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function ZE(i,t,o){const s={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["negativePrompt"]);t!==void 0&&f!=null&&c(t,["parameters","negativePrompt"],f);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const h=u(i,["aspectRatio"]);t!==void 0&&h!=null&&c(t,["parameters","aspectRatio"],h);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&c(t,["parameters","guidanceScale"],y);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&c(t,["parameters","safetySetting"],v);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&c(t,["parameters","personGeneration"],S);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&c(t,["parameters","includeSafetyAttributes"],_);const x=u(i,["includeRaiReason"]);t!==void 0&&x!=null&&c(t,["parameters","includeRaiReason"],x);const b=u(i,["language"]);t!==void 0&&b!=null&&c(t,["parameters","language"],b);const G=u(i,["outputMimeType"]);t!==void 0&&G!=null&&c(t,["parameters","outputOptions","mimeType"],G);const U=u(i,["outputCompressionQuality"]);t!==void 0&&U!=null&&c(t,["parameters","outputOptions","compressionQuality"],U);const B=u(i,["addWatermark"]);t!==void 0&&B!=null&&c(t,["parameters","addWatermark"],B);const Y=u(i,["labels"]);t!==void 0&&Y!=null&&c(t,["labels"],Y);const F=u(i,["imageSize"]);t!==void 0&&F!=null&&c(t,["parameters","sampleImageSize"],F);const J=u(i,["enhancePrompt"]);return t!==void 0&&J!=null&&c(t,["parameters","enhancePrompt"],J),s}function $E(i,t,o){const s={},r=u(t,["model"]);r!=null&&c(s,["_url","model"],Ee(i,r));const f=u(t,["prompt"]);f!=null&&c(s,["instances[0]","prompt"],f);const d=u(t,["config"]);return d!=null&&QE(d,s),s}function WE(i,t,o){const s={},r=u(t,["model"]);r!=null&&c(s,["_url","model"],Ee(i,r));const f=u(t,["prompt"]);f!=null&&c(s,["instances[0]","prompt"],f);const d=u(t,["config"]);return d!=null&&ZE(d,s),s}function jE(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>fC(h))),c(o,["generatedImages"],d)}const f=u(i,["positivePromptSafetyAttributes"]);return f!=null&&c(o,["positivePromptSafetyAttributes"],ug(f)),o}function eC(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>Ps(h))),c(o,["generatedImages"],d)}const f=u(i,["positivePromptSafetyAttributes"]);return f!=null&&c(o,["positivePromptSafetyAttributes"],cg(f)),o}function tC(i,t,o){const s={},r=u(i,["numberOfVideos"]);if(t!==void 0&&r!=null&&c(t,["parameters","sampleCount"],r),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const f=u(i,["durationSeconds"]);if(t!==void 0&&f!=null&&c(t,["parameters","durationSeconds"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const y=u(i,["personGeneration"]);if(t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=u(i,["negativePrompt"]);t!==void 0&&g!=null&&c(t,["parameters","negativePrompt"],g);const v=u(i,["enhancePrompt"]);if(t!==void 0&&v!=null&&c(t,["parameters","enhancePrompt"],v),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const S=u(i,["lastFrame"]);t!==void 0&&S!=null&&c(t,["instances[0]","lastFrame"],Vs(S));const _=u(i,["referenceImages"]);if(t!==void 0&&_!=null){let x=_;Array.isArray(x)&&(x=x.map(b=>iA(b))),c(t,["instances[0]","referenceImages"],x)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return s}function nC(i,t,o){const s={},r=u(i,["numberOfVideos"]);t!==void 0&&r!=null&&c(t,["parameters","sampleCount"],r);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const d=u(i,["fps"]);t!==void 0&&d!=null&&c(t,["parameters","fps"],d);const h=u(i,["durationSeconds"]);t!==void 0&&h!=null&&c(t,["parameters","durationSeconds"],h);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&c(t,["parameters","aspectRatio"],g);const v=u(i,["resolution"]);t!==void 0&&v!=null&&c(t,["parameters","resolution"],v);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&c(t,["parameters","personGeneration"],S);const _=u(i,["pubsubTopic"]);t!==void 0&&_!=null&&c(t,["parameters","pubsubTopic"],_);const x=u(i,["negativePrompt"]);t!==void 0&&x!=null&&c(t,["parameters","negativePrompt"],x);const b=u(i,["enhancePrompt"]);t!==void 0&&b!=null&&c(t,["parameters","enhancePrompt"],b);const G=u(i,["generateAudio"]);t!==void 0&&G!=null&&c(t,["parameters","generateAudio"],G);const U=u(i,["lastFrame"]);t!==void 0&&U!=null&&c(t,["instances[0]","lastFrame"],Jt(U));const B=u(i,["referenceImages"]);if(t!==void 0&&B!=null){let J=B;Array.isArray(J)&&(J=J.map(z=>oA(z))),c(t,["instances[0]","referenceImages"],J)}const Y=u(i,["mask"]);t!==void 0&&Y!=null&&c(t,["instances[0]","mask"],nA(Y));const F=u(i,["compressionQuality"]);return t!==void 0&&F!=null&&c(t,["parameters","compressionQuality"],F),s}function iC(i,t){const o={},s=u(i,["name"]);s!=null&&c(o,["name"],s);const r=u(i,["metadata"]);r!=null&&c(o,["metadata"],r);const f=u(i,["done"]);f!=null&&c(o,["done"],f);const d=u(i,["error"]);d!=null&&c(o,["error"],d);const h=u(i,["response","generateVideoResponse"]);return h!=null&&c(o,["response"],aC(h)),o}function oC(i,t){const o={},s=u(i,["name"]);s!=null&&c(o,["name"],s);const r=u(i,["metadata"]);r!=null&&c(o,["metadata"],r);const f=u(i,["done"]);f!=null&&c(o,["done"],f);const d=u(i,["error"]);d!=null&&c(o,["error"],d);const h=u(i,["response"]);return h!=null&&c(o,["response"],rC(h)),o}function lC(i,t,o){const s={},r=u(t,["model"]);r!=null&&c(s,["_url","model"],Ee(i,r));const f=u(t,["prompt"]);f!=null&&c(s,["instances[0]","prompt"],f);const d=u(t,["image"]);d!=null&&c(s,["instances[0]","image"],Vs(d));const h=u(t,["video"]);h!=null&&c(s,["instances[0]","video"],dg(h));const y=u(t,["source"]);y!=null&&uC(y,s);const g=u(t,["config"]);return g!=null&&tC(g,s),s}function sC(i,t,o){const s={},r=u(t,["model"]);r!=null&&c(s,["_url","model"],Ee(i,r));const f=u(t,["prompt"]);f!=null&&c(s,["instances[0]","prompt"],f);const d=u(t,["image"]);d!=null&&c(s,["instances[0]","image"],Jt(d));const h=u(t,["video"]);h!=null&&c(s,["instances[0]","video"],pg(h));const y=u(t,["source"]);y!=null&&cC(y,s);const g=u(t,["config"]);return g!=null&&nC(g,s),s}function aC(i,t){const o={},s=u(i,["generatedSamples"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>pC(h))),c(o,["generatedVideos"],d)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&c(o,["raiMediaFilteredCount"],r);const f=u(i,["raiMediaFilteredReasons"]);return f!=null&&c(o,["raiMediaFilteredReasons"],f),o}function rC(i,t){const o={},s=u(i,["videos"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>mC(h))),c(o,["generatedVideos"],d)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&c(o,["raiMediaFilteredCount"],r);const f=u(i,["raiMediaFilteredReasons"]);return f!=null&&c(o,["raiMediaFilteredReasons"],f),o}function uC(i,t,o){const s={},r=u(i,["prompt"]);t!==void 0&&r!=null&&c(t,["instances[0]","prompt"],r);const f=u(i,["image"]);t!==void 0&&f!=null&&c(t,["instances[0]","image"],Vs(f));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],dg(d)),s}function cC(i,t,o){const s={},r=u(i,["prompt"]);t!==void 0&&r!=null&&c(t,["instances[0]","prompt"],r);const f=u(i,["image"]);t!==void 0&&f!=null&&c(t,["instances[0]","image"],Jt(f));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],pg(d)),s}function fC(i,t){const o={},s=u(i,["_self"]);s!=null&&c(o,["image"],EC(s));const r=u(i,["raiFilteredReason"]);r!=null&&c(o,["raiFilteredReason"],r);const f=u(i,["_self"]);return f!=null&&c(o,["safetyAttributes"],ug(f)),o}function Ps(i,t){const o={},s=u(i,["_self"]);s!=null&&c(o,["image"],rg(s));const r=u(i,["raiFilteredReason"]);r!=null&&c(o,["raiFilteredReason"],r);const f=u(i,["_self"]);f!=null&&c(o,["safetyAttributes"],cg(f));const d=u(i,["prompt"]);return d!=null&&c(o,["enhancedPrompt"],d),o}function dC(i,t){const o={},s=u(i,["_self"]);s!=null&&c(o,["mask"],rg(s));const r=u(i,["labels"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>d)),c(o,["labels"],f)}return o}function pC(i,t){const o={},s=u(i,["video"]);return s!=null&&c(o,["video"],eA(s)),o}function mC(i,t){const o={},s=u(i,["_self"]);return s!=null&&c(o,["video"],tA(s)),o}function hC(i,t){const o={},s=u(i,["modelSelectionConfig"]);s!=null&&c(o,["modelConfig"],s);const r=u(i,["responseJsonSchema"]);r!=null&&c(o,["responseJsonSchema"],r);const f=u(i,["audioTimestamp"]);f!=null&&c(o,["audioTimestamp"],f);const d=u(i,["candidateCount"]);d!=null&&c(o,["candidateCount"],d);const h=u(i,["enableAffectiveDialog"]);h!=null&&c(o,["enableAffectiveDialog"],h);const y=u(i,["frequencyPenalty"]);y!=null&&c(o,["frequencyPenalty"],y);const g=u(i,["logprobs"]);g!=null&&c(o,["logprobs"],g);const v=u(i,["maxOutputTokens"]);v!=null&&c(o,["maxOutputTokens"],v);const S=u(i,["mediaResolution"]);S!=null&&c(o,["mediaResolution"],S);const _=u(i,["presencePenalty"]);_!=null&&c(o,["presencePenalty"],_);const x=u(i,["responseLogprobs"]);x!=null&&c(o,["responseLogprobs"],x);const b=u(i,["responseMimeType"]);b!=null&&c(o,["responseMimeType"],b);const G=u(i,["responseModalities"]);G!=null&&c(o,["responseModalities"],G);const U=u(i,["responseSchema"]);U!=null&&c(o,["responseSchema"],U);const B=u(i,["routingConfig"]);B!=null&&c(o,["routingConfig"],B);const Y=u(i,["seed"]);Y!=null&&c(o,["seed"],Y);const F=u(i,["speechConfig"]);F!=null&&c(o,["speechConfig"],F);const J=u(i,["stopSequences"]);J!=null&&c(o,["stopSequences"],J);const z=u(i,["temperature"]);z!=null&&c(o,["temperature"],z);const ie=u(i,["thinkingConfig"]);ie!=null&&c(o,["thinkingConfig"],ie);const K=u(i,["topK"]);K!=null&&c(o,["topK"],K);const se=u(i,["topP"]);if(se!=null&&c(o,["topP"],se),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function gC(i,t,o){const s={},r=u(t,["model"]);return r!=null&&c(s,["_url","name"],Ee(i,r)),s}function yC(i,t,o){const s={},r=u(t,["model"]);return r!=null&&c(s,["_url","name"],Ee(i,r)),s}function vC(i,t){const o={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=u(i,["enableWidget"]);return s!=null&&c(o,["enableWidget"],s),o}function TC(i,t){const o={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=u(i,["timeRangeFilter"]);return s!=null&&c(o,["timeRangeFilter"],s),o}function SC(i,t){const o={},s=u(i,["aspectRatio"]);s!=null&&c(o,["aspectRatio"],s);const r=u(i,["imageSize"]);if(r!=null&&c(o,["imageSize"],r),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return o}function _C(i,t){const o={},s=u(i,["aspectRatio"]);s!=null&&c(o,["aspectRatio"],s);const r=u(i,["imageSize"]);r!=null&&c(o,["imageSize"],r);const f=u(i,["personGeneration"]);f!=null&&c(o,["personGeneration"],f);const d=u(i,["outputMimeType"]);d!=null&&c(o,["imageOutputOptions","mimeType"],d);const h=u(i,["outputCompressionQuality"]);return h!=null&&c(o,["imageOutputOptions","compressionQuality"],h),o}function EC(i,t){const o={},s=u(i,["bytesBase64Encoded"]);s!=null&&c(o,["imageBytes"],Yn(s));const r=u(i,["mimeType"]);return r!=null&&c(o,["mimeType"],r),o}function rg(i,t){const o={},s=u(i,["gcsUri"]);s!=null&&c(o,["gcsUri"],s);const r=u(i,["bytesBase64Encoded"]);r!=null&&c(o,["imageBytes"],Yn(r));const f=u(i,["mimeType"]);return f!=null&&c(o,["mimeType"],f),o}function Vs(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=u(i,["imageBytes"]);s!=null&&c(o,["bytesBase64Encoded"],Yn(s));const r=u(i,["mimeType"]);return r!=null&&c(o,["mimeType"],r),o}function Jt(i,t){const o={},s=u(i,["gcsUri"]);s!=null&&c(o,["gcsUri"],s);const r=u(i,["imageBytes"]);r!=null&&c(o,["bytesBase64Encoded"],Yn(r));const f=u(i,["mimeType"]);return f!=null&&c(o,["mimeType"],f),o}function CC(i,t,o,s){const r={},f=u(t,["pageSize"]);o!==void 0&&f!=null&&c(o,["_query","pageSize"],f);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const h=u(t,["filter"]);o!==void 0&&h!=null&&c(o,["_query","filter"],h);const y=u(t,["queryBase"]);return o!==void 0&&y!=null&&c(o,["_url","models_url"],tg(i,y)),r}function AC(i,t,o,s){const r={},f=u(t,["pageSize"]);o!==void 0&&f!=null&&c(o,["_query","pageSize"],f);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const h=u(t,["filter"]);o!==void 0&&h!=null&&c(o,["_query","filter"],h);const y=u(t,["queryBase"]);return o!==void 0&&y!=null&&c(o,["_url","models_url"],tg(i,y)),r}function xC(i,t,o){const s={},r=u(t,["config"]);return r!=null&&CC(i,r,s),s}function NC(i,t,o){const s={},r=u(t,["config"]);return r!=null&&AC(i,r,s),s}function RC(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["_self"]);if(f!=null){let d=ng(f);Array.isArray(d)&&(d=d.map(h=>Eu(h))),c(o,["models"],d)}return o}function MC(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["_self"]);if(f!=null){let d=ng(f);Array.isArray(d)&&(d=d.map(h=>Cu(h))),c(o,["models"],d)}return o}function bC(i,t){const o={},s=u(i,["maskMode"]);s!=null&&c(o,["maskMode"],s);const r=u(i,["segmentationClasses"]);r!=null&&c(o,["maskClasses"],r);const f=u(i,["maskDilation"]);return f!=null&&c(o,["dilation"],f),o}function Eu(i,t){const o={},s=u(i,["name"]);s!=null&&c(o,["name"],s);const r=u(i,["displayName"]);r!=null&&c(o,["displayName"],r);const f=u(i,["description"]);f!=null&&c(o,["description"],f);const d=u(i,["version"]);d!=null&&c(o,["version"],d);const h=u(i,["_self"]);h!=null&&c(o,["tunedModelInfo"],YC(h));const y=u(i,["inputTokenLimit"]);y!=null&&c(o,["inputTokenLimit"],y);const g=u(i,["outputTokenLimit"]);g!=null&&c(o,["outputTokenLimit"],g);const v=u(i,["supportedGenerationMethods"]);v!=null&&c(o,["supportedActions"],v);const S=u(i,["temperature"]);S!=null&&c(o,["temperature"],S);const _=u(i,["maxTemperature"]);_!=null&&c(o,["maxTemperature"],_);const x=u(i,["topP"]);x!=null&&c(o,["topP"],x);const b=u(i,["topK"]);b!=null&&c(o,["topK"],b);const G=u(i,["thinking"]);return G!=null&&c(o,["thinking"],G),o}function Cu(i,t){const o={},s=u(i,["name"]);s!=null&&c(o,["name"],s);const r=u(i,["displayName"]);r!=null&&c(o,["displayName"],r);const f=u(i,["description"]);f!=null&&c(o,["description"],f);const d=u(i,["versionId"]);d!=null&&c(o,["version"],d);const h=u(i,["deployedModels"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(x=>BE(x))),c(o,["endpoints"],_)}const y=u(i,["labels"]);y!=null&&c(o,["labels"],y);const g=u(i,["_self"]);g!=null&&c(o,["tunedModelInfo"],JC(g));const v=u(i,["defaultCheckpointId"]);v!=null&&c(o,["defaultCheckpointId"],v);const S=u(i,["checkpoints"]);if(S!=null){let _=S;Array.isArray(_)&&(_=_.map(x=>x)),c(o,["checkpoints"],_)}return o}function IC(i,t){const o={},s=u(i,["mediaResolution"]);s!=null&&c(o,["mediaResolution"],s);const r=u(i,["codeExecutionResult"]);r!=null&&c(o,["codeExecutionResult"],r);const f=u(i,["executableCode"]);f!=null&&c(o,["executableCode"],f);const d=u(i,["fileData"]);d!=null&&c(o,["fileData"],OE(d));const h=u(i,["functionCall"]);h!=null&&c(o,["functionCall"],FE(h));const y=u(i,["functionResponse"]);y!=null&&c(o,["functionResponse"],y);const g=u(i,["inlineData"]);g!=null&&c(o,["inlineData"],hE(g));const v=u(i,["text"]);v!=null&&c(o,["text"],v);const S=u(i,["thought"]);S!=null&&c(o,["thought"],S);const _=u(i,["thoughtSignature"]);_!=null&&c(o,["thoughtSignature"],_);const x=u(i,["videoMetadata"]);return x!=null&&c(o,["videoMetadata"],x),o}function DC(i,t){const o={},s=u(i,["productImage"]);return s!=null&&c(o,["image"],Jt(s)),o}function wC(i,t,o){const s={},r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&c(t,["parameters","sampleCount"],r);const f=u(i,["baseSteps"]);t!==void 0&&f!=null&&c(t,["parameters","baseSteps"],f);const d=u(i,["outputGcsUri"]);t!==void 0&&d!=null&&c(t,["parameters","storageUri"],d);const h=u(i,["seed"]);t!==void 0&&h!=null&&c(t,["parameters","seed"],h);const y=u(i,["safetyFilterLevel"]);t!==void 0&&y!=null&&c(t,["parameters","safetySetting"],y);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const v=u(i,["addWatermark"]);t!==void 0&&v!=null&&c(t,["parameters","addWatermark"],v);const S=u(i,["outputMimeType"]);t!==void 0&&S!=null&&c(t,["parameters","outputOptions","mimeType"],S);const _=u(i,["outputCompressionQuality"]);t!==void 0&&_!=null&&c(t,["parameters","outputOptions","compressionQuality"],_);const x=u(i,["enhancePrompt"]);t!==void 0&&x!=null&&c(t,["parameters","enhancePrompt"],x);const b=u(i,["labels"]);return t!==void 0&&b!=null&&c(t,["labels"],b),s}function UC(i,t,o){const s={},r=u(t,["model"]);r!=null&&c(s,["_url","model"],Ee(i,r));const f=u(t,["source"]);f!=null&&GC(f,s);const d=u(t,["config"]);return d!=null&&wC(d,s),s}function LC(i,t){const o={},s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>Ps(f))),c(o,["generatedImages"],r)}return o}function GC(i,t,o){const s={},r=u(i,["prompt"]);t!==void 0&&r!=null&&c(t,["instances[0]","prompt"],r);const f=u(i,["personImage"]);t!==void 0&&f!=null&&c(t,["instances[0]","personImage","image"],Jt(f));const d=u(i,["productImages"]);if(t!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(y=>DC(y))),c(t,["instances[0]","productImages"],h)}return s}function HC(i,t){const o={},s=u(i,["referenceImage"]);s!=null&&c(o,["referenceImage"],Jt(s));const r=u(i,["referenceId"]);r!=null&&c(o,["referenceId"],r);const f=u(i,["referenceType"]);f!=null&&c(o,["referenceType"],f);const d=u(i,["maskImageConfig"]);d!=null&&c(o,["maskImageConfig"],bC(d));const h=u(i,["controlImageConfig"]);h!=null&&c(o,["controlImageConfig"],EE(h));const y=u(i,["styleImageConfig"]);y!=null&&c(o,["styleImageConfig"],y);const g=u(i,["subjectImageConfig"]);return g!=null&&c(o,["subjectImageConfig"],g),o}function ug(i,t){const o={},s=u(i,["safetyAttributes","categories"]);s!=null&&c(o,["categories"],s);const r=u(i,["safetyAttributes","scores"]);r!=null&&c(o,["scores"],r);const f=u(i,["contentType"]);return f!=null&&c(o,["contentType"],f),o}function cg(i,t){const o={},s=u(i,["safetyAttributes","categories"]);s!=null&&c(o,["categories"],s);const r=u(i,["safetyAttributes","scores"]);r!=null&&c(o,["scores"],r);const f=u(i,["contentType"]);return f!=null&&c(o,["contentType"],f),o}function PC(i,t){const o={},s=u(i,["category"]);if(s!=null&&c(o,["category"],s),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(i,["threshold"]);return r!=null&&c(o,["threshold"],r),o}function VC(i,t){const o={},s=u(i,["image"]);return s!=null&&c(o,["image"],Jt(s)),o}function qC(i,t,o){const s={},r=u(i,["mode"]);t!==void 0&&r!=null&&c(t,["parameters","mode"],r);const f=u(i,["maxPredictions"]);t!==void 0&&f!=null&&c(t,["parameters","maxPredictions"],f);const d=u(i,["confidenceThreshold"]);t!==void 0&&d!=null&&c(t,["parameters","confidenceThreshold"],d);const h=u(i,["maskDilation"]);t!==void 0&&h!=null&&c(t,["parameters","maskDilation"],h);const y=u(i,["binaryColorThreshold"]);t!==void 0&&y!=null&&c(t,["parameters","binaryColorThreshold"],y);const g=u(i,["labels"]);return t!==void 0&&g!=null&&c(t,["labels"],g),s}function zC(i,t,o){const s={},r=u(t,["model"]);r!=null&&c(s,["_url","model"],Ee(i,r));const f=u(t,["source"]);f!=null&&BC(f,s);const d=u(t,["config"]);return d!=null&&qC(d,s),s}function kC(i,t){const o={},s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>dC(f))),c(o,["generatedMasks"],r)}return o}function BC(i,t,o){const s={},r=u(i,["prompt"]);t!==void 0&&r!=null&&c(t,["instances[0]","prompt"],r);const f=u(i,["image"]);t!==void 0&&f!=null&&c(t,["instances[0]","image"],Jt(f));const d=u(i,["scribbleImage"]);return t!==void 0&&d!=null&&c(t,["instances[0]","scribble"],VC(d)),s}function OC(i,t){const o={},s=u(i,["retrievalConfig"]);s!=null&&c(o,["retrievalConfig"],s);const r=u(i,["functionCallingConfig"]);return r!=null&&c(o,["functionCallingConfig"],YE(r)),o}function FC(i,t){const o={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["computerUse"]);s!=null&&c(o,["computerUse"],s);const r=u(i,["fileSearch"]);r!=null&&c(o,["fileSearch"],r);const f=u(i,["codeExecution"]);if(f!=null&&c(o,["codeExecution"],f),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(_=>_)),c(o,["functionDeclarations"],S)}const h=u(i,["googleMaps"]);h!=null&&c(o,["googleMaps"],vC(h));const y=u(i,["googleSearch"]);y!=null&&c(o,["googleSearch"],TC(y));const g=u(i,["googleSearchRetrieval"]);g!=null&&c(o,["googleSearchRetrieval"],g);const v=u(i,["urlContext"]);return v!=null&&c(o,["urlContext"],v),o}function fg(i,t){const o={},s=u(i,["retrieval"]);s!=null&&c(o,["retrieval"],s);const r=u(i,["computerUse"]);if(r!=null&&c(o,["computerUse"],r),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=u(i,["codeExecution"]);f!=null&&c(o,["codeExecution"],f);const d=u(i,["enterpriseWebSearch"]);d!=null&&c(o,["enterpriseWebSearch"],d);const h=u(i,["functionDeclarations"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(x=>JE(x))),c(o,["functionDeclarations"],_)}const y=u(i,["googleMaps"]);y!=null&&c(o,["googleMaps"],y);const g=u(i,["googleSearch"]);g!=null&&c(o,["googleSearch"],g);const v=u(i,["googleSearchRetrieval"]);v!=null&&c(o,["googleSearchRetrieval"],v);const S=u(i,["urlContext"]);return S!=null&&c(o,["urlContext"],S),o}function YC(i,t){const o={},s=u(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["createTime"]);r!=null&&c(o,["createTime"],r);const f=u(i,["updateTime"]);return f!=null&&c(o,["updateTime"],f),o}function JC(i,t){const o={},s=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["createTime"]);r!=null&&c(o,["createTime"],r);const f=u(i,["updateTime"]);return f!=null&&c(o,["updateTime"],f),o}function KC(i,t,o){const s={},r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["description"]);t!==void 0&&f!=null&&c(t,["description"],f);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),s}function XC(i,t,o){const s={},r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["description"]);t!==void 0&&f!=null&&c(t,["description"],f);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),s}function QC(i,t,o){const s={},r=u(t,["model"]);r!=null&&c(s,["_url","name"],Ee(i,r));const f=u(t,["config"]);return f!=null&&KC(f,s),s}function ZC(i,t,o){const s={},r=u(t,["model"]);r!=null&&c(s,["_url","model"],Ee(i,r));const f=u(t,["config"]);return f!=null&&XC(f,s),s}function $C(i,t,o){const s={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["safetyFilterLevel"]);t!==void 0&&f!=null&&c(t,["parameters","safetySetting"],f);const d=u(i,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const y=u(i,["outputMimeType"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","mimeType"],y);const g=u(i,["outputCompressionQuality"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","compressionQuality"],g);const v=u(i,["enhanceInputImage"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],v);const S=u(i,["imagePreservationFactor"]);t!==void 0&&S!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],S);const _=u(i,["labels"]);t!==void 0&&_!=null&&c(t,["labels"],_);const x=u(i,["numberOfImages"]);t!==void 0&&x!=null&&c(t,["parameters","sampleCount"],x);const b=u(i,["mode"]);return t!==void 0&&b!=null&&c(t,["parameters","mode"],b),s}function WC(i,t,o){const s={},r=u(t,["model"]);r!=null&&c(s,["_url","model"],Ee(i,r));const f=u(t,["image"]);f!=null&&c(s,["instances[0]","image"],Jt(f));const d=u(t,["upscaleFactor"]);d!=null&&c(s,["parameters","upscaleConfig","upscaleFactor"],d);const h=u(t,["config"]);return h!=null&&$C(h,s),s}function jC(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>Ps(d))),c(o,["generatedImages"],f)}return o}function eA(i,t){const o={},s=u(i,["uri"]);s!=null&&c(o,["uri"],s);const r=u(i,["encodedVideo"]);r!=null&&c(o,["videoBytes"],Yn(r));const f=u(i,["encoding"]);return f!=null&&c(o,["mimeType"],f),o}function tA(i,t){const o={},s=u(i,["gcsUri"]);s!=null&&c(o,["uri"],s);const r=u(i,["bytesBase64Encoded"]);r!=null&&c(o,["videoBytes"],Yn(r));const f=u(i,["mimeType"]);return f!=null&&c(o,["mimeType"],f),o}function nA(i,t){const o={},s=u(i,["image"]);s!=null&&c(o,["_self"],Jt(s));const r=u(i,["maskMode"]);return r!=null&&c(o,["maskMode"],r),o}function iA(i,t){const o={},s=u(i,["image"]);s!=null&&c(o,["image"],Vs(s));const r=u(i,["referenceType"]);return r!=null&&c(o,["referenceType"],r),o}function oA(i,t){const o={},s=u(i,["image"]);s!=null&&c(o,["image"],Jt(s));const r=u(i,["referenceType"]);return r!=null&&c(o,["referenceType"],r),o}function dg(i,t){const o={},s=u(i,["uri"]);s!=null&&c(o,["uri"],s);const r=u(i,["videoBytes"]);r!=null&&c(o,["encodedVideo"],Yn(r));const f=u(i,["mimeType"]);return f!=null&&c(o,["encoding"],f),o}function pg(i,t){const o={},s=u(i,["uri"]);s!=null&&c(o,["gcsUri"],s);const r=u(i,["videoBytes"]);r!=null&&c(o,["bytesBase64Encoded"],Yn(r));const f=u(i,["mimeType"]);return f!=null&&c(o,["mimeType"],f),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lA(i,t){const o={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&c(t,["displayName"],s),o}function sA(i){const t={},o=u(i,["config"]);return o!=null&&lA(o,t),t}function aA(i,t){const o={},s=u(i,["force"]);return t!==void 0&&s!=null&&c(t,["_query","force"],s),o}function rA(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const s=u(i,["config"]);return s!=null&&aA(s,t),t}function uA(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function cA(i,t){const o={},s=u(i,["customMetadata"]);if(t!==void 0&&s!=null){let f=s;Array.isArray(f)&&(f=f.map(d=>d)),c(t,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function fA(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const d=u(i,["response"]);return d!=null&&c(t,["response"],pA(d)),t}function dA(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const s=u(i,["fileName"]);s!=null&&c(t,["fileName"],s);const r=u(i,["config"]);return r!=null&&cA(r,t),t}function pA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function mA(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function hA(i){const t={},o=u(i,["config"]);return o!=null&&mA(o,t),t}function gA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>d)),c(t,["fileSearchStores"],f)}return t}function mg(i,t){const o={},s=u(i,["mimeType"]);t!==void 0&&s!=null&&c(t,["mimeType"],s);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["customMetadata"]);if(t!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>y)),c(t,["customMetadata"],h)}const d=u(i,["chunkingConfig"]);return t!==void 0&&d!=null&&c(t,["chunkingConfig"],d),o}function yA(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const s=u(i,["config"]);return s!=null&&mg(s,t),t}function vA(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TA="Content-Type",SA="X-Server-Timeout",_A="User-Agent",Au="x-goog-api-client",EA="1.40.0",CA=`google-genai-sdk/${EA}`,AA="v1beta1",xA="v1beta";class NA{constructor(t){var o,s,r;this.clientOptions=Object.assign({},t),this.customBaseUrl=(o=t.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const f={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const h=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!h?(f.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?f.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(f.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),f.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:AA}else{if(!this.clientOptions.apiKey)throw new ol({message:"API key must be set when using the Gemini API.",status:403});f.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:xA,f.baseUrl="https://generativelanguage.googleapis.com/"}f.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=f,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(f,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&s.push(t.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,s){const r=[this.getRequestUrlInternal(o)];return s&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t,o){return!(o.baseUrl&&o.baseUrlResourceScope===vu.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,s);if(t.queryParams)for(const[d,h]of Object.entries(t.queryParams))r.searchParams.append(d,String(h));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,o){const s=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(o))typeof f=="object"?s[r]=Object.assign(Object.assign({},s[r]),f):f!==void 0&&(s[r]=f);return s}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,s,r){if(o&&o.timeout||r){const f=new AbortController,d=f.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const h=setTimeout(()=>f.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=d}return o&&o.extraBody!==null&&RA(t,o.extraBody),t.headers=await this.getHeadersInternal(o,s),t}async unaryApiCall(t,o,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await Ah(r),new Tu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await Ah(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Ft(this,arguments,function*(){var s;const r=(s=t==null?void 0:t.body)===null||s===void 0?void 0:s.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let d="";const h="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:g,value:v}=yield ae(r.read());if(g){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=f.decode(v,{stream:!0});try{const b=JSON.parse(S);if("error"in b){const G=JSON.parse(JSON.stringify(b.error)),U=G.status,B=G.code,Y=`got status: ${U}. ${JSON.stringify(b)}`;if(B>=400&&B<600)throw new ol({message:Y,status:B})}}catch(b){if(b.name==="ApiError")throw b}d+=S;let _=-1,x=0;for(;;){_=-1,x=0;for(const U of y){const B=d.indexOf(U);B!==-1&&(_===-1||B<_)&&(_=B,x=U.length)}if(_===-1)break;const b=d.substring(0,_);d=d.substring(_+x);const G=b.trim();if(G.startsWith(h)){const U=G.substring(h.length).trim();try{const B=new Response(U,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ae(new Tu(B))}catch(B){throw new Error(`exception parsing stream chunk ${U}. ${B}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const t={},o=CA+" "+this.clientOptions.userAgentExtra;return t[_A]=o,t[Au]=o,t[TA]="application/json",t}async getHeadersInternal(t,o){const s=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))s.append(r,f);t.timeout&&t.timeout>0&&s.append(SA,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(t){var o;let s="";return typeof t=="string"&&(s=t.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(t,o){var s;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,d=await f.stat(t);r.sizeBytes=String(d.size);const h=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const y={file:r},g=this.getFileName(t),v=Q("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,g,y,o==null?void 0:o.httpOptions);return f.upload(t,S,this)}async uploadFileToFileSearchStore(t,o,s){var r;const f=this.clientOptions.uploader,d=await f.stat(o),h=String(d.size),y=(r=s==null?void 0:s.mimeType)!==null&&r!==void 0?r:d.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),S={};s!=null&&mg(s,S);const _=await this.fetchUploadUrl(g,h,y,v,S,s==null?void 0:s.httpOptions);return f.uploadToFileSearchStore(o,_,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,s,r,f,d){var h;let y={};d?y=d:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const g=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=g==null?void 0:g.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Ah(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let s;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await i.json():s={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(s);throw o>=400&&o<600?new ol({message:r,status:o}):new Error(r)}}function RA(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(f,d){const h=Object.assign({},f);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const g=d[y],v=h[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=s(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),h[y]=g)}return h}const r=s(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MA="mcp_used/unknown";let bA=!1;function hg(i){for(const t of i)if(IA(t)||typeof t=="object"&&"inputSchema"in t)return!0;return bA}function gg(i){var t;const o=(t=i[Au])!==null&&t!==void 0?t:"";i[Au]=(o+` ${MA}`).trimStart()}function IA(i){return i!==null&&typeof i=="object"&&i instanceof ku}function DA(i){return Ft(this,arguments,function*(o,s=100){let r,f=0;for(;f<s;){const d=yield ae(o.listTools({cursor:r}));for(const h of d.tools)yield yield ae(h),f++;if(!d.nextCursor)break;r=d.nextCursor}})}class ku{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new ku(t,o)}async initialize(){var t,o,s,r;if(this.mcpTools.length>0)return;const f={},d=[];for(const v of this.mcpClients)try{for(var h=!0,y=(o=void 0,Yt(DA(v))),g;g=await y.next(),t=g.done,!t;h=!0){r=g.value,h=!1;const S=r;d.push(S);const _=S.name;if(f[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);f[_]=v}}catch(S){o={error:S}}finally{try{!h&&!t&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=d,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),sS(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const s of t)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const d=await r.callTool({name:s.name,arguments:s.args},void 0,f);o.push({functionResponse:{name:s.name,response:d.isError?{error:d}:d}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function wA(i,t,o){const s=new WT;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(s,r),t(s)}class UA{constructor(t,o,s){this.apiClient=t,this.auth=o,this.webSocketFactory=s}async connect(t){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),d=HA(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${h}`;let g=()=>{};const v=new Promise(F=>{g=F}),S=t.callbacks,_=function(){g({})},x=this.apiClient,b={onopen:_,onmessage:F=>{wA(x,S.onmessage,F)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(F){},onclose:(s=S==null?void 0:S.onclose)!==null&&s!==void 0?s:function(F){}},G=this.webSocketFactory.create(y,GA(d),b);G.connect(),await v;const Y={setup:{model:Ee(this.apiClient,t.model)}};return G.send(JSON.stringify(Y)),new LA(G,this.apiClient)}}class LA{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=lE(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=oE(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Wi.PLAY)}pause(){this.sendPlaybackControl(Wi.PAUSE)}stop(){this.sendPlaybackControl(Wi.STOP)}resetContext(){this.sendPlaybackControl(Wi.RESET_CONTEXT)}close(){this.conn.close()}}function GA(i){const t={};return i.forEach((o,s)=>{t[s]=o}),t}function HA(i){const t=new Headers;for(const[o,s]of Object.entries(i))t.append(o,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function VA(i,t,o){const s=new $T;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const f=JSON.parse(r);if(i.isVertexAI()){const d=rE(f);Object.assign(s,d)}else Object.assign(s,f);t(s)}class qA{constructor(t,o,s){this.apiClient=t,this.auth=o,this.webSocketFactory=s,this.music=new UA(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,s,r,f,d,h;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&hg(t.config.tools)&&gg(S);const _=OA(S);if(this.apiClient.isVertexAI()){const $=this.apiClient.getProject(),O=this.apiClient.getLocation(),le=this.apiClient.getApiKey(),ve=!!$&&!!O||!!le;this.apiClient.getCustomBaseUrl()&&!ve?v=y:(v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,v))}else{const $=this.apiClient.getApiKey();let O="BidiGenerateContent",le="key";$!=null&&$.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),O="BidiGenerateContentConstrained",le="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${O}?${le}=${$}`}let x=()=>{};const b=new Promise($=>{x=$}),G=t.callbacks,U=function(){var $;($=G==null?void 0:G.onopen)===null||$===void 0||$.call(G),x({})},B=this.apiClient,Y={onopen:U,onmessage:$=>{VA(B,G.onmessage,$)},onerror:(o=G==null?void 0:G.onerror)!==null&&o!==void 0?o:function($){},onclose:(s=G==null?void 0:G.onclose)!==null&&s!==void 0?s:function($){}},F=this.webSocketFactory.create(v,BA(_),Y);F.connect(),await b;let J=Ee(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const $=this.apiClient.getProject(),O=this.apiClient.getLocation();$&&O&&(J=`projects/${$}/locations/${O}/`+J)}let z={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Is.AUDIO]}:t.config.responseModalities=[Is.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ie=(h=(d=t.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],K=[];for(const $ of ie)if(this.isCallableTool($)){const O=$;K.push(await O.tool())}else K.push($);K.length>0&&(t.config.tools=K);const se={model:J,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?z=iE(this.apiClient,se):z=nE(this.apiClient,se),delete z.config,F.send(JSON.stringify(z)),new kA(F,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const zA={turnComplete:!0};class kA{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=qt(o.turns),t.isVertexAI()||(s=s.map(r=>Hs(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const f of s){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(PA)}return{toolResponse:{functionResponses:s}}}sendClientContent(t){t=Object.assign(Object.assign({},zA),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:aE(t)}:o={realtimeInput:sE(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function BA(i){const t={};return i.forEach((o,s)=>{t[s]=o}),t}function OA(i){const t=new Headers;for(const[o,s]of Object.entries(i))t.append(o,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xh=10;function Nh(i){var t,o,s;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const d of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(to(d)){r=!0;break}if(!r)return!0;const f=(s=i==null?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function to(i){return"callTool"in i&&typeof i.callTool=="function"}function FA(i){var t,o,s;return(s=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>to(r)))!==null&&s!==void 0?s:!1}function Rh(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((s,r)=>{if(to(s))return;const f=s;f.functionDeclarations&&f.functionDeclarations.length>0&&o.push(r)}),o}function Mh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YA extends yn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var s,r,f,d,h;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!FA(o)||Nh(o.config))return await this.generateContentInternal(y);const g=Rh(o);if(g.length>0){const G=g.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${G}.`)}let v,S;const _=qt(y.contents),x=(f=(r=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:xh;let b=0;for(;b<x&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const G=v.candidates[0].content,U=[];for(const B of(h=(d=o.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(to(B)){const F=await B.callTool(v.functionCalls);U.push(...F)}b++,S={role:"user",parts:U},y.contents=qt(y.contents),y.contents.push(G),y.contents.push(S),Mh(y.config)&&(_.push(G),_.push(S))}return Mh(y.config)&&(v.automaticFunctionCallingHistory=_),v},this.generateContentStream=async o=>{var s,r,f,d,h;if(this.maybeMoveToResponseJsonSchem(o),Nh(o.config)){const S=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(S)}const y=Rh(o);if(y.length>0){const S=y.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(f=(r=(s=o==null?void 0:o.config)===null||s===void 0?void 0:s.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(h=(d=o==null?void 0:o.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(g&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var r;let f;const d=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:d.push(y);let h;return f?h={generatedImages:d,positivePromptSafetyAttributes:f,sdkHttpResponse:s.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:s.sdkHttpResponse},h}),this.list=async o=>{var s;const d={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((s=d.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new di(gn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var s,r,f,d,h,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((d=(f=o.source)===null||f===void 0?void 0:f.video)===null||d===void 0)&&d.uri&&(!((y=(h=o.source)===null||h===void 0?void 0:h.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,s,r;const f=(o=t.config)===null||o===void 0?void 0:o.tools;if(!f)return t;const d=await Promise.all(f.map(async y=>to(y)?await y.tool():y)),h={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:d})};if(h.config.tools=d,t.config&&t.config.tools&&hg(t.config.tools)){const y=(r=(s=t.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),gg(g),h.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:g})}return h}async initAfcToolsMap(t){var o,s,r;const f=new Map;for(const d of(s=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(to(d)){const h=d,y=await h.tool();for(const g of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!g.name)throw new Error("Function declaration name is required.");if(f.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);f.set(g.name,h)}}return f}async processAfcStream(t){var o,s,r;const f=(r=(s=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:xh;let d=!1,h=0;const y=await this.initAfcToolsMap(t);return(function(g,v,S){return Ft(this,arguments,function*(){for(var _,x,b,G,U,B;h<f;){d&&(h++,d=!1);const z=yield ae(g.processParamsMaybeAddMcpUsage(S)),ie=yield ae(g.generateContentStreamInternal(z)),K=[],se=[];try{for(var Y=!0,F=(x=void 0,Yt(ie)),J;J=yield ae(F.next()),_=J.done,!_;Y=!0){G=J.value,Y=!1;const $=G;if(yield yield ae($),$.candidates&&(!((U=$.candidates[0])===null||U===void 0)&&U.content)){se.push($.candidates[0].content);for(const O of(B=$.candidates[0].content.parts)!==null&&B!==void 0?B:[])if(h<f&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(O.functionCall.name)){const le=yield ae(v.get(O.functionCall.name).callTool([O.functionCall]));K.push(...le)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch($){x={error:$}}finally{try{!Y&&!_&&(b=F.return)&&(yield ae(b.call(F)))}finally{if(x)throw x.error}}if(K.length>0){d=!0;const $=new tl;$.candidates=[{content:{role:"user",parts:K}}],yield yield ae($);const O=[];O.push(...se),O.push({role:"user",parts:K});const le=qt(S.contents).concat(O);S.contents=le}else break}})})(this,y,t)}async generateContentInternal(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=_h(this.apiClient,t);return h=Q("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=Ch(v),_=new tl;return Object.assign(_,S),_})}else{const g=Sh(this.apiClient,t);return h=Q("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=Eh(v),_=new tl;return Object.assign(_,S),_})}}async generateContentStreamInternal(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=_h(this.apiClient,t);return h=Q("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),d.then(function(S){return Ft(this,arguments,function*(){var _,x,b,G;try{for(var U=!0,B=Yt(S),Y;Y=yield ae(B.next()),_=Y.done,!_;U=!0){G=Y.value,U=!1;const F=G,J=Ch(yield ae(F.json()),t);J.sdkHttpResponse={headers:F.headers};const z=new tl;Object.assign(z,J),yield yield ae(z)}}catch(F){x={error:F}}finally{try{!U&&!_&&(b=B.return)&&(yield ae(b.call(B)))}finally{if(x)throw x.error}}})})}else{const g=Sh(this.apiClient,t);return h=Q("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),d.then(function(S){return Ft(this,arguments,function*(){var _,x,b,G;try{for(var U=!0,B=Yt(S),Y;Y=yield ae(B.next()),_=Y.done,!_;U=!0){G=Y.value,U=!1;const F=G,J=Eh(yield ae(F.json()),t);J.sdkHttpResponse={headers:F.headers};const z=new tl;Object.assign(z,J),yield yield ae(z)}}catch(F){x={error:F}}finally{try{!U&&!_&&(b=B.return)&&(yield ae(b.call(B)))}finally{if(x)throw x.error}}})})}}async embedContent(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=qE(this.apiClient,t);return h=Q("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=kE(v),_=new ih;return Object.assign(_,S),_})}else{const g=VE(this.apiClient,t);return h=Q("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=zE(v),_=new ih;return Object.assign(_,S),_})}}async generateImagesInternal(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=WE(this.apiClient,t);return h=Q("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=eC(v),_=new oh;return Object.assign(_,S),_})}else{const g=$E(this.apiClient,t);return h=Q("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=jE(v),_=new oh;return Object.assign(_,S),_})}}async editImageInternal(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI()){const h=LE(this.apiClient,t);return f=Q("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=GE(y),v=new qT;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI()){const h=WC(this.apiClient,t);return f=Q("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=jC(y),v=new zT;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI()){const h=UC(this.apiClient,t);return f=Q("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const g=LC(y),v=new kT;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI()){const h=zC(this.apiClient,t);return f=Q("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const g=kC(y),v=new BT;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=yC(this.apiClient,t);return h=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>Cu(v))}else{const g=gC(this.apiClient,t);return h=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d.then(v=>Eu(v))}}async listInternal(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=NC(this.apiClient,t);return h=Q("{models_url}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=MC(v),_=new lh;return Object.assign(_,S),_})}else{const g=xC(this.apiClient,t);return h=Q("{models_url}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=RC(v),_=new lh;return Object.assign(_,S),_})}}async update(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=ZC(this.apiClient,t);return h=Q("{model}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>Cu(v))}else{const g=QC(this.apiClient,t);return h=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d.then(v=>Eu(v))}}async delete(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=IE(this.apiClient,t);return h=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=wE(v),_=new sh;return Object.assign(_,S),_})}else{const g=bE(this.apiClient,t);return h=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=DE(v),_=new sh;return Object.assign(_,S),_})}}async countTokens(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=NE(this.apiClient,t);return h=Q("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=ME(v),_=new ah;return Object.assign(_,S),_})}else{const g=xE(this.apiClient,t);return h=Q("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=RE(v),_=new ah;return Object.assign(_,S),_})}}async computeTokens(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI()){const h=vE(this.apiClient,t);return f=Q("{model}:computeTokens",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=TE(y),v=new OT;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=sC(this.apiClient,t);return h=Q("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>{const S=oC(v),_=new Ds;return Object.assign(_,S),_})}else{const g=lC(this.apiClient,t);return h=Q("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d.then(v=>{const S=iC(v),_=new Ds;return Object.assign(_,S),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JA extends yn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,s=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;s&&"httpOptions"in s&&(f=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,s=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;s&&"httpOptions"in s&&(f=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=UT(t);return h=Q("{operationName}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d}else{const g=wT(t);return h=Q("{operationName}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI()){const h=xT(t);return f=Q("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KA(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function XA(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>ix(f))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function QA(i,t,o){const s={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);o!==void 0&&f!=null&&c(o,["newSessionExpireTime"],f);const d=u(t,["uses"]);o!==void 0&&d!=null&&c(o,["uses"],d);const h=u(t,["liveConnectConstraints"]);o!==void 0&&h!=null&&c(o,["bidiGenerateContentSetup"],nx(i,h));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),s}function ZA(i,t){const o={},s=u(t,["config"]);return s!=null&&c(o,["config"],QA(i,s,o)),o}function $A(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function WA(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function jA(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function ex(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function tx(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const d=u(i,["topP"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","topP"],d);const h=u(i,["topK"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topK"],h);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],zu(S));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const x=u(i,["enableAffectiveDialog"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],x);const b=u(i,["systemInstruction"]);t!==void 0&&b!=null&&c(t,["setup","systemInstruction"],XA(st(b)));const G=u(i,["tools"]);if(t!==void 0&&G!=null){let ie=io(G);Array.isArray(ie)&&(ie=ie.map(K=>lx(no(K)))),c(t,["setup","tools"],ie)}const U=u(i,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],ox(U));const B=u(i,["inputAudioTranscription"]);t!==void 0&&B!=null&&c(t,["setup","inputAudioTranscription"],B);const Y=u(i,["outputAudioTranscription"]);t!==void 0&&Y!=null&&c(t,["setup","outputAudioTranscription"],Y);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&c(t,["setup","contextWindowCompression"],J);const z=u(i,["proactivity"]);if(t!==void 0&&z!=null&&c(t,["setup","proactivity"],z),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function nx(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["setup","model"],Ee(i,s));const r=u(t,["config"]);return r!=null&&c(o,["config"],tx(r,o)),o}function ix(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],$A(f));const d=u(i,["functionCall"]);d!=null&&c(t,["functionCall"],WA(d));const h=u(i,["functionResponse"]);h!=null&&c(t,["functionResponse"],h);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],KA(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function ox(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function lx(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&c(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}const d=u(i,["googleMaps"]);d!=null&&c(t,["googleMaps"],jA(d));const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],ex(h));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sx(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const s=i[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(f=>`${o}.${f}`);t.push(...r)}else t.push(o)}return t.join(",")}function ax(i,t){let o=null;const s=i.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const f=s.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,o=f):delete i.bidiGenerateContentSetup}else s!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const f=sx(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(g=>d.includes(g)?`generationConfig.${g}`:g));const y=[];f&&y.push(f),h.length>0&&y.push(...h),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class rx extends yn{constructor(t){super(),this.apiClient=t}async create(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=ZA(this.apiClient,t);f=Q("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const y=ax(h,t.config);return r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ux(i,t){const o={},s=u(i,["force"]);return t!==void 0&&s!=null&&c(t,["_query","force"],s),o}function cx(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const s=u(i,["config"]);return s!=null&&ux(s,t),t}function fx(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function dx(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function px(i){const t={},o=u(i,["parent"]);o!=null&&c(t,["_url","parent"],o);const s=u(i,["config"]);return s!=null&&dx(s,t),t}function mx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>d)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hx extends yn{constructor(t){super(),this.apiClient=t,this.list=async o=>new di(gn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=fx(t);return f=Q("{name}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,s;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=cx(t);r=Q("{name}",d._url),f=d._query,delete d._url,delete d._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=px(t);return f=Q("{parent}/documents",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const g=mx(y),v=new FT;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gx extends yn{constructor(t,o=new hx(t)){super(),this.apiClient=t,this.documents=o,this.list=async(s={})=>new di(gn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=sA(t);return f=Q("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=uA(t);return f=Q("{name}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,s;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=rA(t);r=Q("{name}",d._url),f=d._query,delete d._url,delete d._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=hA(t);return f=Q("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const g=gA(y),v=new YT;return Object.assign(v,g),v})}}async uploadToFileSearchStoreInternal(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=yA(t);return f=Q("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const g=vA(y),v=new JT;return Object.assign(v,g),v})}}async importFile(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=dA(t);return f=Q("{file_search_store_name}:importFile",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const g=fA(y),v=new Gu;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let yg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return yg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^o()&15>>+s/4).toString(16))};const yx=()=>yg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Nu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zt extends Error{}class ct extends zt{constructor(t,o,s,r){super(`${ct.makeMessage(t,o,s)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,s){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):s;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,s,r){if(!t||!r)return new qs({message:s,cause:Nu(o)});const f=o;return t===400?new Tg(t,f,s,r):t===401?new Sg(t,f,s,r):t===403?new _g(t,f,s,r):t===404?new Eg(t,f,s,r):t===409?new Cg(t,f,s,r):t===422?new Ag(t,f,s,r):t===429?new xg(t,f,s,r):t>=500?new Ng(t,f,s,r):new ct(t,f,s,r)}}class Ru extends ct{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class qs extends ct{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class vg extends qs{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Tg extends ct{}class Sg extends ct{}class _g extends ct{}class Eg extends ct{}class Cg extends ct{}class Ag extends ct{}class xg extends ct{}class Ng extends ct{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vx=/^[a-z][a-z0-9+.-]*:/i,Tx=i=>vx.test(i);let Mu=i=>(Mu=Array.isArray,Mu(i));const Sx=Mu;let _x=Sx;const bh=_x;function Ex(i){if(!i)return!0;for(const t in i)return!1;return!0}function Cx(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const Ax=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new zt(`${i} must be an integer`);if(t<0)throw new zt(`${i} must be a positive integer`);return t},xx=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nx=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $i="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rx(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Mx=()=>{var i,t,o,s,r;const f=Rx();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$i,"X-Stainless-OS":Dh(Deno.build.os),"X-Stainless-Arch":Ih(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$i,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$i,"X-Stainless-OS":Dh((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Ih((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const d=bx();return d?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$i,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${d.browser}`,"X-Stainless-Runtime-Version":d.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$i,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function bx(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const s=o.exec(navigator.userAgent);if(s){const r=s[1]||0,f=s[2]||0,d=s[3]||0;return{browser:t,version:`${r}.${f}.${d}`}}}return null}const Ih=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Dh=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Cs;const Ix=()=>Cs??(Cs=Mx());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dx(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Rg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function wx(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Rg({start(){},async pull(o){const{done:s,value:r}=await t.next();s?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function Mg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Ux(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const s=i.getReader(),r=s.cancel();s.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lx=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function pu(i,t,o){return bg(),new File(i,t??"unknown_file",o)}function Gx(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const Hx=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ig=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",Px=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Ig(i),Vx=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function qx(i,t,o){if(bg(),i=await i,Px(i))return i instanceof File?i:pu([await i.arrayBuffer()],i.name);if(Vx(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),pu(await bu(r),t,o)}const s=await bu(i);if(t||(t=Gx(i)),!(o!=null&&o.type)){const r=s.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return pu(s,t,o)}async function bu(i){var t,o,s,r,f;let d=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)d.push(i);else if(Ig(i))d.push(i instanceof Blob?i:await i.arrayBuffer());else if(Hx(i))try{for(var h=!0,y=Yt(i),g;g=await y.next(),t=g.done,!t;h=!0){r=g.value,h=!1;const v=r;d.push(...await bu(v))}}catch(v){o={error:v}}finally{try{!h&&!t&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}else{const v=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${zx(i)}`)}return d}function zx(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dg{constructor(t){this._client=t}}Dg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const wh=Object.freeze(Object.create(null)),kx=(i=wg)=>(function(o,...s){if(o.length===1)return o[0];let r=!1;const f=[],d=o.reduce((v,S,_)=>{var x,b,G;/[?#]/.test(S)&&(r=!0);const U=s[_];let B=(r?encodeURIComponent:i)(""+U);return _!==s.length&&(U==null||typeof U=="object"&&U.toString===((G=Object.getPrototypeOf((b=Object.getPrototypeOf((x=U.hasOwnProperty)!==null&&x!==void 0?x:wh))!==null&&b!==void 0?b:wh))===null||G===void 0?void 0:G.toString))&&(B=U+"",f.push({start:v.length+S.length,length:B.length,error:`Value of type ${Object.prototype.toString.call(U).slice(8,-1)} is not a valid path parameter`})),v+S+(_===s.length?"":B)},""),h=d.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=y.exec(h))!==null;)f.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(f.sort((v,S)=>v.start-S.start),f.length>0){let v=0;const S=f.reduce((_,x)=>{const b=" ".repeat(x.start-v),G="^".repeat(x.length);return v=x.start+x.length,_+b+G},"");throw new zt(`Path parameters result in path with invalid segments:
${f.map(_=>_.error).join(`
`)}
${d}
${S}`)}return d}),As=kx(wg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ug extends Dg{create(t,o){var s;const{api_version:r=this._client.apiVersion}=t,f=Us(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new zt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new zt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(As`/${r}/interactions`,Object.assign(Object.assign({body:f},o),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(As`/${r}/interactions/${t}`,s)}cancel(t,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(As`/${r}/interactions/${t}/cancel`,s)}get(t,o={},s){var r;const f=o??{},{api_version:d=this._client.apiVersion}=f,h=Us(f,["api_version"]);return this._client.get(As`/${d}/interactions/${t}`,Object.assign(Object.assign({query:h},s),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}Ug._key=Object.freeze(["interactions"]);class Lg extends Ug{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bx(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let s=0;for(const r of i)o.set(r,s),s+=r.length;return o}let xs;function Bu(i){let t;return(xs??(t=new globalThis.TextEncoder,xs=t.encode.bind(t)))(i)}let Ns;function Uh(i){let t;return(Ns??(t=new globalThis.TextDecoder,Ns=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zs{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Bu(t):t;this.buffer=Bx([this.buffer,o]);const s=[];let r;for(;(r=Ox(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){s.push(Uh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,d=Uh(this.buffer.subarray(0,f));s.push(d),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}zs.NEWLINE_CHARS=new Set([`
`,"\r"]);zs.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Ox(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function Fx(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ls={off:0,error:200,warn:300,info:400,debug:500},Lh=(i,t,o)=>{if(i){if(Cx(Ls,i))return i;ut(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Ls))}`)}};function il(){}function Rs(i,t,o){return!t||Ls[i]>Ls[o]?il:t[i].bind(t)}const Yx={error:il,warn:il,info:il,debug:il};let Gh=new WeakMap;function ut(i){var t;const o=i.logger,s=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return Yx;const r=Gh.get(o);if(r&&r[0]===s)return r[1];const f={error:Rs("error",o,s),warn:Rs("warn",o,s),info:Rs("info",o,s),debug:Rs("debug",o,s)};return Gh.set(o,[s,f]),f}const fi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ji{constructor(t,o,s){this.iterator=t,this.controller=o,this.client=s}static fromSSEResponse(t,o,s){let r=!1;const f=s?ut(s):console;function d(){return Ft(this,arguments,function*(){var y,g,v,S;if(r)throw new zt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var x=!0,b=Yt(Jx(t,o)),G;G=yield ae(b.next()),y=G.done,!y;x=!0){S=G.value,x=!1;const U=S;if(!_)if(U.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield ae(JSON.parse(U.data))}catch(B){throw f.error("Could not parse message into JSON:",U.data),f.error("From chunk:",U.raw),B}}}catch(U){g={error:U}}finally{try{!x&&!y&&(v=b.return)&&(yield ae(v.call(b)))}finally{if(g)throw g.error}}_=!0}catch(U){if(xu(U))return yield ae(void 0);throw U}finally{_||o.abort()}})}return new ji(d,o,s)}static fromReadableStream(t,o,s){let r=!1;function f(){return Ft(this,arguments,function*(){var y,g,v,S;const _=new zs,x=Mg(t);try{for(var b=!0,G=Yt(x),U;U=yield ae(G.next()),y=U.done,!y;b=!0){S=U.value,b=!1;const B=S;for(const Y of _.decode(B))yield yield ae(Y)}}catch(B){g={error:B}}finally{try{!b&&!y&&(v=G.return)&&(yield ae(v.call(G)))}finally{if(g)throw g.error}}for(const B of _.flush())yield yield ae(B)})}function d(){return Ft(this,arguments,function*(){var y,g,v,S;if(r)throw new zt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var x=!0,b=Yt(f()),G;G=yield ae(b.next()),y=G.done,!y;x=!0){S=G.value,x=!1;const U=S;_||U&&(yield yield ae(JSON.parse(U)))}}catch(U){g={error:U}}finally{try{!x&&!y&&(v=b.return)&&(yield ae(v.call(b)))}finally{if(g)throw g.error}}_=!0}catch(U){if(xu(U))return yield ae(void 0);throw U}finally{_||o.abort()}})}return new ji(d,o,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],s=this.iterator(),r=f=>({next:()=>{if(f.length===0){const d=s.next();t.push(d),o.push(d)}return f.shift()}});return[new ji(()=>r(t),this.controller,this.client),new ji(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return Rg({async start(){o=t[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:f}=await o.next();if(f)return s.close();const d=Bu(JSON.stringify(r)+`
`);s.enqueue(d)}catch(r){s.error(r)}},async cancel(){var s;await((s=o.return)===null||s===void 0?void 0:s.call(o))}})}}function Jx(i,t){return Ft(this,arguments,function*(){var s,r,f,d;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new zt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new zt("Attempted to iterate over a response with no body");const h=new Xx,y=new zs,g=Mg(i.body);try{for(var v=!0,S=Yt(Kx(g)),_;_=yield ae(S.next()),s=_.done,!s;v=!0){d=_.value,v=!1;const x=d;for(const b of y.decode(x)){const G=h.decode(b);G&&(yield yield ae(G))}}}catch(x){r={error:x}}finally{try{!v&&!s&&(f=S.return)&&(yield ae(f.call(S)))}finally{if(r)throw r.error}}for(const x of y.flush()){const b=h.decode(x);b&&(yield yield ae(b))}})}function Kx(i){return Ft(this,arguments,function*(){var o,s,r,f;let d=new Uint8Array;try{for(var h=!0,y=Yt(i),g;g=yield ae(y.next()),o=g.done,!o;h=!0){f=g.value,h=!1;const v=f;if(v==null)continue;const S=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Bu(v):v;let _=new Uint8Array(d.length+S.length);_.set(d),_.set(S,d.length),d=_;let x;for(;(x=Fx(d))!==-1;)yield yield ae(d.slice(0,x)),d=d.slice(x)}}catch(v){s={error:v}}finally{try{!h&&!o&&(r=y.return)&&(yield ae(r.call(y)))}finally{if(s)throw s.error}}d.length>0&&(yield yield ae(d))})}class Xx{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,s,r]=Qx(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function Qx(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Zx(i,t){const{response:o,requestLogID:s,retryOfRequestLogID:r,startTime:f}=t,d=await(async()=>{var h;if(t.options.stream)return ut(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):ji.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),g=(h=y==null?void 0:y.split(";")[0])===null||h===void 0?void 0:h.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?o.headers.get("content-length")==="0"?void 0:await o.json():await o.text()})();return ut(i).debug(`[${s}] response parsed`,fi({retryOfRequestLogID:r,url:o.url,status:o.status,body:d,durationMs:Date.now()-f})),d}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ou extends Promise{constructor(t,o,s=Zx){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new Ou(this.client,this.responsePromise,async(o,s)=>t(await this.parseResponse(o,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gg=Symbol("brand.privateNullableHeaders");function*$x(i){if(!i)return;if(Gg in i){const{values:s,nulls:r}=i;yield*s.entries();for(const f of r)yield[f,null];return}let t=!1,o;i instanceof Headers?o=i.entries():bh(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let s of o){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=bh(s[1])?s[1]:[s[1]];let d=!1;for(const h of f)h!==void 0&&(t&&!d&&(d=!0,yield[r,null]),yield[r,h])}}const nl=i=>{const t=new Headers,o=new Set;for(const s of i){const r=new Set;for(const[f,d]of $x(s)){const h=f.toLowerCase();r.has(h)||(t.delete(f),r.add(h)),d===null?(t.delete(f),o.add(h)):(t.append(f,d),o.delete(h))}}return{[Gg]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mu=i=>{var t,o,s,r,f,d;if(typeof globalThis.process<"u")return(s=(o=(t=TT)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(d=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||d===void 0?void 0:d.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hg;class ks{constructor(t){var o,s,r,f,d,h,y,{baseURL:g=mu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=mu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:S="v1beta"}=t,_=Us(t,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:v,apiVersion:S},_),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(s=x.timeout)!==null&&s!==void 0?s:ks.DEFAULT_TIMEOUT,this.logger=(r=x.logger)!==null&&r!==void 0?r:console;const b="warn";this.logLevel=b,this.logLevel=(d=(f=Lh(x.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:Lh(mu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&d!==void 0?d:b,this.fetchOptions=x.fetchOptions,this.maxRetries=(h=x.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(y=x.fetch)!==null&&y!==void 0?y:Dx(),this.encoder=Lx,this._options=x,this.apiKey=v,this.apiVersion=S,this.clientAdapter=x.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=nl([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return nl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return nl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,s])=>typeof s<"u").map(([o,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(o)}=`;throw new zt(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${$i}`}defaultIdempotencyKey(){return`stainless-node-retry-${yx()}`}makeStatusError(t,o,s,r){return ct.generate(t,o,s,r)}buildURL(t,o,s){const r=!this.baseURLOverridden()&&s||this.baseURL,f=Tx(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),d=this.defaultQuery();return Ex(d)||(o=Object.assign(Object.assign({},d),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(f.search=this.stringifyQuery(o)),f.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:s}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,s){return this.request(Promise.resolve(s).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new Ou(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,s){var r,f,d;const h=await t,y=(r=h.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(h);const{req:g,url:v,timeout:S}=await this.buildRequest(h,{retryCount:y-o});await this.prepareRequest(g,{url:v,options:h});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=s===void 0?"":`, retryOf: ${s}`,b=Date.now();if(ut(this).debug(`[${_}] sending request`,fi({retryOfRequestLogID:s,method:h.method,url:v,options:h,headers:g.headers})),!((f=h.signal)===null||f===void 0)&&f.aborted)throw new Ru;const G=new AbortController,U=await this.fetchWithTimeout(v,g,S,G).catch(Nu),B=Date.now();if(U instanceof globalThis.Error){const F=`retrying, ${o} attempts remaining`;if(!((d=h.signal)===null||d===void 0)&&d.aborted)throw new Ru;const J=xu(U)||/timed? ?out/i.test(String(U)+("cause"in U?String(U.cause):""));if(o)return ut(this).info(`[${_}] connection ${J?"timed out":"failed"} - ${F}`),ut(this).debug(`[${_}] connection ${J?"timed out":"failed"} (${F})`,fi({retryOfRequestLogID:s,url:v,durationMs:B-b,message:U.message})),this.retryRequest(h,o,s??_);throw ut(this).info(`[${_}] connection ${J?"timed out":"failed"} - error; no more retries left`),ut(this).debug(`[${_}] connection ${J?"timed out":"failed"} (error; no more retries left)`,fi({retryOfRequestLogID:s,url:v,durationMs:B-b,message:U.message})),J?new vg:new qs({cause:U})}const Y=`[${_}${x}] ${g.method} ${v} ${U.ok?"succeeded":"failed"} with status ${U.status} in ${B-b}ms`;if(!U.ok){const F=await this.shouldRetry(U);if(o&&F){const $=`retrying, ${o} attempts remaining`;return await Ux(U.body),ut(this).info(`${Y} - ${$}`),ut(this).debug(`[${_}] response error (${$})`,fi({retryOfRequestLogID:s,url:U.url,status:U.status,headers:U.headers,durationMs:B-b})),this.retryRequest(h,o,s??_,U.headers)}const J=F?"error; no more retries left":"error; not retryable";ut(this).info(`${Y} - ${J}`);const z=await U.text().catch($=>Nu($).message),ie=xx(z),K=ie?void 0:z;throw ut(this).debug(`[${_}] response error (${J})`,fi({retryOfRequestLogID:s,url:U.url,status:U.status,headers:U.headers,message:K,durationMs:Date.now()-b})),this.makeStatusError(U.status,ie,K,U.headers)}return ut(this).info(Y),ut(this).debug(`[${_}] response start`,fi({retryOfRequestLogID:s,url:U.url,status:U.status,headers:U.headers,durationMs:B-b})),{response:U,options:h,controller:G,requestLogID:_,retryOfRequestLogID:s,startTime:b}}async fetchWithTimeout(t,o,s,r){const f=o||{},{signal:d,method:h}=f,y=Us(f,["signal","method"]),g=r.abort.bind(r);d&&d.addEventListener("abort",g,{once:!0});const v=setTimeout(g,s),S=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,_=Object.assign(Object.assign(Object.assign({signal:r.signal},S?{duplex:"half"}:{}),{method:"GET"}),y);h&&(_.method=h.toUpperCase());try{return await this.fetch.call(void 0,t,_)}finally{clearTimeout(v)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,s,r){var f;let d;const h=r==null?void 0:r.get("retry-after-ms");if(h){const g=parseFloat(h);Number.isNaN(g)||(d=g)}const y=r==null?void 0:r.get("retry-after");if(y&&!d){const g=parseFloat(y);Number.isNaN(g)?d=Date.parse(y)-Date.now():d=g*1e3}if(!(d&&0<=d&&d<60*1e3)){const g=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;d=this.calculateDefaultRetryTimeoutMillis(o,g)}return await Nx(d),this.makeRequest(t,o-1,s)}calculateDefaultRetryTimeoutMillis(t,o){const f=o-t,d=Math.min(.5*Math.pow(2,f),8),h=1-Math.random()*.25;return d*h*1e3}async buildRequest(t,{retryCount:o=0}={}){var s,r,f;const d=Object.assign({},t),{method:h,path:y,query:g,defaultBaseURL:v}=d,S=this.buildURL(y,g,v);"timeout"in d&&Ax("timeout",d.timeout),d.timeout=(s=d.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:_,body:x}=this.buildBody({options:d}),b=await this.buildHeaders({options:t,method:h,bodyHeaders:_,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:b},d.signal&&{signal:d.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=d.fetchOptions)!==null&&f!==void 0?f:{}),url:S,timeout:d.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:s,retryCount:r}){let f={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const d=await this.authHeaders(t);let h=nl([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Ix()),this._options.defaultHeaders,s,t.headers,d]);return this.validateHeaders(h),h.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=nl([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:wx(t)}:this.encoder({body:t,headers:s})}}ks.DEFAULT_TIMEOUT=6e4;class We extends ks{constructor(){super(...arguments),this.interactions=new Lg(this)}}Hg=We;We.GeminiNextGenAPIClient=Hg;We.GeminiNextGenAPIClientError=zt;We.APIError=ct;We.APIConnectionError=qs;We.APIConnectionTimeoutError=vg;We.APIUserAbortError=Ru;We.NotFoundError=Eg;We.ConflictError=Cg;We.RateLimitError=xg;We.BadRequestError=Tg;We.AuthenticationError=Sg;We.InternalServerError=Ng;We.PermissionDeniedError=_g;We.UnprocessableEntityError=Ag;We.toFile=qx;We.Interactions=Lg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wx(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function jx(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function eN(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function tN(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function nN(i,t,o){const s={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const d=u(i,["learningRateMultiplier"]);if(d!=null&&c(s,["tuningTask","hyperparameters","learningRateMultiplier"],d),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(u(i,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(u(i,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const h=u(i,["batchSize"]);t!==void 0&&h!=null&&c(t,["tuningTask","hyperparameters","batchSize"],h);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(u(i,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(u(i,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(u(i,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(u(i,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return s}function iN(i,t,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const z=u(i,["validationDataset"]);t!==void 0&&z!=null&&c(t,["supervisedTuningSpec"],hu(z))}else if(r==="PREFERENCE_TUNING"){const z=u(i,["validationDataset"]);t!==void 0&&z!=null&&c(t,["preferenceOptimizationSpec"],hu(z))}else if(r==="DISTILLATION"){const z=u(i,["validationDataset"]);t!==void 0&&z!=null&&c(t,["distillationSpec"],hu(z))}const f=u(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const d=u(i,["description"]);t!==void 0&&d!=null&&c(t,["description"],d);let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const z=u(i,["epochCount"]);t!==void 0&&z!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],z)}else if(h==="PREFERENCE_TUNING"){const z=u(i,["epochCount"]);t!==void 0&&z!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],z)}else if(h==="DISTILLATION"){const z=u(i,["epochCount"]);t!==void 0&&z!=null&&c(t,["distillationSpec","hyperParameters","epochCount"],z)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const z=u(i,["learningRateMultiplier"]);t!==void 0&&z!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],z)}else if(y==="PREFERENCE_TUNING"){const z=u(i,["learningRateMultiplier"]);t!==void 0&&z!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],z)}else if(y==="DISTILLATION"){const z=u(i,["learningRateMultiplier"]);t!==void 0&&z!=null&&c(t,["distillationSpec","hyperParameters","learningRateMultiplier"],z)}let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const z=u(i,["exportLastCheckpointOnly"]);t!==void 0&&z!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],z)}else if(g==="PREFERENCE_TUNING"){const z=u(i,["exportLastCheckpointOnly"]);t!==void 0&&z!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],z)}else if(g==="DISTILLATION"){const z=u(i,["exportLastCheckpointOnly"]);t!==void 0&&z!=null&&c(t,["distillationSpec","exportLastCheckpointOnly"],z)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const z=u(i,["adapterSize"]);t!==void 0&&z!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],z)}else if(v==="PREFERENCE_TUNING"){const z=u(i,["adapterSize"]);t!==void 0&&z!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],z)}else if(v==="DISTILLATION"){const z=u(i,["adapterSize"]);t!==void 0&&z!=null&&c(t,["distillationSpec","hyperParameters","adapterSize"],z)}let S=u(o,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const z=u(i,["tuningMode"]);t!==void 0&&z!=null&&c(t,["supervisedTuningSpec","tuningMode"],z)}const _=u(i,["customBaseModel"]);t!==void 0&&_!=null&&c(t,["customBaseModel"],_);let x=u(o,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const z=u(i,["batchSize"]);t!==void 0&&z!=null&&c(t,["supervisedTuningSpec","hyperParameters","batchSize"],z)}let b=u(o,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const z=u(i,["learningRate"]);t!==void 0&&z!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRate"],z)}const G=u(i,["labels"]);t!==void 0&&G!=null&&c(t,["labels"],G);const U=u(i,["beta"]);t!==void 0&&U!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],U);const B=u(i,["baseTeacherModel"]);t!==void 0&&B!=null&&c(t,["distillationSpec","baseTeacherModel"],B);const Y=u(i,["tunedTeacherModelSource"]);t!==void 0&&Y!=null&&c(t,["distillationSpec","tunedTeacherModelSource"],Y);const F=u(i,["sftLossWeightMultiplier"]);t!==void 0&&F!=null&&c(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],F);const J=u(i,["outputUri"]);return t!==void 0&&J!=null&&c(t,["outputUri"],J),s}function oN(i,t){const o={},s=u(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&hN(f);const d=u(i,["config"]);return d!=null&&nN(d,o),o}function lN(i,t){const o={},s=u(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&gN(f,o,t);const d=u(i,["config"]);return d!=null&&iN(d,o,t),o}function sN(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function aN(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function rN(i,t,o){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const d=u(i,["filter"]);return t!==void 0&&d!=null&&c(t,["_query","filter"],d),s}function uN(i,t,o){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const d=u(i,["filter"]);return t!==void 0&&d!=null&&c(t,["_query","filter"],d),s}function cN(i,t){const o={},s=u(i,["config"]);return s!=null&&rN(s,o),o}function fN(i,t){const o={},s=u(i,["config"]);return s!=null&&uN(s,o),o}function dN(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let d=f;Array.isArray(d)&&(d=d.map(h=>Pg(h))),c(o,["tuningJobs"],d)}return o}function pN(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let d=f;Array.isArray(d)&&(d=d.map(h=>Iu(h))),c(o,["tuningJobs"],d)}return o}function mN(i,t){const o={},s=u(i,["name"]);s!=null&&c(o,["model"],s);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function hN(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(i,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>f)),c(o,["examples","examples"],r)}return o}function gN(i,t,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const d=u(i,["gcsUri"]);t!==void 0&&d!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(r==="PREFERENCE_TUNING"){const d=u(i,["gcsUri"]);t!==void 0&&d!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}else if(r==="DISTILLATION"){const d=u(i,["gcsUri"]);t!==void 0&&d!=null&&c(t,["distillationSpec","promptDatasetUri"],d)}let f=u(o,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const d=u(i,["vertexDatasetResource"]);t!==void 0&&d!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(f==="PREFERENCE_TUNING"){const d=u(i,["vertexDatasetResource"]);t!==void 0&&d!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}else if(f==="DISTILLATION"){const d=u(i,["vertexDatasetResource"]);t!==void 0&&d!=null&&c(t,["distillationSpec","promptDatasetUri"],d)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Pg(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],jh(f));const d=u(i,["createTime"]);d!=null&&c(o,["createTime"],d);const h=u(i,["tuningTask","startTime"]);h!=null&&c(o,["startTime"],h);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const g=u(i,["updateTime"]);g!=null&&c(o,["updateTime"],g);const v=u(i,["description"]);v!=null&&c(o,["description"],v);const S=u(i,["baseModel"]);S!=null&&c(o,["baseModel"],S);const _=u(i,["_self"]);return _!=null&&c(o,["tunedModel"],mN(_)),o}function Iu(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],jh(f));const d=u(i,["createTime"]);d!=null&&c(o,["createTime"],d);const h=u(i,["startTime"]);h!=null&&c(o,["startTime"],h);const y=u(i,["endTime"]);y!=null&&c(o,["endTime"],y);const g=u(i,["updateTime"]);g!=null&&c(o,["updateTime"],g);const v=u(i,["error"]);v!=null&&c(o,["error"],v);const S=u(i,["description"]);S!=null&&c(o,["description"],S);const _=u(i,["baseModel"]);_!=null&&c(o,["baseModel"],_);const x=u(i,["tunedModel"]);x!=null&&c(o,["tunedModel"],x);const b=u(i,["preTunedModel"]);b!=null&&c(o,["preTunedModel"],b);const G=u(i,["supervisedTuningSpec"]);G!=null&&c(o,["supervisedTuningSpec"],G);const U=u(i,["preferenceOptimizationSpec"]);U!=null&&c(o,["preferenceOptimizationSpec"],U);const B=u(i,["distillationSpec"]);B!=null&&c(o,["distillationSpec"],B);const Y=u(i,["tuningDataStats"]);Y!=null&&c(o,["tuningDataStats"],Y);const F=u(i,["encryptionSpec"]);F!=null&&c(o,["encryptionSpec"],F);const J=u(i,["partnerModelTuningSpec"]);J!=null&&c(o,["partnerModelTuningSpec"],J);const z=u(i,["customBaseModel"]);z!=null&&c(o,["customBaseModel"],z);const ie=u(i,["experiment"]);ie!=null&&c(o,["experiment"],ie);const K=u(i,["labels"]);K!=null&&c(o,["labels"],K);const se=u(i,["outputUri"]);se!=null&&c(o,["outputUri"],se);const $=u(i,["pipelineJob"]);$!=null&&c(o,["pipelineJob"],$);const O=u(i,["serviceAccount"]);O!=null&&c(o,["serviceAccount"],O);const le=u(i,["tunedModelDisplayName"]);le!=null&&c(o,["tunedModelDisplayName"],le);const ve=u(i,["veoTuningSpec"]);return ve!=null&&c(o,["veoTuningSpec"],ve),o}function yN(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["metadata"]);f!=null&&c(o,["metadata"],f);const d=u(i,["done"]);d!=null&&c(o,["done"],d);const h=u(i,["error"]);return h!=null&&c(o,["error"],h),o}function hu(i,t){const o={},s=u(i,["gcsUri"]);s!=null&&c(o,["validationDatasetUri"],s);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vN extends yn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new di(gn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),f=await this.tuneMldevInternal(r);let d="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?d=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(d=f.name.split("/operations/")[0]),{name:d,state:yu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=aN(t);return h=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>Iu(v))}else{const g=sN(t);return h=Q("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>Pg(v))}}async listInternal(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=fN(t);return h=Q("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=pN(v),_=new rh;return Object.assign(_,S),_})}else{const g=cN(t);return h=Q("tunedModels",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=dN(v),_=new rh;return Object.assign(_,S),_})}}async cancel(t){var o,s,r,f;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=jx(t);return h=Q("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=tN(v),_=new uh;return Object.assign(_,S),_})}else{const g=Wx(t);return h=Q("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const S=eN(v),_=new uh;return Object.assign(_,S),_})}}async tuneInternal(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI()){const h=lN(t,t);return f=Q("tuningJobs",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Iu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,s;let r,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=oN(t);return f=Q("tunedModels",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>yN(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TN{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const SN=1024*1024*8,_N=3,EN=1e3,CN=2,Gs="x-goog-upload-status";async function AN(i,t,o){var s;const r=await Vg(i,t,o),f=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Gs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function xN(i,t,o){var s;const r=await Vg(i,t,o),f=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Gs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=Kh(f),h=new Hu;return Object.assign(h,d),h}async function Vg(i,t,o){var s,r;let f=0,d=0,h=new Tu(new Response),y="upload";for(f=i.size;d<f;){const g=Math.min(SN,f-d),v=i.slice(d,d+g);d+g>=f&&(y+=", finalize");let S=0,_=EN;for(;S<_N&&(h=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(d),"Content-Length":String(g)}}}),!(!((s=h==null?void 0:h.headers)===null||s===void 0)&&s[Gs]));)S++,await RN(_),_=_*CN;if(d+=g,((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r[Gs])!=="active")break;if(f<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function NN(i){return{size:i.size,type:i.type}}function RN(i){return new Promise(t=>setTimeout(t,i))}class MN{async upload(t,o,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await AN(t,o,s)}async uploadToFileSearchStore(t,o,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await xN(t,o,s)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await NN(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bN{create(t,o,s){return new IN(t,o,s)}}class IN{constructor(t,o,s){this.url=t,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hh="x-goog-api-key";class DN{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(Hh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Hh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wN="gl-node/";class UN{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new We({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const s=CT(t.httpOptions,t.vertexai,void 0,void 0);s&&(t.httpOptions?t.httpOptions.baseUrl=s:t.httpOptions={baseUrl:s}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new DN(this.apiKey);this.apiClient=new NA({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:wN+"web",uploader:new MN,downloader:new TN}),this.models=new YA(this.apiClient),this.live=new qA(this.apiClient,r,new bN),this.batches=new jS(this.apiClient),this.chats=new L_(this.models,this.apiClient),this.caches=new D_(this.apiClient),this.files=new J_(this.apiClient),this.operations=new JA(this.apiClient),this.authTokens=new rx(this.apiClient),this.tunings=new vN(this.apiClient),this.fileSearchStores=new gx(this.apiClient)}}const LN=async i=>{const t=new UN({apiKey:void 0}),o=`
    Analyze the following patient data for a diagnosis of Sandhigata Vata (Osteoarthritis).
    
    Patient Name: ${i.demographics.name}
    Age: ${i.demographics.age}
    Gender: ${i.demographics.gender}
    Occupation: ${i.demographics.occupation}
    
    Symptoms Assessment:
    1. Joint Pain: ${i.symptoms.hasJointPain} (VAS: ${i.symptoms.painIntensity}/10, Duration: ${i.symptoms.painDuration}, Onset: ${i.symptoms.painOnset})
    2. Pain Type: ${i.symptoms.painTypes.join(", ")}
    3. Swelling: ${i.symptoms.swelling} (Duration: ${i.symptoms.swellingDuration})
    4. Stiffness: ${i.symptoms.stiffness} (${i.symptoms.stiffnessDuration})
    5. Crepitus: ${i.symptoms.crepitus}
    6. Shifting Pain: ${i.symptoms.shiftingPain}
    7. Warmth: ${i.symptoms.warmth}
    8. Fever: ${i.symptoms.fever}
    9. Discoloration: ${i.symptoms.discoloration}
    10. Effect of Oil/Massage: ${i.symptoms.oilMassageEffect}
    
    11. Affected Joints: ${i.affectedJoints.join(", ")}
    
    Lab Results:
    - ESR: ${i.labs.esr||"N/A"}
    - RA Factor: ${i.labs.raFactor||"N/A"}
    - Uric Acid: ${i.labs.uricAcid||"N/A"}
    
    Please provide a concise clinical summary, severity assessment, and general Ayurvedic dietary (Pathya/Apathya) and lifestyle recommendations based on the specific symptoms reported.
    Format the response in Markdown.
  `;try{return(await t.models.generateContent({model:"gemini-3-pro-preview",contents:o,config:{systemInstruction:"You are an expert Ayurvedic practitioner and Rheumatologist. Provide accurate clinical analysis and recommendations.",thinkingConfig:{thinkingBudget:4096}}})).text||"No response generated."}catch(s){return console.error("Error generating report:",s),"Error generating report. Please try again later."}},GN=({patient:i,onBack:t})=>{const[o,s]=Je.useState(null),[r,f]=Je.useState(!1),d=Oh(i),h=async()=>{f(!0);const g=await LN(i);s(g),f(!1)},y=({label:g,value:v,isValid:S})=>E.jsxs("div",{className:`p-4 rounded-lg border ${S===!1?"bg-red-50 border-red-200":"bg-gray-50 border-gray-100"}`,children:[E.jsx("span",{className:"block text-xs text-gray-500 uppercase font-bold mb-1",children:g}),E.jsxs("span",{className:`text-md font-medium ${S===!1?"text-red-700":"text-gray-800"}`,children:[v||"N/A"," ",S===!1&&"(Invalid)"]})]});return E.jsxs("div",{className:"max-w-5xl mx-auto p-4 md:p-8 animate-fadeIn",children:[E.jsxs("button",{onClick:t,className:"mb-6 flex items-center text-gray-500 hover:text-ayur-600 transition-colors font-medium",children:[E.jsx(qh,{className:"w-5 h-5 mr-2"})," Back to List"]}),E.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[E.jsxs("div",{className:"bg-ayur-600 text-white p-6 md:p-8 flex flex-col md:flex-row justify-between items-start md:items-center",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-3xl font-bold mb-2",children:i.demographics.name}),E.jsxs("div",{className:"flex flex-wrap gap-4 text-ayur-100 text-sm",children:[E.jsxs("span",{className:"flex items-center",children:[E.jsx(Bh,{className:"w-4 h-4 mr-1"})," ",i.demographics.age," Years, ",i.demographics.gender]}),E.jsxs("span",{className:"opacity-75",children:["ID: ",i.demographics.opdIpdNo||"N/A"]}),E.jsxs("span",{className:"opacity-75",children:["Date: ",new Date(i.createdAt).toLocaleDateString()]})]})]}),E.jsxs("button",{onClick:()=>window.print(),className:"mt-4 md:mt-0 bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg backdrop-blur-sm flex items-center text-sm font-semibold transition-colors",children:[E.jsx(W0,{className:"w-4 h-4 mr-2"})," Print Record"]})]}),E.jsx("div",{className:`p-6 border-b ${d.isPositive?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:E.jsxs("div",{className:"flex items-start",children:[d.isPositive?E.jsx(zh,{className:"w-8 h-8 text-green-600 mt-1 flex-shrink-0"}):E.jsx(kh,{className:"w-8 h-8 text-red-600 mt-1 flex-shrink-0"}),E.jsxs("div",{className:"ml-4",children:[E.jsx("h2",{className:`text-xl font-bold ${d.isPositive?"text-green-800":"text-red-800"}`,children:d.isPositive?"Positive for Sandhigata Vata":"Negative for Sandhigata Vata"}),E.jsx("p",{className:`text-sm mt-1 ${d.isPositive?"text-green-700":"text-red-700"}`,children:d.isPositive?"All strict diagnostic criteria for Sandhigata Vata are met.":"The patient does not meet all criteria. Failed criteria are highlighted in red below."}),!d.isPositive&&d.reasons.length>0&&E.jsxs("div",{className:"mt-3",children:[E.jsx("p",{className:"text-xs font-bold text-red-800 uppercase mb-1",children:"Unmet Criteria Summary:"}),E.jsx("ul",{className:"list-disc list-inside text-sm text-red-700 space-y-1",children:d.reasons.map((g,v)=>E.jsx("li",{children:g},v))})]})]})]})}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3",children:[E.jsxs("div",{className:"lg:col-span-2 p-6 md:p-8 space-y-8",children:[E.jsxs("section",{children:[E.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2 border-gray-200",children:"Questionnaire Responses"}),E.jsxs("div",{className:`mb-6 p-4 rounded-lg border ${!d.criteria.jointPain||!d.criteria.onset?"bg-red-50 border-red-200":"bg-gray-50 border-gray-100"}`,children:[E.jsx("label",{className:"text-sm font-semibold text-gray-500 mb-2 block",children:"1. Pain Intensity"}),E.jsx(Yh,{value:i.symptoms.painIntensity,onChange:()=>{},readOnly:!0}),E.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-4 text-sm",children:[E.jsxs("div",{className:d.criteria.jointPain?"":"text-red-600 font-bold",children:[E.jsx("span",{className:"text-gray-500",children:"Joint Pain:"})," ",i.symptoms.hasJointPain]}),E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-500",children:"Duration:"})," ",i.symptoms.painDuration]}),E.jsxs("div",{className:d.criteria.onset?"":"text-red-600 font-bold",children:[E.jsx("span",{className:"text-gray-500",children:"Onset:"})," ",i.symptoms.painOnset]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[E.jsx(y,{label:"2. Type of Pain",value:i.symptoms.painTypes.join(", "),isValid:d.criteria.painType}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx(y,{label:"3. Swelling",value:`${i.symptoms.swelling} ${i.symptoms.swelling!=="Never"?`(Since: ${i.symptoms.swellingDuration})`:""}`,isValid:d.criteria.swelling}),E.jsx(y,{label:"4. Stiffness",value:`${i.symptoms.stiffness} ${i.symptoms.stiffness==="Yes"?`(${i.symptoms.stiffnessDuration})`:""}`,isValid:d.criteria.stiffness})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx(y,{label:"5. Crepitus",value:i.symptoms.crepitus,isValid:d.criteria.crepitus}),E.jsx(y,{label:"6. Shifting Pain",value:i.symptoms.shiftingPain,isValid:d.criteria.shiftingPain})]}),E.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[E.jsx(y,{label:"7. Warmth",value:i.symptoms.warmth,isValid:d.criteria.warmth}),E.jsx(y,{label:"8. Fever",value:i.symptoms.fever,isValid:d.criteria.fever}),E.jsx(y,{label:"9. Discoloration",value:i.symptoms.discoloration,isValid:d.criteria.discoloration})]}),E.jsx(y,{label:"10. Oil/Massage Effect",value:i.symptoms.oilMassageEffect,isValid:d.criteria.oilEffect})]})]}),E.jsxs("section",{children:[E.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 border-b pb-2 border-gray-200",children:"Laboratory & Imaging"}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:Object.entries(i.labs).filter(([g])=>g!=="xrayImage"&&g!=="xrayReport"&&g!=="other").map(([g,v])=>v&&E.jsxs("div",{className:"p-3 border rounded",children:[E.jsx("span",{className:"block text-xs text-gray-500 uppercase font-bold mb-1",children:g.replace(/([A-Z])/g," $1").trim()}),E.jsx("span",{className:"font-mono text-gray-800",children:v})]},g))}),i.labs.xrayImage&&E.jsxs("div",{className:"mt-4",children:[E.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-2",children:"X-Ray Image"}),E.jsx("img",{src:i.labs.xrayImage,alt:"Xray",className:"max-h-64 rounded-lg border shadow-sm"}),i.labs.xrayReport&&E.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["File: ",i.labs.xrayReport]})]})]}),E.jsxs("section",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-6 border border-indigo-100",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsxs("h2",{className:"text-lg font-bold text-indigo-900 flex items-center",children:[E.jsx(F0,{className:"w-5 h-5 mr-2"})," AI Clinical Assistant"]}),!o&&E.jsxs("button",{onClick:h,disabled:r,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-semibold shadow transition-all flex items-center disabled:opacity-70",children:[r?E.jsx(eT,{className:"w-4 h-4 mr-2 animate-spin"}):null,r?"Analyzing...":"Generate Report"]})]}),r&&E.jsxs("div",{className:"animate-pulse space-y-2",children:[E.jsx("div",{className:"h-4 bg-indigo-200 rounded w-3/4"}),E.jsx("div",{className:"h-4 bg-indigo-200 rounded w-full"}),E.jsx("div",{className:"h-4 bg-indigo-200 rounded w-5/6"})]}),o&&E.jsx("div",{className:"prose prose-sm max-w-none text-gray-800 bg-white p-4 rounded-lg border border-indigo-100 shadow-sm whitespace-pre-wrap font-sans",children:o}),!o&&!r&&E.jsx("p",{className:"text-sm text-indigo-400 italic",children:"Click above to generate a diagnosis summary and Pathya/Apathya (diet) recommendations using Gemini AI."}),E.jsxs("div",{className:"mt-2 flex items-center text-xs text-amber-600 bg-amber-50 p-2 rounded",children:[E.jsx(z0,{className:"w-3 h-3 mr-1"})," API Key not detected in environment. AI features may be disabled."]})]})]}),E.jsxs("div",{className:"bg-gray-50 border-l border-gray-200 p-6 md:p-8",children:[E.jsxs("div",{className:"mb-8",children:[E.jsxs("h3",{className:`font-bold text-center mb-4 ${d.criteria.affectedJoints?"text-gray-700":"text-red-600"}`,children:["Affected Joints (Q11)",!d.criteria.affectedJoints&&E.jsx("span",{className:"block text-xs font-normal mt-1",children:"(Must include Knee, Spine, or Hip)"})]}),E.jsx("div",{className:`bg-white rounded-xl shadow-sm p-2 ${d.criteria.affectedJoints?"":"border-2 border-red-300"}`,children:E.jsx(Jh,{selectedJoints:i.affectedJoints,onChange:()=>{},readOnly:!0})})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-gray-700 mb-4 border-b pb-2",children:"Patient Details"}),E.jsxs("ul",{className:"space-y-3 text-sm",children:[E.jsxs("li",{className:"flex flex-col",children:[E.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Address"}),E.jsx("span",{className:"font-medium text-gray-800",children:i.demographics.address||"N/A"})]}),E.jsxs("li",{className:"flex flex-col",children:[E.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Occupation"}),E.jsx("span",{className:"font-medium text-gray-800",children:i.demographics.occupation||"N/A"})]}),E.jsxs("li",{className:"flex flex-col",children:[E.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Contact"}),E.jsx("span",{className:"font-medium text-gray-800",children:i.demographics.contact||"N/A"})]})]})]})]})]})]})]})};function HN(){const[i,t]=Je.useState(Vt.LIST),[o,s]=Je.useState([]),[r,f]=Je.useState(null);Je.useEffect(()=>{d()},[]);const d=()=>{const S=Uu();s([...S])},h=S=>{_0(S),d(),t(Vt.LIST)},y=S=>{window.confirm("Are you sure you want to permanently delete this patient record?")&&(console.log("[App] Deleting patient",S),E0([S]),s(_=>_.filter(x=>x.id!==S)),(r==null?void 0:r.id)===S&&(f(null),t(Vt.LIST)),d())},g=S=>{f(S),t(Vt.PATIENT_DETAIL)},v=()=>{t(Vt.NEW_PATIENT)};return E.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900 pb-20",children:[E.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:E.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:E.jsx("div",{className:"flex justify-between h-16",children:E.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>t(Vt.LIST),children:[E.jsx("div",{className:"w-8 h-8 bg-ayur-600 rounded-lg flex items-center justify-center mr-2",children:E.jsx("span",{className:"text-white font-bold text-xl",children:"S"})}),E.jsxs("span",{className:"text-xl font-bold text-gray-800 tracking-tight",children:["Sandhigata",E.jsx("span",{className:"text-ayur-600",children:"Vata"})]})]})})})}),E.jsxs("main",{className:"pt-6",children:[i===Vt.LIST&&E.jsx(uT,{patients:o,onSelect:g,onDelete:y,onNew:v}),i===Vt.NEW_PATIENT&&E.jsx(vT,{onSave:h,onCancel:()=>t(Vt.LIST)}),i===Vt.PATIENT_DETAIL&&r&&E.jsx(GN,{patient:r,onBack:()=>t(Vt.LIST)})]})]})}const qg=document.getElementById("root");if(!qg)throw new Error("Could not find root element to mount to");const PN=S0.createRoot(qg);PN.render(E.jsx(d0.StrictMode,{children:E.jsx(HN,{})}));
